---
uid: aspnet/overview/owin-and-katana/an-overview-of-project-katana
title: Uma visão geral do projeto Katana | Microsoft Docs
author: howarddierking
description: A estrutura do ASP.NET já existe há mais de 10 anos, e a plataforma habilitou o desenvolvimento de inúmeros sites e serviços. Como o aplicativo da Web...
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/30/2013
ms.topic: article
ms.assetid: 0ee21741-c1bf-4025-a9b0-24580cae24bc
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/owin-and-katana/an-overview-of-project-katana
msc.type: authoredcontent
ms.openlocfilehash: 3c2bcbbc6e506af759f6d77af17d015278cc0bdf
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/06/2018
---
<a name="an-overview-of-project-katana"></a><span data-ttu-id="b5e72-104">Uma visão geral do projeto Katana</span><span class="sxs-lookup"><span data-stu-id="b5e72-104">An Overview of Project Katana</span></span>
====================
<span data-ttu-id="b5e72-105">por [Howard Dierking](https://github.com/howarddierking)</span><span class="sxs-lookup"><span data-stu-id="b5e72-105">by [Howard Dierking](https://github.com/howarddierking)</span></span>

> <span data-ttu-id="b5e72-106">A estrutura do ASP.NET já existe há mais de 10 anos, e a plataforma habilitou o desenvolvimento de inúmeros sites e serviços.</span><span class="sxs-lookup"><span data-stu-id="b5e72-106">The ASP.NET Framework has been around for over ten years, and the platform has enabled the development of countless Web sites and services.</span></span> <span data-ttu-id="b5e72-107">Como evoluíram estratégias de desenvolvimento de aplicativo Web, a estrutura foi capaz de evoluir na etapa com tecnologias como ASP.NET MVC e a API da Web do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b5e72-107">As Web application development strategies have evolved, the framework has been able to evolve in step with technologies like ASP.NET MVC and ASP.NET Web API.</span></span> <span data-ttu-id="b5e72-108">Como o desenvolvimento de aplicativo Web entra em seu próximo passo para o mundo da computação em nuvem, projeto [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) fornece o conjunto subjacente de componentes para aplicativos ASP.NET, permitindo que eles sejam flexível, portátil, leve e oferecer melhor desempenho – em outras palavras, o projeto [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) nuvem otimiza os aplicativos ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b5e72-108">As Web application development takes its next evolutionary step into the world of cloud computing, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) provides the underlying set of components to ASP.NET applications, enabling them to be flexible, portable, lightweight, and provide better performance – put another way, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) cloud optimizes your ASP.NET applications.</span></span>


## <a name="why-katana--why-now"></a><span data-ttu-id="b5e72-109">Por que Katana – por que agora?</span><span class="sxs-lookup"><span data-stu-id="b5e72-109">Why Katana – Why Now?</span></span>

 <span data-ttu-id="b5e72-110">Independentemente se um estiver discutindo um produto de framework ou do usuário final do desenvolvedor, é importante entender as motivações subjacentes para a criação do produto e a parte do que inclui saber quem o produto foi criado para.</span><span class="sxs-lookup"><span data-stu-id="b5e72-110">Regardless whether one is discussing a developer framework or end-user product, it's important to understand the underlying motivations for creating the product – and part of that includes knowing who the product was created for.</span></span> <span data-ttu-id="b5e72-111">ASP.NET foi criado originalmente com dois clientes em mente.</span><span class="sxs-lookup"><span data-stu-id="b5e72-111">ASP.NET was originally created with two customers in mind.</span></span>   
  
<span data-ttu-id="b5e72-112">**O primeiro grupo de clientes foi desenvolvedores ASP clássicos.**</span><span class="sxs-lookup"><span data-stu-id="b5e72-112">**The first group of customers was classic ASP developers.**</span></span> <span data-ttu-id="b5e72-113">No momento, o ASP foi uma das tecnologias principais para criar dinâmicos, controlados por dados sites e aplicativos Web por interweaving marcação e o script do lado do servidor.</span><span class="sxs-lookup"><span data-stu-id="b5e72-113">At the time, ASP was one of the primary technologies for creating dynamic, data-driven Web sites and applications by interweaving markup and server-side script.</span></span> <span data-ttu-id="b5e72-114">O tempo de execução do ASP fornecido pelo script do lado do servidor com um conjunto de objetos que abstraídos aspectos fundamentais do protocolo HTTP subjacente e do servidor Web e desde que tais gerenciamento de estado de sessão e de aplicativo, serviços de acesso a mais de cache, etc. Embora poderoso, aplicativos de ASP clássicos se tornou um desafio para gerenciar, como eles aumentou de tamanho e complexidade.</span><span class="sxs-lookup"><span data-stu-id="b5e72-114">The ASP runtime supplied server-side script with a set of objects that abstracted core aspects of the underlying HTTP protocol and Web server and provided access to additional services such session and application state management, cache, etc. While powerful, classic ASP applications became a challenge to manage as they grew in size and complexity.</span></span> <span data-ttu-id="b5e72-115">Isso foi amplamente devido à falta de estrutura encontrada em ambientes juntamente com a eliminação de duplicação de código resultante da intercalação de código e a marcação de script.</span><span class="sxs-lookup"><span data-stu-id="b5e72-115">This was largely due to the lack of structure found in scripting environments coupled with the duplication of code resulting from the interleaving of code and markup.</span></span> <span data-ttu-id="b5e72-116">Para aproveitar os pontos fortes do ASP clássico ao abordar alguns de seus desafios, ASP.NET aproveitou da organização código fornecida pelas linguagens orientada a objeto do .NET Framework e também preservar o modelo de programação do lado do servidor para que o ASP clássico, os desenvolvedores cresceu acostumados.</span><span class="sxs-lookup"><span data-stu-id="b5e72-116">In order to capitalize on the strengths of classic ASP while addressing some of its challenges, ASP.NET took advantage of the code organization provided by the object-oriented languages of the .NET Framework while also preserving the server-side programming model to which classic ASP developers had grown accustomed.</span></span>

<span data-ttu-id="b5e72-117">**O segundo grupo de clientes-alvo do ASP.NET foi os desenvolvedores de aplicativos de negócios do Windows.**</span><span class="sxs-lookup"><span data-stu-id="b5e72-117">**The second group of target customers for ASP.NET was Windows business application developers.**</span></span> <span data-ttu-id="b5e72-118">Ao contrário de desenvolvedores ASP clássicos, o que estavam acostumados a gravação de marcação HTML e o código para gerar mais uma marcação HTML, os desenvolvedores do WinForms (assim como os desenvolvedores de VB6 antes delas) estava acostumado a uma experiência de tempo de design que incluiu uma tela e um conjunto avançado de usuário controles de interface.</span><span class="sxs-lookup"><span data-stu-id="b5e72-118">Unlike classic ASP developers, who were accustomed to writing HTML markup and the code to generate more HTML markup, WinForms developers (like the VB6 developers before them) were accustomed to a design time experience that included a canvas and a rich set of user interface controls.</span></span> <span data-ttu-id="b5e72-119">A primeira versão do ASP.NET – também é conhecido como "Web Forms" fornecida uma experiência semelhante de tempo de design junto com um modelo de evento do lado do servidor para os componentes de interface de usuário e um conjunto de recursos de infraestrutura (por exemplo, o ViewState) para criar uma experiência de desenvolvedor simples entre cliente e programação do lado do servidor.</span><span class="sxs-lookup"><span data-stu-id="b5e72-119">The first version of ASP.NET – also known as "Web Forms" provided a similar design time experience along with a server-side event model for user interface components and a set of infrastructure features (such as ViewState) to create a seamless developer experience between client and server side programming.</span></span> <span data-ttu-id="b5e72-120">Formulários da Web hid efetivamente a natureza sem monitoração de estado da Web em um modelo de evento com monitoração de estado que estava familiar para desenvolvedores do WinForms.</span><span class="sxs-lookup"><span data-stu-id="b5e72-120">Web Forms effectively hid the Web's stateless nature under a stateful event model that was familiar to WinForms developers.</span></span>

### <a name="challenges-raised-by-the-historical-model"></a><span data-ttu-id="b5e72-121">Desafios gerados pelo modelo de histórico</span><span class="sxs-lookup"><span data-stu-id="b5e72-121">Challenges Raised by the Historical Model</span></span>

<span data-ttu-id="b5e72-122">**O resultado líquido foi desenvolvido de recursos para o tempo de execução e modelo de programação do desenvolvedor.**</span><span class="sxs-lookup"><span data-stu-id="b5e72-122">**The net result was a mature, feature-rich runtime and developer programming model.**</span></span> <span data-ttu-id="b5e72-123">No entanto, com que a riqueza de recurso fornecido alguns desafios importantes.</span><span class="sxs-lookup"><span data-stu-id="b5e72-123">However, with that feature-richness came a couple notable challenges.</span></span> <span data-ttu-id="b5e72-124">Em primeiro lugar, a estrutura foi **monolítico**, com logicamente diferentes unidades de funcionalidade que está sendo acoplado no mesmo assembly System.Web.dll (por exemplo, os objetos principais HTTP com a estrutura de formulários da Web).</span><span class="sxs-lookup"><span data-stu-id="b5e72-124">Firstly, the framework was **monolithic**, with logically disparate units of functionality being tightly coupled in the same System.Web.dll assembly (for example, the core HTTP objects with the Web forms framework).</span></span> <span data-ttu-id="b5e72-125">Em segundo lugar, o ASP.NET foi incluída como parte do maior do .NET Framework, que significa que o **tempo entre as versões foi na ordem de anos.**</span><span class="sxs-lookup"><span data-stu-id="b5e72-125">Secondly, ASP.NET was included as a part of the larger .NET Framework, which meant that the **time between releases was on the order of years.**</span></span> <span data-ttu-id="b5e72-126">Isso tornou difícil para o ASP.NET acompanhar todas as alterações ocorram em rápida evolução de desenvolvimento na Web.</span><span class="sxs-lookup"><span data-stu-id="b5e72-126">This made it difficult for ASP.NET to keep pace with all of the changes happening in rapidly evolving Web development.</span></span> <span data-ttu-id="b5e72-127">Por fim, System.Web.dll próprio foi ligado em algumas maneiras diferentes de uma Web específica, opção de hospedagem: serviços de informações da Internet (IIS).</span><span class="sxs-lookup"><span data-stu-id="b5e72-127">Finally, System.Web.dll itself was coupled in a few different ways to a specific Web hosting option: Internet Information Services (IIS).</span></span>

### <a name="evolutionary-steps-aspnet-mvc-and-aspnet-web-api"></a><span data-ttu-id="b5e72-128">Etapas evolutivas: ASP.NET MVC e a API da Web do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b5e72-128">Evolutionary steps: ASP.NET MVC and ASP.NET Web API</span></span>

<span data-ttu-id="b5e72-129">E muitas alterações estava acontecendo no desenvolvimento da Web!</span><span class="sxs-lookup"><span data-stu-id="b5e72-129">And lots of change was happening in Web development!</span></span> <span data-ttu-id="b5e72-130">Aplicativos da Web estão sendo desenvolvidos cada vez mais como uma série de pequenos, voltada para componentes, em vez de estruturas grandes.</span><span class="sxs-lookup"><span data-stu-id="b5e72-130">Web applications were increasingly being developed as a series of small, focused components rather than large frameworks.</span></span> <span data-ttu-id="b5e72-131">O número de componentes, bem como a frequência com que elas foram lançadas estava aumentando a uma taxa mais rápida do que nunca.</span><span class="sxs-lookup"><span data-stu-id="b5e72-131">The number of components as well as the frequency with which they were released was increasing at an ever faster rate.</span></span> <span data-ttu-id="b5e72-132">Ficou claro que manter ritmo com Web exigiria estruturas para obter o menor, separado e mais direcionados em vez de maiores e mais rica em recursos, portanto o **equipe ASP.NET levou várias etapas evolutiva para habilitar o ASP.NET como uma família de componentes da Web conectáveis em vez de uma única estrutura**.</span><span class="sxs-lookup"><span data-stu-id="b5e72-132">It was clear that keeping pace with the Web would require frameworks to get smaller, decoupled and more focused rather than larger and more feature-rich, therefore the **ASP.NET team took several evolutionary steps to enable ASP.NET as a family of pluggable Web components rather than a single framework**.</span></span>

<span data-ttu-id="b5e72-133">Uma das alterações iniciais era o aumento na popularidade do conhecido model-view-controller (MVC) padrão de design graças estruturas de desenvolvimento de Web como Ruby nos trilhos.</span><span class="sxs-lookup"><span data-stu-id="b5e72-133">One of the early changes was the rise in popularity of the well-known model-view-controller (MVC) design pattern thanks to Web development frameworks like Ruby on Rails.</span></span> <span data-ttu-id="b5e72-134">Esse estilo de criação de aplicativos Web deu o desenvolvedor maior controle sobre a marcação do seu aplicativo e ainda preservar a separação de marcação e lógica de negócios, que era um dos pontos de venda inicias para o ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b5e72-134">This style of building Web applications gave the developer greater control over her application's markup while still preserving the separation of markup and business logic, which was one of the initial selling points for ASP.NET.</span></span> <span data-ttu-id="b5e72-135">Para atender à demanda para esse estilo de desenvolvimento de aplicativo Web, Microsoft levou a oportunidade de se posicionar melhor para o futuro por **desenvolvimento ASP.NET MVC fora da banda** (e não incluí-lo no .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="b5e72-135">To meet the demand for this style of Web application development, Microsoft took the opportunity to position itself better for the future by **developing ASP.NET MVC out of band** (and not including it in the .NET Framework).</span></span> <span data-ttu-id="b5e72-136">ASP.NET MVC foi lançado como um download independente.</span><span class="sxs-lookup"><span data-stu-id="b5e72-136">ASP.NET MVC was released as an independent download.</span></span> <span data-ttu-id="b5e72-137">Isso dá a equipe de engenharia a flexibilidade para fornecer atualizações com muito mais frequência do que havia sido possível anteriormente.</span><span class="sxs-lookup"><span data-stu-id="b5e72-137">This gave the engineering team the flexibility to deliver updates much more frequently than had been previously possible.</span></span>

<span data-ttu-id="b5e72-138">Outra grande mudança no desenvolvimento de aplicativo Web foi a mudança de páginas da Web dinâmicas gerados pelo servidor para a marcação inicial estática com dinâmicas seções da página gerados a partir de script do lado do cliente se comunicar **com APIs da Web de back-end por meio de Solicitações do AJAX**.</span><span class="sxs-lookup"><span data-stu-id="b5e72-138">Another major shift in Web application development was the shift from dynamic, server-generated Web pages to static initial markup with dynamic sections of the page generated from client-side script communicating **with backend Web APIs through AJAX requests**.</span></span> <span data-ttu-id="b5e72-139">Essa mudança arquitetônica ajudou a impulsionar o surgimento de APIs da Web e o desenvolvimento do framework API Web do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b5e72-139">This architectural shift helped propel the rise of Web APIs, and the development of the ASP.NET Web API framework.</span></span> <span data-ttu-id="b5e72-140">Como no caso do ASP.NET MVC, a versão do ASP.NET Web API fornecida outra oportunidade de evoluir ASP.NET como uma estrutura mais modular.</span><span class="sxs-lookup"><span data-stu-id="b5e72-140">As in the case of ASP.NET MVC, the release of ASP.NET Web API provided another opportunity to evolve ASP.NET further as a more modular framework.</span></span> <span data-ttu-id="b5e72-141">A equipe de engenharia necessário aproveitar a oportunidade e **criado API Web do ASP.NET, de modo que não tinha nenhuma dependência em qualquer um dos tipos de framework core encontrados no System.Web.dll**.</span><span class="sxs-lookup"><span data-stu-id="b5e72-141">The engineering team took advantage of the opportunity and **built ASP.NET Web API such that it had no dependencies on any of the core framework types found in System.Web.dll**.</span></span> <span data-ttu-id="b5e72-142">Essa opção habilitada duas coisas: primeiro, significa que pode evoluir API da Web ASP.NET de maneira totalmente independente (e ele pode continuar a iterar rapidamente, porque ele é distribuído por meio do NuGet).</span><span class="sxs-lookup"><span data-stu-id="b5e72-142">This enabled two things: first, it meant that ASP.NET Web API could evolve in a completely self-contained manner (and it could continue to iterate quickly because it is delivered via NuGet).</span></span> <span data-ttu-id="b5e72-143">Segundo, porque não havia sem dependências externas para System.Web.dll e, portanto, nenhuma dependência no IIS, ASP.NET Web API incluída a capacidade de executar em um host personalizado (por exemplo, um aplicativo de console de serviço do Windows, etc.)</span><span class="sxs-lookup"><span data-stu-id="b5e72-143">Second, because there were no external dependencies to System.Web.dll, and therefore, no dependencies to IIS, ASP.NET Web API included the capability to run in a custom host (for example, a console application, Windows service, etc.)</span></span>

### <a name="the-future-a-nimble-framework"></a><span data-ttu-id="b5e72-144">O futuro: Uma estrutura ágil</span><span class="sxs-lookup"><span data-stu-id="b5e72-144">The Future: A Nimble Framework</span></span>

<span data-ttu-id="b5e72-145">Desacoplar componentes do framework uns dos outros e, em seguida, liberá-los no NuGet, estruturas podem agora **iterar mais rápida e mais independentemente**.</span><span class="sxs-lookup"><span data-stu-id="b5e72-145">By decoupling framework components from one another and then releasing them on NuGet, frameworks could now **iterate more independently and more quickly**.</span></span> <span data-ttu-id="b5e72-146">Além disso, a potência e flexibilidade de capacidade de hospedagem interna da API da Web provado que ele é muito atraentes para os desenvolvedores que desejavam um **host pequeno e leve** para seus serviços.</span><span class="sxs-lookup"><span data-stu-id="b5e72-146">Additionally, the power and flexibility of Web API's self-hosting capability proved very attractive to developers who wanted a **small, lightweight host** for their services.</span></span> <span data-ttu-id="b5e72-147">Isso tornava tão atraente, na verdade, ou outras estruturas também queriam esse recurso e isso apresentados um novo desafio que cada estrutura foi executado em seu próprio processo de host em seu próprio endereço de base e precisa ser gerenciado (início, parada, etc.) independentemente.</span><span class="sxs-lookup"><span data-stu-id="b5e72-147">It proved so attractive, in fact, that other frameworks also wanted this capability, and this surfaced a new challenge in that each framework ran in its own host process on its own base address and needed to be managed (started, stopped, etc.) independently.</span></span> <span data-ttu-id="b5e72-148">Um aplicativo da Web moderno geralmente oferece suporte a servidores de arquivo estático, geração de página dinâmica, API da Web e mais recentemente real-tempo/notificações por push.</span><span class="sxs-lookup"><span data-stu-id="b5e72-148">A modern Web application generally supports static file serving, dynamic page generation, Web API, and more recently real-time/push notifications.</span></span> <span data-ttu-id="b5e72-149">Esperar que cada um desses serviços deve ser executada e gerenciada de forma independente simplesmente não era realista.</span><span class="sxs-lookup"><span data-stu-id="b5e72-149">Expecting that each of these services should be run and managed independently was simply not realistic.</span></span>

<span data-ttu-id="b5e72-150">O que era necessário foi uma única abstração de hospedagem que permitem que um desenvolvedor para compor um aplicativo de uma variedade de diferentes componentes e estruturas e, em seguida, executar esse aplicativo em um host de suporte.</span><span class="sxs-lookup"><span data-stu-id="b5e72-150">What was needed was a single hosting abstraction that would enable a developer to compose an application from a variety of different components and frameworks, and then run that application on a supporting host.</span></span>

## <a name="the-open-web-interface-for-net-owin"></a><span data-ttu-id="b5e72-151">A Interface Web aberta para .NET (OWIN)</span><span class="sxs-lookup"><span data-stu-id="b5e72-151">The Open Web Interface for .NET (OWIN)</span></span>

 <span data-ttu-id="b5e72-152">Inspirado pelos benefícios obtidos por [Rack](http://rack.github.io/) na comunidade de Ruby, vários membros da comunidade do .NET definidos para criar uma abstração entre os servidores Web e os componentes da estrutura.</span><span class="sxs-lookup"><span data-stu-id="b5e72-152">Inspired by the benefits achieved by [Rack](http://rack.github.io/) in the Ruby community, several members of the .NET community set out to create an abstraction between Web servers and framework components.</span></span> <span data-ttu-id="b5e72-153">Duas metas de design para a abstração de OWIN foram foi simple e que levou o mínimo possível de dependências em outros tipos de estrutura.</span><span class="sxs-lookup"><span data-stu-id="b5e72-153">Two design goals for the OWIN abstraction were that it was simple and that it took the fewest possible dependencies on other framework types.</span></span> <span data-ttu-id="b5e72-154">Esses dois objetivos garantir:</span><span class="sxs-lookup"><span data-stu-id="b5e72-154">These two goals help ensure:</span></span>

- <span data-ttu-id="b5e72-155">Novos componentes poderiam ser mais facilmente desenvolvidos e consumidos.</span><span class="sxs-lookup"><span data-stu-id="b5e72-155">New components could be more easily developed and consumed.</span></span>
- <span data-ttu-id="b5e72-156">Aplicativos podem ser movidos mais facilmente entre hosts e potencialmente toda plataformas/sistemas operacionais.</span><span class="sxs-lookup"><span data-stu-id="b5e72-156">Applications could be more easily ported between hosts and potentially entire platforms/operating systems.</span></span>

<span data-ttu-id="b5e72-157">A abstração resultante consiste em dois elementos principais.</span><span class="sxs-lookup"><span data-stu-id="b5e72-157">The resulting abstraction consists of two core elements.</span></span> <span data-ttu-id="b5e72-158">A primeira é o dicionário do ambiente.</span><span class="sxs-lookup"><span data-stu-id="b5e72-158">The first is the environment dictionary.</span></span> <span data-ttu-id="b5e72-159">Essa estrutura de dados é responsável por armazenar todos os estados necessários para processar uma solicitação HTTP e resposta, bem como qualquer estado de servidor relevantes.</span><span class="sxs-lookup"><span data-stu-id="b5e72-159">This data structure is responsible for storing all of the state necessary for processing an HTTP request and response, as well as any relevant server state.</span></span> <span data-ttu-id="b5e72-160">O dicionário do ambiente é definido da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="b5e72-160">The environment dictionary is defined as follows:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample1.cmd)]

<span data-ttu-id="b5e72-161">Um servidor Web compatível com o OWIN é responsável pela população o dicionário do ambiente com dados, como os fluxos de corpo e as coleções de cabeçalho para uma solicitação e resposta HTTP.</span><span class="sxs-lookup"><span data-stu-id="b5e72-161">An OWIN-compatible Web server is responsible for populating the environment dictionary with data such as the body streams and header collections for an HTTP request and response.</span></span> <span data-ttu-id="b5e72-162">Em seguida, é responsabilidade dos componentes de aplicativo ou framework para popular ou atualizar o dicionário com valores adicionais e gravar no fluxo de corpo de resposta.</span><span class="sxs-lookup"><span data-stu-id="b5e72-162">It is then the responsibility of the application or framework components to populate or update the dictionary with additional values and write to the response body stream.</span></span>

<span data-ttu-id="b5e72-163">Além de especificar o tipo para o dicionário do ambiente, a especificação de OWIN define uma lista de pares de chave-valor do dicionário principal.</span><span class="sxs-lookup"><span data-stu-id="b5e72-163">In addition to specifying the type for the environment dictionary, the OWIN specification defines a list of core dictionary key value pairs.</span></span> <span data-ttu-id="b5e72-164">Por exemplo, a tabela a seguir mostra as chaves de dicionário necessários para uma solicitação HTTP:</span><span class="sxs-lookup"><span data-stu-id="b5e72-164">For example, the following table shows the required dictionary keys for an HTTP request:</span></span>

| <span data-ttu-id="b5e72-165">Nome da chave</span><span class="sxs-lookup"><span data-stu-id="b5e72-165">Key Name</span></span> | <span data-ttu-id="b5e72-166">Descrição de valor</span><span class="sxs-lookup"><span data-stu-id="b5e72-166">Value Description</span></span> |
| --- | --- |
| `"owin.RequestBody"` | <span data-ttu-id="b5e72-167">Um fluxo com o corpo da solicitação, se houver.</span><span class="sxs-lookup"><span data-stu-id="b5e72-167">A Stream with the request body, if any.</span></span> <span data-ttu-id="b5e72-168">Stream pode ser usado como um espaço reservado, se não houver nenhum corpo de solicitação.</span><span class="sxs-lookup"><span data-stu-id="b5e72-168">Stream.Null MAY be used as a placeholder if there is no request body.</span></span> <span data-ttu-id="b5e72-169">Consulte [corpo da solicitação](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span><span class="sxs-lookup"><span data-stu-id="b5e72-169">See [Request Body](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span></span> |
| `"owin.RequestHeaders"` | <span data-ttu-id="b5e72-170">Um `IDictionary<string, string[]>` de cabeçalhos de solicitação.</span><span class="sxs-lookup"><span data-stu-id="b5e72-170">An `IDictionary<string, string[]>` of request headers.</span></span> <span data-ttu-id="b5e72-171">Consulte [cabeçalhos](http://owin.org/html/owin.html#3-3-headers).</span><span class="sxs-lookup"><span data-stu-id="b5e72-171">See [Headers](http://owin.org/html/owin.html#3-3-headers).</span></span> |
| `"owin.RequestMethod"` | <span data-ttu-id="b5e72-172">Um `string` que contém o método de solicitação HTTP da solicitação (por exemplo, `"GET"`, `"POST"`).</span><span class="sxs-lookup"><span data-stu-id="b5e72-172">A `string` containing the HTTP request method of the request (e.g., `"GET"`, `"POST"`).</span></span> |
| `"owin.RequestPath"` | <span data-ttu-id="b5e72-173">Um `string` que contém o caminho da solicitação.</span><span class="sxs-lookup"><span data-stu-id="b5e72-173">A `string` containing the request path.</span></span> <span data-ttu-id="b5e72-174">O caminho deve ser relativo ao "raiz" do delegado do aplicativo; consulte [caminhos](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="b5e72-174">The path MUST be relative to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestPathBase"` | <span data-ttu-id="b5e72-175">Um `string` que contém a parte do caminho da solicitação correspondente para "raiz" do delegado do aplicativo; consulte [caminhos](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="b5e72-175">A `string` containing the portion of the request path corresponding to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestProtocol"` | <span data-ttu-id="b5e72-176">Um `string` que contém o nome do protocolo e versão (por exemplo, `"HTTP/1.0"` ou `"HTTP/1.1"`).</span><span class="sxs-lookup"><span data-stu-id="b5e72-176">A `string` containing the protocol name and version (e.g. `"HTTP/1.0"` or `"HTTP/1.1"`).</span></span> |
| `"owin.RequestQueryString"` | <span data-ttu-id="b5e72-177">Um `string` que contém o componente de cadeia de caracteres de consulta da solicitação HTTP URI, sem o prefixo "?" (por exemplo, `"foo=bar&baz=quux"`).</span><span class="sxs-lookup"><span data-stu-id="b5e72-177">A `string` containing the query string component of the HTTP request URI, without the leading "?" (e.g., `"foo=bar&baz=quux"`).</span></span> <span data-ttu-id="b5e72-178">O valor pode ser uma cadeia de caracteres vazia.</span><span class="sxs-lookup"><span data-stu-id="b5e72-178">The value may be an empty string.</span></span> |
| `"owin.RequestScheme"` | <span data-ttu-id="b5e72-179">Um `string` que contém o esquema URI usado para a solicitação (por exemplo, `"http"`, `"https"`); consulte [esquema URI](http://owin.org/html/owin.html#5-1-uri-scheme).</span><span class="sxs-lookup"><span data-stu-id="b5e72-179">A `string` containing the URI scheme used for the request (e.g., `"http"`, `"https"`); see [URI Scheme](http://owin.org/html/owin.html#5-1-uri-scheme).</span></span> |

<span data-ttu-id="b5e72-180">O segundo elemento chave do OWIN é o representante do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b5e72-180">The second key element of OWIN is the application delegate.</span></span> <span data-ttu-id="b5e72-181">Isso é uma assinatura de função que serve como a principal interface entre todos os componentes em um aplicativo OWIN.</span><span class="sxs-lookup"><span data-stu-id="b5e72-181">This is a function signature which serves as the primary interface between all components in an OWIN application.</span></span> <span data-ttu-id="b5e72-182">A definição do representante de aplicativo é o seguinte:</span><span class="sxs-lookup"><span data-stu-id="b5e72-182">The definition for the application delegate is as follows:</span></span>

`Func<IDictionary<string, object>, Task>;`

<span data-ttu-id="b5e72-183">O representante do aplicativo, em seguida, é simplesmente uma implementação do tipo Func delegado em que a função aceita o dicionário do ambiente como entrada e retorna uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="b5e72-183">The application delegate then is simply an implementation of the Func delegate type where the function accepts the environment dictionary as input and returns a Task.</span></span> <span data-ttu-id="b5e72-184">Esse design tem várias implicações para desenvolvedores:</span><span class="sxs-lookup"><span data-stu-id="b5e72-184">This design has several implications for developers:</span></span>

- <span data-ttu-id="b5e72-185">Há um número muito pequeno de dependências de tipo necessárias para escrever componentes OWIN.</span><span class="sxs-lookup"><span data-stu-id="b5e72-185">There are a very small number of type dependencies required in order to write OWIN components.</span></span> <span data-ttu-id="b5e72-186">Isso aumenta muito a acessibilidade do OWIN para desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="b5e72-186">This greatly increases the accessibility of OWIN to developers.</span></span>
- <span data-ttu-id="b5e72-187">O design assíncrono permite a abstração a eficiência com a manipulação de recursos de computação, especialmente em operações intensivas de e/s mais.</span><span class="sxs-lookup"><span data-stu-id="b5e72-187">The asynchronous design enables the abstraction to be efficient with its handling of computing resources, particularly in more I/O intensive operations.</span></span>
- <span data-ttu-id="b5e72-188">Como o representante do aplicativo é uma unidade atômica de execução e porque o dicionário do ambiente é executado como um parâmetro sobre o delegado, componentes OWIN podem ser facilmente encadeados juntos para criar pipelines de processamento de HTTP complexas.</span><span class="sxs-lookup"><span data-stu-id="b5e72-188">Because the application delegate is an atomic unit of execution and because the environment dictionary is carried as a parameter on the delegate, OWIN components can be easily chained together to create complex HTTP processing pipelines.</span></span>

<span data-ttu-id="b5e72-189">De uma perspectiva de implementação, OWIN é uma especificação ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span><span class="sxs-lookup"><span data-stu-id="b5e72-189">From an implementation perspective, OWIN is a specification ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span></span> <span data-ttu-id="b5e72-190">Sua meta não é deve ser a estrutura da Web Avançar, mas em vez disso, uma especificação de como estruturas da Web e servidores Web interagem.</span><span class="sxs-lookup"><span data-stu-id="b5e72-190">Its goal is not to be the next Web framework, but rather a specification for how Web frameworks and Web servers interact.</span></span>

<span data-ttu-id="b5e72-191">Se você tiver investigado [OWIN](http://owin.org/) ou [Katana](https://github.com/aspnet/AspNetKatana/wiki), você também deve ter notado o [pacote Owin NuGet](http://nuget.org/packages/Owin) e Owin.dll.</span><span class="sxs-lookup"><span data-stu-id="b5e72-191">If you've investigated [OWIN](http://owin.org/) or [Katana](https://github.com/aspnet/AspNetKatana/wiki), you may also have noticed the [Owin NuGet package](http://nuget.org/packages/Owin) and Owin.dll.</span></span> <span data-ttu-id="b5e72-192">Esta biblioteca contém uma única interface, [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), que formaliza e codifies a sequência de inicialização descrita em [seção 4](http://owin.org/html/owin.html#4-application-startup) da especificação de OWIN.</span><span class="sxs-lookup"><span data-stu-id="b5e72-192">This library contains a single interface, [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), which formalizes and codifies the startup sequence described in [section 4](http://owin.org/html/owin.html#4-application-startup) of the OWIN specification.</span></span> <span data-ttu-id="b5e72-193">Embora não seja necessário para criar servidores OWIN a [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interface fornece um ponto de referência concreta, e ele é usado pelos componentes do projeto Katana.</span><span class="sxs-lookup"><span data-stu-id="b5e72-193">While not required in order to build OWIN servers, the [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interface provides a concrete reference point, and it is used by the Katana project components.</span></span>

## <a name="project-katana"></a><span data-ttu-id="b5e72-194">Projeto Katana</span><span class="sxs-lookup"><span data-stu-id="b5e72-194">Project Katana</span></span>

<span data-ttu-id="b5e72-195">Enquanto tanto o [OWIN](http://owin.org/html/owin.html) especificação e *Owin.dll* são de propriedade de comunidade e comunidade executar esforços de código-fonte aberto, o [Katana](https://github.com/aspnet/AspNetKatana/wiki) projeto representa o conjunto de OWIN componentes que, embora o código-fonte aberto ainda, são criados e lançados pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b5e72-195">Whereas both the [OWIN](http://owin.org/html/owin.html) specification and *Owin.dll* are community owned and community run open source efforts, the [Katana](https://github.com/aspnet/AspNetKatana/wiki) project represents the set of OWIN components that, while still open source, are built and released by Microsoft.</span></span> <span data-ttu-id="b5e72-196">Esses componentes incluem componentes de infraestrutura, como hosts e servidores, bem como os componentes funcionais, como componentes de autenticação e as associações para estruturas como [SignalR](../../../signalr/index.md) e [da Web do ASP.NET API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span><span class="sxs-lookup"><span data-stu-id="b5e72-196">These components include both infrastructure components, such as hosts and servers, as well as functional components, such as authentication components and bindings to frameworks such as [SignalR](../../../signalr/index.md) and [ASP.NET Web API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span></span> <span data-ttu-id="b5e72-197">O projeto tem as três seguintes metas de alto níveis:</span><span class="sxs-lookup"><span data-stu-id="b5e72-197">The project has the following three high level goals:</span></span> 

- <span data-ttu-id="b5e72-198">**Portátil** – componentes devem ser capazes de facilmente ser substituídos por novos componentes, assim que estiverem disponíveis.</span><span class="sxs-lookup"><span data-stu-id="b5e72-198">**Portable** – Components should be able to be easily substituted for new components as they become available.</span></span> <span data-ttu-id="b5e72-199">Isso inclui todos os tipos de componentes do framework para o servidor e o host.</span><span class="sxs-lookup"><span data-stu-id="b5e72-199">This includes all types of components, from the framework to the server and host.</span></span> <span data-ttu-id="b5e72-200">A implicação essa meta é que estruturas de terceiros perfeitamente poderá executar em servidores da Microsoft, enquanto as estruturas da Microsoft poderão ser executadas em hosts e servidores de terceiros.</span><span class="sxs-lookup"><span data-stu-id="b5e72-200">The implication of this goal is that third party frameworks can seamlessly run on Microsoft servers while Microsoft frameworks can potentially run on third party servers and hosts.</span></span>
- <span data-ttu-id="b5e72-201">**Modular/flexível**– ao contrário de muitas estruturas que incluem uma grande variedade de recursos que são ativados por padrão, componentes do projeto Katana devem ser pequeno e se concentrem, oferecendo controle o desenvolvedor do aplicativo para determinar quais componentes Use em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b5e72-201">**Modular/flexible**– Unlike many frameworks which include a myriad of features that are turned on by default, Katana project components should be small and focused, giving control over to the application developer in determining which components to use in her application.</span></span>
- <span data-ttu-id="b5e72-202">**Leve e funcionais/dimensionável** – dividindo a noção tradicional de uma estrutura em um conjunto de pequenos, voltada para componentes que são adicionados explicitamente pelo desenvolvedor do aplicativo, um aplicativo Katana resultante pode consumir menos de computação recursos e como resultado, lidar com mais carga, que com outros tipos de servidores e estruturas.</span><span class="sxs-lookup"><span data-stu-id="b5e72-202">**Lightweight/performant/scalable** – By breaking the traditional notion of a framework into a set of small, focused components which are added explicitly by the application developer, a resulting Katana application can consume fewer computing resources, and as a result, handle more load, than with other types of servers and frameworks.</span></span> <span data-ttu-id="b5e72-203">Como os requisitos do aplicativo exigem mais recursos de infraestrutura subjacente, aqueles podem ser adicionados ao pipeline OWIN, mas que deve ser uma decisão explícita por parte do desenvolvedor do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b5e72-203">As the requirements of the application demand more features from the underlying infrastructure, those can be added to the OWIN pipeline, but that should be an explicit decision on the part of the application developer.</span></span> <span data-ttu-id="b5e72-204">Além disso, o substitutability dos componentes de nível inferiores significa que assim que estiverem disponíveis, novos servidores de alto desempenho podem perfeitamente ser introduzidos para melhorar o desempenho de aplicativos OWIN sem interromper os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="b5e72-204">Additionally, the substitutability of lower level components means that as they become available, new high performance servers can seamlessly be introduced to improve the performance of OWIN applications without breaking those applications.</span></span>

## <a name="getting-started-with-katana-components"></a><span data-ttu-id="b5e72-205">Guia de Introdução com componentes Katana</span><span class="sxs-lookup"><span data-stu-id="b5e72-205">Getting Started with Katana Components</span></span>

<span data-ttu-id="b5e72-206">Quando ele foi introduzido pela primeira vez, um aspecto de [Node. js](http://nodejs.org/) framework que imediatamente desenhou atenção estava a simplicidade com o qual um pode criar e executar um servidor Web.</span><span class="sxs-lookup"><span data-stu-id="b5e72-206">When it was first introduced, one aspect of the [Node.js](http://nodejs.org/) framework that immediately drew people's attention was the simplicity with which one could author and run a Web server.</span></span> <span data-ttu-id="b5e72-207">Se Katana metas foram enquadradas light de [Node. js](http://nodejs.org/), um pode resumi-los dizendo que Katana traz muitos dos benefícios de [Node. js](http://nodejs.org/) (e estruturas, como ele) sem forçar o desenvolvedor lançar tudo o que ela sabe sobre o desenvolvimento de aplicativos Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b5e72-207">If Katana goals were framed in light of [Node.js](http://nodejs.org/), one might summarize them by saying that Katana brings many of the benefits of [Node.js](http://nodejs.org/) (and frameworks like it) without forcing the developer to throw out everything she knows about developing ASP.NET Web applications.</span></span> <span data-ttu-id="b5e72-208">Para esta instrução verdadeiras, Introdução ao projeto Katana deve ser igualmente simple na natureza [Node.js](http://nodejs.org/).</span><span class="sxs-lookup"><span data-stu-id="b5e72-208">For this statement to hold true, getting started with the Katana project should be equally simple in nature to [Node.js](http://nodejs.org/).</span></span>

## <a name="creating-hello-world"></a><span data-ttu-id="b5e72-209">Criando "Hello World!"</span><span class="sxs-lookup"><span data-stu-id="b5e72-209">Creating "Hello World!"</span></span>

<span data-ttu-id="b5e72-210">Uma diferença notável entre JavaScript e .NET development é a presença (ou ausência) de um compilador.</span><span class="sxs-lookup"><span data-stu-id="b5e72-210">One notable difference between JavaScript and .NET development is the presence (or absence) of a compiler.</span></span> <span data-ttu-id="b5e72-211">Como tal, o ponto de partida para um servidor Katana simples é um projeto do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b5e72-211">As such, the starting point for a simple Katana server is a Visual Studio project.</span></span> <span data-ttu-id="b5e72-212">No entanto, podemos começar com o mínimo de tipos de projetos: o aplicativo Web ASP.NET vazio.</span><span class="sxs-lookup"><span data-stu-id="b5e72-212">However, we can start with the most minimal of project types: the Empty ASP.NET Web Application.</span></span>

[![](an-overview-of-project-katana/_static/image1.png)](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb)

<span data-ttu-id="b5e72-213">Em seguida, vamos instalar o [systemweb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) pacote NuGet para o projeto.</span><span class="sxs-lookup"><span data-stu-id="b5e72-213">Next, we will install the [Microsoft.Owin.Host.SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) NuGet package into the project.</span></span> <span data-ttu-id="b5e72-214">Esse pacote fornece um servidor OWIN que é executado no pipeline de solicitação do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b5e72-214">This package provides an OWIN server that runs in the ASP.NET request pipeline.</span></span> <span data-ttu-id="b5e72-215">Ele pode ser encontrado na [Galeria NuGet](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) e pode ser instalado usando a caixa de diálogo do Gerenciador de pacote do Visual Studio ou o console do Gerenciador de pacote com o seguinte comando:</span><span class="sxs-lookup"><span data-stu-id="b5e72-215">It can be found on the [NuGet gallery](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) and can be installed using either the Visual Studio package manager dialog or the package manager console with the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample2.cmd)]

<span data-ttu-id="b5e72-216">Instalando o `Microsoft.Owin.Host.SystemWeb` pacote irá instalar alguns pacotes adicionais como dependências.</span><span class="sxs-lookup"><span data-stu-id="b5e72-216">Installing the `Microsoft.Owin.Host.SystemWeb` package will install a few additional packages as dependencies.</span></span> <span data-ttu-id="b5e72-217">Uma dessas dependências é `Microsoft.Owin`, uma biblioteca que fornece vários tipos de auxiliar e métodos para o desenvolvimento de aplicativos OWIN.</span><span class="sxs-lookup"><span data-stu-id="b5e72-217">One of those dependencies is `Microsoft.Owin`, a library which provides several helper types and methods for developing OWIN applications.</span></span> <span data-ttu-id="b5e72-218">Podemos usar esses tipos para escrever rapidamente o seguinte servidor de "Olá, mundo".</span><span class="sxs-lookup"><span data-stu-id="b5e72-218">We can use those types to quickly write the following "hello world" server.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample3.cs)]

<span data-ttu-id="b5e72-219">Esse servidor Web muito simple pode agora ser executada usando o Visual Studio **F5** de comando e inclui suporte completo para depuração.</span><span class="sxs-lookup"><span data-stu-id="b5e72-219">This very simple Web server can now be run using Visual Studio's **F5** command and includes full support for debugging.</span></span>

## <a name="switching-hosts"></a><span data-ttu-id="b5e72-220">Alternância de hosts</span><span class="sxs-lookup"><span data-stu-id="b5e72-220">Switching hosts</span></span>

<span data-ttu-id="b5e72-221">Por padrão, o exemplo anterior de "hello world" é executado no pipeline de solicitação do ASP.NET, que usa o System. Web no contexto do IIS.</span><span class="sxs-lookup"><span data-stu-id="b5e72-221">By default, the previous "hello world" example runs in the ASP.NET request pipeline, which uses System.Web in the context of IIS.</span></span> <span data-ttu-id="b5e72-222">Isso pode por si só agregar valor conforme ele nos permite aproveitar a flexibilidade e capacidade de combinação de um pipeline OWIN com os recursos de gerenciamento e maturidade geral do IIS.</span><span class="sxs-lookup"><span data-stu-id="b5e72-222">This can by itself add tremendous value as it enables us to benefit from the flexibility and composability of an OWIN pipeline with the management capabilities and overall maturity of IIS.</span></span> <span data-ttu-id="b5e72-223">No entanto, pode haver casos em que os benefícios fornecidos pelo IIS não são necessários e o desejo é para um host menor e mais leve.</span><span class="sxs-lookup"><span data-stu-id="b5e72-223">However, there may be cases where the benefits provided by IIS are not required and the desire is for a smaller, more lightweight host.</span></span> <span data-ttu-id="b5e72-224">O que é necessário, em seguida, executar nosso servidor da Web simple fora do IIS e System. Web?</span><span class="sxs-lookup"><span data-stu-id="b5e72-224">What is needed, then, to run our simple Web server outside of IIS and System.Web?</span></span>

<span data-ttu-id="b5e72-225">Para ilustrar a meta de portabilidade, a movimentação de um host de servidor Web para um host de linha de comando requer simplesmente adicionando novas dependências do host e o servidor para a pasta de saída do projeto e, em seguida, iniciar o host.</span><span class="sxs-lookup"><span data-stu-id="b5e72-225">To illustrate the portability goal, moving from a Web-server host to a command line host requires simply adding the new server and host dependencies to project's output folder and then starting the host.</span></span> <span data-ttu-id="b5e72-226">Neste exemplo, podemos vai hospedar nosso servidor Web em um host Katana chamado `OwinHost.exe` e usará o servidor com base em Katana HttpListener.</span><span class="sxs-lookup"><span data-stu-id="b5e72-226">In this example, we'll host our Web server in a Katana host called `OwinHost.exe` and will use the Katana HttpListener-based server.</span></span> <span data-ttu-id="b5e72-227">Da mesma forma para os outros componentes Katana, eles serão adquiridos do NuGet usando o seguinte comando:</span><span class="sxs-lookup"><span data-stu-id="b5e72-227">Similarly to the other Katana components, these will be acquired from NuGet using the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample4.cmd)]

<span data-ttu-id="b5e72-228">Na linha de comando, pode, em seguida, navegue até a pasta raiz do projeto e simplesmente executar o `OwinHost.exe` (que foi instalado na pasta Ferramentas de seu respectivo pacote de NuGet).</span><span class="sxs-lookup"><span data-stu-id="b5e72-228">From the command line, we can then navigate to the project root folder and simply run the `OwinHost.exe` (which was installed in the tools folder of its respective NuGet package).</span></span> <span data-ttu-id="b5e72-229">Por padrão, `OwinHost.exe` está configurado para procurar o servidor baseado em HttpListener e, portanto, nenhuma configuração adicional é necessária.</span><span class="sxs-lookup"><span data-stu-id="b5e72-229">By default, `OwinHost.exe` is configured to look for the HttpListener-based server and so no additional configuration is needed.</span></span> <span data-ttu-id="b5e72-230">Navegando em um navegador da Web para `http://localhost:5000/` mostra o aplicativo em execução por meio do console.</span><span class="sxs-lookup"><span data-stu-id="b5e72-230">Navigating in a Web browser to `http://localhost:5000/` shows the application now running through the console.</span></span>

![](an-overview-of-project-katana/_static/image2.png)

## <a name="katana-architecture"></a><span data-ttu-id="b5e72-231">Arquitetura de Katana</span><span class="sxs-lookup"><span data-stu-id="b5e72-231">Katana Architecture</span></span>

 <span data-ttu-id="b5e72-232">A arquitetura de componente Katana divide um aplicativo em quatro camadas lógicas, conforme descrito abaixo: *host, o servidor, o middleware,* e *aplicativo*.</span><span class="sxs-lookup"><span data-stu-id="b5e72-232">The Katana component architecture divides an application into four logical layers, as depicted below: *host, server, middleware,* and *application*.</span></span> <span data-ttu-id="b5e72-233">A arquitetura de componente é acrescentada de forma que implementações dessas camadas podem ser facilmente substituídas, em muitos casos, sem a necessidade de recompilação do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b5e72-233">The component architecture is factored in such a way that implementations of these layers can be easily substituted, in many cases, without requiring recompilation of the application.</span></span>   

![](an-overview-of-project-katana/_static/image3.png)

## <a name="host"></a><span data-ttu-id="b5e72-234">Host</span><span class="sxs-lookup"><span data-stu-id="b5e72-234">Host</span></span>

 <span data-ttu-id="b5e72-235">O host é responsável por:</span><span class="sxs-lookup"><span data-stu-id="b5e72-235">The host is responsible for:</span></span>

- <span data-ttu-id="b5e72-236">Gerenciar o processo subjacente.</span><span class="sxs-lookup"><span data-stu-id="b5e72-236">Managing the underlying process.</span></span>
- <span data-ttu-id="b5e72-237">Organizar o fluxo de trabalho que resulta na seleção de um servidor e a construção de um pipeline OWIN por meio de quais solicitações é manipulada.</span><span class="sxs-lookup"><span data-stu-id="b5e72-237">Orchestrating the workflow that results in the selection of a server and the construction of an OWIN pipeline through which requests will be handled.</span></span>

  <span data-ttu-id="b5e72-238">No momento, há 3 opções de hospedagem primárias para aplicativos baseados em Katana:</span><span class="sxs-lookup"><span data-stu-id="b5e72-238">At present, there are 3 primary hosting options for Katana-based applications:</span></span>  
  
<span data-ttu-id="b5e72-239">**IIS/ASP.NET**: usando os tipos padrão HttpModule e HttpHandler, OWIN pipelines podem executados no IIS como parte de um fluxo de solicitação do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b5e72-239">**IIS/ASP.NET**: Using the standard HttpModule and HttpHandler types, OWIN pipelines can run on IIS as a part of an ASP.NET request flow.</span></span> <span data-ttu-id="b5e72-240">Suporte à hospedagem de ASP.NET é habilitado por instalar o pacote NuGet de Microsoft.AspNet.Host.SystemWeb em um projeto de aplicativo Web.</span><span class="sxs-lookup"><span data-stu-id="b5e72-240">ASP.NET hosting support is enabled by installing the Microsoft.AspNet.Host.SystemWeb NuGet package into a Web application project.</span></span> <span data-ttu-id="b5e72-241">Além disso, como IIS atua como um host e um servidor, a diferença de host do servidor OWIN é confundida neste pacote NuGet, que significa que, se usar o host SystemWeb, um desenvolvedor não pode substituir uma implementação de servidor alternativo.</span><span class="sxs-lookup"><span data-stu-id="b5e72-241">Additionally, because IIS acts as both a host and a server, the OWIN server/host distinction is conflated in this NuGet package, meaning that if using the SystemWeb host, a developer cannot substitute an alternate server implementation.</span></span>  
  
<span data-ttu-id="b5e72-242">**Host personalizado**: Katana o conjunto de componentes permite que um desenvolvedor para hospedar aplicativos no próprio processo personalizado, se é um aplicativo de console, o serviço do Windows, etc. Essa funcionalidade é semelhante ao recurso de auto-host fornecido pela API da Web.</span><span class="sxs-lookup"><span data-stu-id="b5e72-242">**Custom Host**: The Katana component suite gives a developer the ability to host applications in her own custom process, whether that is a console application, Windows service, etc. This capability looks similar to the self-host capability provided by Web API.</span></span> <span data-ttu-id="b5e72-243">O exemplo a seguir mostra um host personalizado de código da API da Web:</span><span class="sxs-lookup"><span data-stu-id="b5e72-243">The following example shows a custom host of Web API code:</span></span>  

[!code-csharp[Main](an-overview-of-project-katana/samples/sample5.cs)]

<span data-ttu-id="b5e72-244">A configuração do próprio host de um aplicativo Katana é semelhante:</span><span class="sxs-lookup"><span data-stu-id="b5e72-244">The self-host setup for a Katana application is similar:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample6.cs)]

<span data-ttu-id="b5e72-245">Uma diferença notável entre as API da Web e Katana exemplos de hospedagem interna é que o código de configuração de API da Web está ausente do exemplo Katana próprio host.</span><span class="sxs-lookup"><span data-stu-id="b5e72-245">One notable difference between the Web API and Katana self-host examples is that the Web API configuration code is missing from the Katana self-host example.</span></span> <span data-ttu-id="b5e72-246">Para habilitar a portabilidade e capacidade de composição, Katana separa o código que inicia o servidor do código que configura o pipeline de processamento da solicitação.</span><span class="sxs-lookup"><span data-stu-id="b5e72-246">In order to enable both portability and composability, Katana separates the code that starts the server from the code that configures the request processing pipeline.</span></span> <span data-ttu-id="b5e72-247">O código que configura a API da Web, em seguida, está contido na classe de inicialização, que Além disso é especificada como o parâmetro de tipo no WebApplication.Start.</span><span class="sxs-lookup"><span data-stu-id="b5e72-247">The code that configures Web API, then is contained in the class Startup, which is additionally specified as the type parameter in WebApplication.Start.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample7.cs)]

<span data-ttu-id="b5e72-248">A classe de inicialização será discutida em maiores detalhes posteriormente neste artigo.</span><span class="sxs-lookup"><span data-stu-id="b5e72-248">The startup class will be discussed in greater detail later in the article.</span></span> <span data-ttu-id="b5e72-249">No entanto, o código necessário para iniciar um Katana auto-host processo parece bastante semelhante ao código que você pode estar usando atualmente em aplicativos de hospedagem interna de API da Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b5e72-249">However, the code required to start a Katana self-host process looks strikingly similar to the code that you may be using today in ASP.NET Web API self-host applications.</span></span>

<span data-ttu-id="b5e72-250">**OwinHost.exe**: enquanto alguns desejar gravar um processo personalizado para executar aplicativos da Web de Katana, muitos prefere simplesmente iniciar um executável predefinido que pode iniciar um servidor e executar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b5e72-250">**OwinHost.exe**: While some will want to write a custom process to run Katana Web applications, many would prefer to simply launch a pre-built executable that can start a server and run their application.</span></span> <span data-ttu-id="b5e72-251">Para este cenário, o conjunto de componentes Katana inclui `OwinHost.exe`.</span><span class="sxs-lookup"><span data-stu-id="b5e72-251">For this scenario, the Katana component suite includes `OwinHost.exe`.</span></span> <span data-ttu-id="b5e72-252">Quando executado no diretório raiz do projeto, este executável iniciarão um servidor (usa o servidor HttpListener por padrão) e usar as convenções para localizar e executar a classe de inicialização do usuário.</span><span class="sxs-lookup"><span data-stu-id="b5e72-252">When run from within a project's root directory, this executable will start a server (it uses the HttpListener server by default) and use conventions to find and run the user's startup class.</span></span> <span data-ttu-id="b5e72-253">Para um controle mais granular, o executável fornece um número de parâmetros de linha de comando adicionais.</span><span class="sxs-lookup"><span data-stu-id="b5e72-253">For more granular control, the executable provides a number of additional command line parameters.</span></span>

![](an-overview-of-project-katana/_static/image4.png)

## <a name="server"></a><span data-ttu-id="b5e72-254">Servidor</span><span class="sxs-lookup"><span data-stu-id="b5e72-254">Server</span></span>

 <span data-ttu-id="b5e72-255">Enquanto o host é responsável por iniciar e manter o processo no qual o aplicativo é executado, a responsabilidade do servidor é abrir um soquete de rede, escutar solicitações e enviá-los por meio do pipeline de componentes OWIN especificado pelo usuário (como você já deve ter notado, este pipeline é especificado na classe de inicialização do desenvolvedor do aplicativo).</span><span class="sxs-lookup"><span data-stu-id="b5e72-255">While the host is responsible for starting and maintaining process within which the application runs, the responsibility of the server is to open a network socket, listen for requests, and send them through the pipeline of OWIN components specified by the user (as you may have already noticed, this pipeline is specified in the application developer's Startup class).</span></span> <span data-ttu-id="b5e72-256">No momento, o projeto Katana inclui duas implementações de servidor:</span><span class="sxs-lookup"><span data-stu-id="b5e72-256">Currently, the Katana project includes two server implementations:</span></span> 

- <span data-ttu-id="b5e72-257">**Systemweb**: como mencionado anteriormente, o IIS junto com o pipeline do ASP.NET atua como um host e um servidor.</span><span class="sxs-lookup"><span data-stu-id="b5e72-257">**Microsoft.Owin.Host.SystemWeb**: As previously mentioned, IIS in concert with the ASP.NET pipeline acts as both a host and a server.</span></span> <span data-ttu-id="b5e72-258">Portanto, ao escolher essa opção de hospedagem, IIS gerencia preocupações de nível de host, como a ativação de processos tanto de escuta solicitações HTTP.</span><span class="sxs-lookup"><span data-stu-id="b5e72-258">Therefore, when choosing this hosting option, IIS both manages host-level concerns such as process activation and listens for HTTP requests.</span></span> <span data-ttu-id="b5e72-259">Para aplicativos Web ASP.NET, envia as solicitações no pipeline do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b5e72-259">For ASP.NET Web applications, it then sends the requests into the ASP.NET pipeline.</span></span> <span data-ttu-id="b5e72-260">O host Katana SystemWeb registra um HttpModule ASP.NET e HttpHandler para interceptar solicitações forem fluem por meio do pipeline HTTP e enviá-los por meio do pipeline OWIN especificado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="b5e72-260">The Katana SystemWeb host registers an ASP.NET HttpModule and HttpHandler to intercept requests as they flow through the HTTP pipeline and send them through the user-specified OWIN pipeline.</span></span>
- <span data-ttu-id="b5e72-261">**HttpListener**: como seu nome indica, este servidor Katana usa a classe do .NET Framework HttpListener para abrir um soquete e enviar solicitações em um pipeline OWIN especificado pelo desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="b5e72-261">**Microsoft.Owin.Host.HttpListener**: As its name indicates, this Katana server uses the .NET Framework's HttpListener class to open a socket and send requests into a developer-specified OWIN pipeline.</span></span> <span data-ttu-id="b5e72-262">Este é a seleção de servidor padrão para a API de hospedagem interna de Katana e OwinHost.exe.</span><span class="sxs-lookup"><span data-stu-id="b5e72-262">This is currently the default server selection for both the Katana self-host API and OwinHost.exe.</span></span>

## <a name="middlewareframework"></a><span data-ttu-id="b5e72-263">Middleware/framework</span><span class="sxs-lookup"><span data-stu-id="b5e72-263">Middleware/framework</span></span>

 <span data-ttu-id="b5e72-264">Como mencionado anteriormente, quando o servidor aceita uma solicitação de um cliente é responsável por passá-lo por meio de um pipeline de componentes OWIN, que são especificadas pelo código de inicialização do desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="b5e72-264">As previously mentioned, when the server accepts a request from a client, it is responsible for passing it through a pipeline of OWIN components, which are specified by the developer's startup code.</span></span> <span data-ttu-id="b5e72-265">Esses componentes do pipeline são conhecidos como middleware.</span><span class="sxs-lookup"><span data-stu-id="b5e72-265">These pipeline components are known as middleware.</span></span>  
 <span data-ttu-id="b5e72-266">Em um nível muito básico, um componente de middleware OWIN simplesmente precisa implementar o representante do aplicativo OWIN para que ele possa ser chamado.</span><span class="sxs-lookup"><span data-stu-id="b5e72-266">At a very basic level, an OWIN middleware component simply needs to implement the OWIN application delegate so that it is callable.</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample8.cmd)]

<span data-ttu-id="b5e72-267">No entanto, para simplificar o desenvolvimento e a composição de componentes de middleware, Katana dá suporte a uma série de tipos de auxiliar e convenções para componentes de middleware.</span><span class="sxs-lookup"><span data-stu-id="b5e72-267">However, in order to simplify the development and composition of middleware components, Katana supports a handful of conventions and helper types for middleware components.</span></span> <span data-ttu-id="b5e72-268">O mais comum deles é o `OwinMiddleware` classe.</span><span class="sxs-lookup"><span data-stu-id="b5e72-268">The most common of these is the `OwinMiddleware` class.</span></span> <span data-ttu-id="b5e72-269">Um componente de middleware personalizados criado usando essa classe seria semelhante à seguinte:</span><span class="sxs-lookup"><span data-stu-id="b5e72-269">A custom middleware component built using this class would look similar to the following:</span></span> 

[!code-csharp[Main](an-overview-of-project-katana/samples/sample9.cs)]

 <span data-ttu-id="b5e72-270">Essa classe é derivada de `OwinMiddleware`, implementa um construtor que aceita uma instância do próximo middleware no pipeline, como um de seus argumentos e, em seguida, passa para o construtor base.</span><span class="sxs-lookup"><span data-stu-id="b5e72-270">This class derives from `OwinMiddleware`, implements a constructor that accepts an instance of the next middleware in the pipeline as one of its arguments, and then passes it to the base constructor.</span></span> <span data-ttu-id="b5e72-271">Argumentos adicionais usados para configurar o middleware também são declarados como parâmetros do construtor após o próximo parâmetro de middleware.</span><span class="sxs-lookup"><span data-stu-id="b5e72-271">Additional arguments used to configure the middleware are also declared as constructor parameters after the next middleware parameter.</span></span>   
  
<span data-ttu-id="b5e72-272">Em tempo de execução, o middleware é executado por meio de substituído `Invoke` método.</span><span class="sxs-lookup"><span data-stu-id="b5e72-272">At runtime, the middleware is executed via the overridden `Invoke` method.</span></span> <span data-ttu-id="b5e72-273">Esse método aceita um único argumento do tipo `OwinContext`.</span><span class="sxs-lookup"><span data-stu-id="b5e72-273">This method takes a single argument of type `OwinContext`.</span></span> <span data-ttu-id="b5e72-274">Esse objeto de contexto é fornecido pelo `Microsoft.Owin` pacote NuGet descrito anteriormente e fornece acesso fortemente tipado ao dicionário de solicitação e resposta de ambiente, juntamente com alguns tipos auxiliares.</span><span class="sxs-lookup"><span data-stu-id="b5e72-274">This context object is provided by the `Microsoft.Owin` NuGet package described earlier and provides strongly-typed access to the request, response and environment dictionary, along with a few additional helper types.</span></span>   
  
<span data-ttu-id="b5e72-275">A classe de middleware pode ser facilmente adicionada para o pipeline OWIN no código de inicialização do aplicativo da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="b5e72-275">The middleware class can be easily added to the OWIN pipeline in the application startup code as follows:</span></span>   

[!code-csharp[Main](an-overview-of-project-katana/samples/sample10.cs)]

<span data-ttu-id="b5e72-276">Como a infraestrutura Katana simplesmente cria um pipeline de componentes de middleware OWIN, e os componentes simplesmente precisam oferecer suporte o representante do aplicativo para participar do pipeline, componentes de middleware podem variar em complexidade de simples agentes de log para todas estruturas, como ASP.NET, API da Web, ou [SignalR](../../../signalr/index.md).</span><span class="sxs-lookup"><span data-stu-id="b5e72-276">Because the Katana infrastructure simply builds up a pipeline of OWIN middleware components, and because the components simply need to support the application delegate to participate in the pipeline, middleware components can range in complexity from simple loggers to entire frameworks like ASP.NET, Web API, or [SignalR](../../../signalr/index.md).</span></span> <span data-ttu-id="b5e72-277">Por exemplo, a adição de API da Web do ASP.NET para o pipeline OWIN anterior requer adicionando o seguinte código de inicialização:</span><span class="sxs-lookup"><span data-stu-id="b5e72-277">For example, adding ASP.NET Web API to the previous OWIN pipeline requires adding the following startup code:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample11.cs)]

<span data-ttu-id="b5e72-278">A infraestrutura Katana criará o pipeline de componentes de middleware com base na ordem em que foram adicionados ao objeto IAppBuilder no método de configuração.</span><span class="sxs-lookup"><span data-stu-id="b5e72-278">The Katana infrastructure will build the pipeline of middleware components based on the order in which they were added to the IAppBuilder object in the Configuration method.</span></span> <span data-ttu-id="b5e72-279">Em nosso exemplo, em seguida, LoggerMiddleware pode lidar com todas as solicitações que fluem por meio do pipeline, independentemente de como essas solicitações, por fim, são tratadas.</span><span class="sxs-lookup"><span data-stu-id="b5e72-279">In our example, then, LoggerMiddleware can handle all requests that flow through the pipeline, regardless of how those requests are ultimately handled.</span></span> <span data-ttu-id="b5e72-280">Isso permite cenários avançados em que um componente de middleware (por exemplo, um componente de autenticação) pode processar solicitações de um pipeline que inclui vários componentes e estruturas (por exemplo, API da Web do ASP.NET SignalR e um servidor de arquivos estáticos).</span><span class="sxs-lookup"><span data-stu-id="b5e72-280">This enables powerful scenarios where a middleware component (e.g. an authentication component) can process requests for a pipeline that includes multiple components and frameworks (e.g. ASP.NET Web API, SignalR, and a static file server).</span></span>
 
## <a name="applications"></a><span data-ttu-id="b5e72-281">Aplicativos</span><span class="sxs-lookup"><span data-stu-id="b5e72-281">Applications</span></span>

<span data-ttu-id="b5e72-282">Como ilustrado nos exemplos anteriores, OWIN e o projeto Katana devem não ser considerados como um novo modelo de programação de aplicativo, mas como uma abstração para desassociar os modelos de programação de aplicativo e estruturas de servidor e infraestrutura de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="b5e72-282">As illustrated by the previous examples, OWIN and the Katana project should not be thought of as a new application programming model, but rather as an abstraction to decouple application programming models and frameworks from server and hosting infrastructure.</span></span> <span data-ttu-id="b5e72-283">Por exemplo, ao criar aplicativos de API da Web, o framework developer continuará usar a estrutura do ASP.NET Web API, independentemente de estarem ou não o aplicativo é executado em um pipeline OWIN usando componentes de projeto Katana.</span><span class="sxs-lookup"><span data-stu-id="b5e72-283">For example, when building Web API applications, the developer framework will continue to use the ASP.NET Web API framework, irrespective of whether or not the application runs in an OWIN pipeline using components from the Katana project.</span></span> <span data-ttu-id="b5e72-284">O único local onde o código relacionado ao OWIN será visível para o desenvolvedor do aplicativo será o código de inicialização do aplicativo, em que o desenvolvedor compõe o pipeline OWIN.</span><span class="sxs-lookup"><span data-stu-id="b5e72-284">The one place where OWIN-related code will be visible to the application developer will be the application startup code, where the developer composes the OWIN pipeline.</span></span> <span data-ttu-id="b5e72-285">No código de inicialização, o desenvolvedor registrará uma série de instruções de UseXx, geralmente uma para cada componente de middleware que processará as solicitações de entrada.</span><span class="sxs-lookup"><span data-stu-id="b5e72-285">In the startup code, the developer will register a series of UseXx statements, generally one for each middleware component that will process incoming requests.</span></span> <span data-ttu-id="b5e72-286">Essa experiência terá o mesmo efeito que o registro de módulos HTTP no mundo atual de System. Web.</span><span class="sxs-lookup"><span data-stu-id="b5e72-286">This experience will have the same effect as registering HTTP modules in the current System.Web world.</span></span> <span data-ttu-id="b5e72-287">Normalmente, um middleware estrutura maior, como a API da Web ASP.NET ou [SignalR](../../../signalr/index.md) será registrado no final do pipeline.</span><span class="sxs-lookup"><span data-stu-id="b5e72-287">Typically, a larger framework middleware, such as ASP.NET Web API or [SignalR](../../../signalr/index.md) will be registered at the end of the pipeline.</span></span> <span data-ttu-id="b5e72-288">Componentes de middleware abrangentes, como aquelas para autenticação ou armazenar em cache, geralmente são registrados em direção ao início do pipeline para que ele processe as solicitações para todas as estruturas e os componentes registrados mais tarde no pipeline.</span><span class="sxs-lookup"><span data-stu-id="b5e72-288">Cross-cutting middleware components, such as those for authentication or caching, are generally registered towards the beginning of the pipeline so that they will process requests for all of the frameworks and components registered later in the pipeline.</span></span> <span data-ttu-id="b5e72-289">Essa separação dos componentes de middleware umas das outras e os componentes da infraestrutura subjacente permite que os componentes desenvolver em diferentes velocidades enquanto garante que todo o sistema permaneça estável.</span><span class="sxs-lookup"><span data-stu-id="b5e72-289">This separation of the middleware components from each other and from the underlying infrastructure components enables the components to evolve at different velocities while ensuring that the overall system remains stable.</span></span>

## <a name="components--nuget-packages"></a><span data-ttu-id="b5e72-290">Componentes – pacotes do NuGet</span><span class="sxs-lookup"><span data-stu-id="b5e72-290">Components – NuGet Packages</span></span>

<span data-ttu-id="b5e72-291">Como muitas estruturas e bibliotecas atuais, os componentes do projeto Katana são entregues como um conjunto de pacotes do NuGet.</span><span class="sxs-lookup"><span data-stu-id="b5e72-291">Like many current libraries and frameworks, the Katana project components are delivered as a set of NuGet packages.</span></span> <span data-ttu-id="b5e72-292">Para a próxima versão 2.0, o gráfico de dependência de pacote Katana procura.</span><span class="sxs-lookup"><span data-stu-id="b5e72-292">For the upcoming version 2.0, the Katana package dependency graph looks as follows.</span></span> <span data-ttu-id="b5e72-293">(Clique na imagem de exibição maior).</span><span class="sxs-lookup"><span data-stu-id="b5e72-293">(Click on image for larger view.)</span></span>

[![](an-overview-of-project-katana/_static/image6.png)](an-overview-of-project-katana/_static/image5.png)

<span data-ttu-id="b5e72-294">Quase todos os pacotes no projeto Katana depende, direta ou indiretamente, o pacote de Owin.</span><span class="sxs-lookup"><span data-stu-id="b5e72-294">Nearly every package in the Katana project depends, directly or indirectly, on the Owin package.</span></span> <span data-ttu-id="b5e72-295">Você deve se lembrar de que este é o pacote que contém a interface IAppBuilder, que fornece uma implementação concreta da sequência de inicialização de aplicativo descrita na seção 4 da especificação de OWIN.</span><span class="sxs-lookup"><span data-stu-id="b5e72-295">You may remember that this is the package that contains the IAppBuilder interface, which provides a concrete implementation of the application startup sequence described in section 4 of the OWIN specification.</span></span> <span data-ttu-id="b5e72-296">Além disso, muitos dos pacotes dependem pt, que fornece um conjunto de tipos de auxiliar para trabalhar com solicitações e respostas HTTP.</span><span class="sxs-lookup"><span data-stu-id="b5e72-296">Additionally, many of the packages depend on Microsoft.Owin, which provides a set of helper types for working with HTTP requests and responses.</span></span> <span data-ttu-id="b5e72-297">O restante do pacote pode ser classificado como hospedagem pacotes de infraestrutura (servidores ou hosts) ou middleware.</span><span class="sxs-lookup"><span data-stu-id="b5e72-297">The remainder of the package can be classified as either hosting infrastructure packages (servers or hosts) or middleware.</span></span> <span data-ttu-id="b5e72-298">Pacotes e dependências externas ao projeto Katana são exibidas em laranja.</span><span class="sxs-lookup"><span data-stu-id="b5e72-298">Packages and dependencies that are external to the Katana project are displayed in orange.</span></span>

<span data-ttu-id="b5e72-299">A infraestrutura de hospedagem para Katana 2.0 inclui o SystemWeb e servidores baseados em HttpListener, o pacote OwinHost para executar aplicativos OWIN usando OwinHost.exe e o pacote Hosting para auto-hospedagem aplicativos OWIN em um host personalizado (por exemplo, aplicativo de console, serviço do Windows, etc.)</span><span class="sxs-lookup"><span data-stu-id="b5e72-299">The hosting infrastructure for Katana 2.0 includes both the SystemWeb and HttpListener-based servers, the OwinHost package for running OWIN applications using OwinHost.exe, and the Microsoft.Owin.Hosting package for self-hosting OWIN applications in a custom host (e.g. console application, Windows service, etc.)</span></span>

<span data-ttu-id="b5e72-300">Para Katana 2.0, os componentes de middleware principalmente são se concentra em fornecer meios diferentes de autenticação.</span><span class="sxs-lookup"><span data-stu-id="b5e72-300">For Katana 2.0, the middleware components are primarily focused on providing different means of authentication.</span></span> <span data-ttu-id="b5e72-301">Um componente de middleware adicionais de diagnóstico for fornecido, o que habilita o suporte para uma página de início e de erro.</span><span class="sxs-lookup"><span data-stu-id="b5e72-301">One additional middleware component for diagnostics is provided, which enables support for a start and error page.</span></span> <span data-ttu-id="b5e72-302">À medida que cresce OWIN para a abstração de hospedagem de fato, o ecossistema de componentes de middleware, tanto os desenvolvido pela Microsoft e de terceiros, também aumentam em número.</span><span class="sxs-lookup"><span data-stu-id="b5e72-302">As OWIN grows into the de facto hosting abstraction, the ecosystem of middleware components, both those developed by Microsoft and third parties, will also grow in number.</span></span>

## <a name="conclusion"></a><span data-ttu-id="b5e72-303">Conclusão</span><span class="sxs-lookup"><span data-stu-id="b5e72-303">Conclusion</span></span>

 <span data-ttu-id="b5e72-304">Desde o começo meta do projeto Katana não foi criar e, portanto, forçar os desenvolvedores a aprender ainda outra estrutura da Web.</span><span class="sxs-lookup"><span data-stu-id="b5e72-304">From its beginning, the Katana project's goal has not been to create and thereby force developers to learn yet another Web framework.</span></span> <span data-ttu-id="b5e72-305">Em vez disso, a meta foi criar uma abstração para fornecer os desenvolvedores de aplicativos Web .NET mais opções que foi anteriormente possíveis.</span><span class="sxs-lookup"><span data-stu-id="b5e72-305">Rather, the goal has been to create an abstraction to give .NET Web application developers more choice than has previously been possible.</span></span> <span data-ttu-id="b5e72-306">Dividindo as camadas lógicas de uma pilha de aplicativo Web típica em um conjunto de componentes, o projeto Katana permite componentes em toda a pilha para melhorar a taxa de qualquer faz sentido para os componentes.</span><span class="sxs-lookup"><span data-stu-id="b5e72-306">By breaking up the logical layers of a typical Web application stack into a set of replaceable components, the Katana project enables components throughout the stack to improve at whatever rate makes sense for those components.</span></span> <span data-ttu-id="b5e72-307">Criando todos os componentes de uma solução alternativa para a abstração de OWIN simple, Katana habilita estruturas e os aplicativos criados sobrelos para ser portátil em uma variedade de hosts e servidores diferentes.</span><span class="sxs-lookup"><span data-stu-id="b5e72-307">By building all components around the simple OWIN abstraction, Katana enables frameworks and the applications built on top of them to be portable across a variety of different servers and hosts.</span></span> <span data-ttu-id="b5e72-308">Colocando o desenvolvedor do controle da pilha, Katana garante que o desenvolvedor torna a escolha final sobre como simples ou como recursos sua pilha da Web deve ser.</span><span class="sxs-lookup"><span data-stu-id="b5e72-308">By putting the developer in control of the stack, Katana ensures that the developer makes the ultimate choice about how lightweight or how feature-rich her Web stack should be.</span></span>  
  

## <a name="for-more-information-about-katana"></a><span data-ttu-id="b5e72-309">Para obter mais informações sobre Katana</span><span class="sxs-lookup"><span data-stu-id="b5e72-309">For more information about Katana</span></span>

- <span data-ttu-id="b5e72-310">O projeto Katana no GitHub: [ https://github.com/aspnet/AspNetKatana/ ](https://github.com/aspnet/AspNetKatana/).</span><span class="sxs-lookup"><span data-stu-id="b5e72-310">The Katana project on GitHub: [https://github.com/aspnet/AspNetKatana/](https://github.com/aspnet/AspNetKatana/).</span></span>
- <span data-ttu-id="b5e72-311">Vídeo: [projeto Katana - OWIN para o ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), por Howard Dierking.</span><span class="sxs-lookup"><span data-stu-id="b5e72-311">Video: [The Katana Project - OWIN for ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), by Howard Dierking.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="b5e72-312">Confirmações</span><span class="sxs-lookup"><span data-stu-id="b5e72-312">Acknowledgements</span></span>

- <span data-ttu-id="b5e72-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [ @RickAndMSFT ](http://twitter.com/RickAndMSFT) ) Rick é escritor técnico de programação para a Microsoft se concentra no Azure e MVC.</span><span class="sxs-lookup"><span data-stu-id="b5e72-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [@RickAndMSFT](http://twitter.com/RickAndMSFT) ) Rick is a senior programming writer for Microsoft focusing on Azure and MVC.</span></span>
- <span data-ttu-id="b5e72-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [ @shanselman ](https://twitter.com/shanselman) )</span><span class="sxs-lookup"><span data-stu-id="b5e72-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [@shanselman](https://twitter.com/shanselman) )</span></span>
- <span data-ttu-id="b5e72-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [ @jongalloway ](https://twitter.com/jongalloway) )</span><span class="sxs-lookup"><span data-stu-id="b5e72-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [@jongalloway](https://twitter.com/jongalloway) )</span></span>
