---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
title: Implantando pacotes da Web | Microsoft Docs
author: jrjlee
description: Este tópico descreve como você pode publicar pacotes de implantação da web para um servidor remoto usando a ferramenta de implantação do Internet Information Services (IIS) da Web (Web...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: a5c5eed2-8683-40a5-a2e1-35c9f8d17c29
ms.technology: dotnet-webforms
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
msc.type: authoredcontent
ms.openlocfilehash: a660a9a5593d41064ab099296d4a7a675b206bb5
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/03/2018
ms.locfileid: "37392852"
---
<a name="deploying-web-packages"></a><span data-ttu-id="4a24e-103">Implantando pacotes da Web</span><span class="sxs-lookup"><span data-stu-id="4a24e-103">Deploying Web Packages</span></span>
====================
<span data-ttu-id="4a24e-104">por [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="4a24e-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="4a24e-105">Baixar PDF</span><span class="sxs-lookup"><span data-stu-id="4a24e-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="4a24e-106">Este tópico descreve como você pode publicar pacotes de implantação da web para um servidor remoto usando a ferramenta de implantação do Internet Information Services (IIS) da Web (implantação da Web) 2.0.</span><span class="sxs-lookup"><span data-stu-id="4a24e-106">This topic describes how you can publish web deployment packages to a remote server by using the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) 2.0.</span></span>
> 
> <span data-ttu-id="4a24e-107">Há duas maneiras principais no qual você pode implantar um pacote da web a um servidor remoto:</span><span class="sxs-lookup"><span data-stu-id="4a24e-107">There are two main ways in which you can deploy a web package to a remote server:</span></span>
> 
> - <span data-ttu-id="4a24e-108">Você pode usar o utilitário de linha de comando MSDeploy.exe diretamente.</span><span class="sxs-lookup"><span data-stu-id="4a24e-108">You can use the MSDeploy.exe command-line utility directly.</span></span>
> - <span data-ttu-id="4a24e-109">Você pode executar o *[nome do projeto].deploy.cmd* arquivo que gera o processo de compilação.</span><span class="sxs-lookup"><span data-stu-id="4a24e-109">You can run the *[project name].deploy.cmd* file that the build process generates.</span></span>
> 
> <span data-ttu-id="4a24e-110">O resultado final é a mesma, independentemente de qual abordagem você usa.</span><span class="sxs-lookup"><span data-stu-id="4a24e-110">The end result is the same regardless of which approach you use.</span></span> <span data-ttu-id="4a24e-111">Essencialmente, todos os *. Deploy. cmd* arquivo faz é executar MSDeploy.exe com alguns valores predeterminados, para que você não precisa fornecer o máximo de informações para implantar o pacote.</span><span class="sxs-lookup"><span data-stu-id="4a24e-111">Essentially, all the *.deploy.cmd* file does is to run MSDeploy.exe with some predetermined values, so that you don't have to provide as much information in order to deploy the package.</span></span> <span data-ttu-id="4a24e-112">Isso simplifica o processo de implantação.</span><span class="sxs-lookup"><span data-stu-id="4a24e-112">This simplifies the deployment process.</span></span> <span data-ttu-id="4a24e-113">Por outro lado, usando MSDeploy.exe diretamente oferece muito mais flexibilidade sobre exatamente como o pacote é implantado.</span><span class="sxs-lookup"><span data-stu-id="4a24e-113">On the other hand, using MSDeploy.exe directly gives you a lot more flexibility over exactly how your package is deployed.</span></span>
> 
> <span data-ttu-id="4a24e-114">Abordagem usada dependerá de uma variedade de fatores, incluindo o nível de controle necessário durante o processo de implantação e se você estiver visando o serviço Web implantar o agente remoto ou o manipulador de implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="4a24e-114">Which approach you use will depend on a variety of factors, including how much control you require over the deployment process and whether you're targeting the Web Deploy Remote Agent service or the Web Deploy Handler.</span></span> <span data-ttu-id="4a24e-115">Este tópico explica como usar cada abordagem e identifica quando cada abordagem é apropriada.</span><span class="sxs-lookup"><span data-stu-id="4a24e-115">This topic explains how to use each approach and identifies when each approach is appropriate.</span></span>
> 
> <span data-ttu-id="4a24e-116">As tarefas e instruções passo a passo neste tópico pressupõem que:</span><span class="sxs-lookup"><span data-stu-id="4a24e-116">The tasks and walkthroughs in this topic assume that:</span></span>
> 
> - <span data-ttu-id="4a24e-117">Você criou e empacotados de seu aplicativo web, conforme descrito em [compilação e empacotamento Web Application Projects](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-117">You've built and packaged your web application, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
> - <span data-ttu-id="4a24e-118">Você modificou o *SetParameters.xml* arquivo para fornecer os valores de parâmetro certo para seu ambiente de destino, conforme descrito em [Configurando parâmetros para a implantação de pacote da Web](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-118">You've modified the *SetParameters.xml* file to provide the right parameter values for your target environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>


<span data-ttu-id="4a24e-119">Executando o [*nome do projeto*]*. Deploy. cmd* arquivo é a maneira mais simples de implantar um pacote da web.</span><span class="sxs-lookup"><span data-stu-id="4a24e-119">Running the [*project name*]*.deploy.cmd* file is the simplest way to deploy a web package.</span></span> <span data-ttu-id="4a24e-120">Em particular, usando o *. Deploy. cmd* arquivo oferece estas vantagens em relação ao uso MSDeploy.exe diretamente:</span><span class="sxs-lookup"><span data-stu-id="4a24e-120">In particular, using the *.deploy.cmd* file offers these advantages over using MSDeploy.exe directly:</span></span>

- <span data-ttu-id="4a24e-121">Você não precisa especificar o local do pacote de implantação da web&#x2014;o *. Deploy. cmd* arquivo já sabe onde ele está.</span><span class="sxs-lookup"><span data-stu-id="4a24e-121">You don't need to specify the location of the web deployment package&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="4a24e-122">Você não precisa especificar o local do *SetParameters.xml* arquivo&#x2014;o *. Deploy. cmd* arquivo já sabe onde ele está.</span><span class="sxs-lookup"><span data-stu-id="4a24e-122">You don't need to specify the location of the *SetParameters.xml* file&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="4a24e-123">Você não precisa especificar provedores de MSDeploy de origem e destino&#x2014;o *. Deploy. cmd* arquivo já sabe quais valores a serem usados.</span><span class="sxs-lookup"><span data-stu-id="4a24e-123">You don't need to specify source and destination MSDeploy providers&#x2014;the *.deploy.cmd* file already knows which values to use.</span></span>
- <span data-ttu-id="4a24e-124">Você não precisa especificar as configurações de operação do MSDeploy&#x2014;o *. Deploy. cmd* arquivo adiciona automaticamente os valores comumente necessários para o comando MSDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="4a24e-124">You don't need to specify MSDeploy operation settings&#x2014;the *.deploy.cmd* file adds the commonly required values to the MSDeploy.exe command automatically.</span></span>

<span data-ttu-id="4a24e-125">Antes de usar o *. Deploy. cmd* arquivo para implantar um pacote da web, você deve garantir que:</span><span class="sxs-lookup"><span data-stu-id="4a24e-125">Before you use the *.deploy.cmd* file to deploy a web package, you should ensure that:</span></span>

- <span data-ttu-id="4a24e-126">O *. Deploy. cmd* arquivo, o [*nome do projeto*]. *SetParameters.xml* arquivo e o pacote da web ([*nome do projeto*]. *ZIP*) estão na mesma pasta.</span><span class="sxs-lookup"><span data-stu-id="4a24e-126">The *.deploy.cmd* file, the [*project name*].*SetParameters.xml* file, and the web package ([*project name*].*zip*) are in the same folder.</span></span>
- <span data-ttu-id="4a24e-127">A implantação da Web (MSDeploy.exe) está instalada no computador que executa o *. Deploy. cmd* arquivo.</span><span class="sxs-lookup"><span data-stu-id="4a24e-127">Web Deploy (MSDeploy.exe) is installed on the computer that runs the *.deploy.cmd* file.</span></span>

<span data-ttu-id="4a24e-128">O *. Deploy. cmd* arquivo dá suporte a várias opções de linha de comando.</span><span class="sxs-lookup"><span data-stu-id="4a24e-128">The *.deploy.cmd* file supports various command-line options.</span></span> <span data-ttu-id="4a24e-129">Quando você executar o arquivo em um prompt de comando, esta é a sintaxe básica:</span><span class="sxs-lookup"><span data-stu-id="4a24e-129">When you run the file from a command prompt, this is the basic syntax:</span></span>


[!code-console[Main](deploying-web-packages/samples/sample1.cmd)]


<span data-ttu-id="4a24e-130">Você deve especificar uma **/T** sinalizador ou uma **/Y** sinalizador para indicar se deseja executar uma execução de teste ou uma implantação em tempo real, respectivamente (não use ambos os sinalizadores no mesmo comando).</span><span class="sxs-lookup"><span data-stu-id="4a24e-130">You must specify either a **/T** flag or a **/Y** flag, to indicate whether you want to perform a trial run or a live deployment respectively (don't use both flags in the same command).</span></span> <span data-ttu-id="4a24e-131">Esta tabela explica a finalidade de cada um desses sinalizadores.</span><span class="sxs-lookup"><span data-stu-id="4a24e-131">This table explains the purpose of each of these flags.</span></span>

| <span data-ttu-id="4a24e-132">Sinalizador</span><span class="sxs-lookup"><span data-stu-id="4a24e-132">Flag</span></span> | <span data-ttu-id="4a24e-133">Descrição</span><span class="sxs-lookup"><span data-stu-id="4a24e-133">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4a24e-134">**/T**</span><span class="sxs-lookup"><span data-stu-id="4a24e-134">**/T**</span></span> | <span data-ttu-id="4a24e-135">Chama MSDeploy.exe com o **– whatif** sinalizador que indica uma execução de teste.</span><span class="sxs-lookup"><span data-stu-id="4a24e-135">Calls MSDeploy.exe with the **–whatif** flag, which indicates a trial run.</span></span> <span data-ttu-id="4a24e-136">Em vez de implantar o pacote, ele cria um relatório do que ocorreria se você tiver implantado o pacote.</span><span class="sxs-lookup"><span data-stu-id="4a24e-136">Rather than deploying the package, it creates a report of what would happen if you did deploy the package.</span></span> |
| <span data-ttu-id="4a24e-137">**/Y**</span><span class="sxs-lookup"><span data-stu-id="4a24e-137">**/Y**</span></span> | <span data-ttu-id="4a24e-138">Chama MSDeploy.exe sem o **– whatif** sinalizador.</span><span class="sxs-lookup"><span data-stu-id="4a24e-138">Calls MSDeploy.exe without the **–whatif** flag.</span></span> <span data-ttu-id="4a24e-139">Isso implanta o pacote para o computador local ou o servidor de destino especificado.</span><span class="sxs-lookup"><span data-stu-id="4a24e-139">This deploys the package to the local computer or the specified destination server.</span></span> |
| <span data-ttu-id="4a24e-140">**/M**</span><span class="sxs-lookup"><span data-stu-id="4a24e-140">**/M**</span></span> | <span data-ttu-id="4a24e-141">Especifica o servidor de destino nome ou URL do serviço.</span><span class="sxs-lookup"><span data-stu-id="4a24e-141">Specifies the destination server name or service URL.</span></span> <span data-ttu-id="4a24e-142">Para obter mais informações sobre os valores que você pode fornecer aqui, consulte a **considerações sobre o ponto de extremidade** neste tópico.</span><span class="sxs-lookup"><span data-stu-id="4a24e-142">For more information on the values you can provide here, see the **Endpoint Considerations** section in this topic.</span></span> <span data-ttu-id="4a24e-143">Se você omitir a **/M** sinalizador, o pacote será implantado no computador local.</span><span class="sxs-lookup"><span data-stu-id="4a24e-143">If you omit the **/M** flag, the package will be deployed to the local computer.</span></span> |
| <span data-ttu-id="4a24e-144">**/A**</span><span class="sxs-lookup"><span data-stu-id="4a24e-144">**/A**</span></span> | <span data-ttu-id="4a24e-145">Especifica o tipo de autenticação que MSDeploy.exe deve usar para executar a implantação.</span><span class="sxs-lookup"><span data-stu-id="4a24e-145">Specifies the authentication type that MSDeploy.exe should use to perform the deployment.</span></span> <span data-ttu-id="4a24e-146">Os valores possíveis são **NTLM** e **básica**.</span><span class="sxs-lookup"><span data-stu-id="4a24e-146">Possible values are **NTLM** and **Basic**.</span></span> <span data-ttu-id="4a24e-147">Se você omitir a **/A** sinalizador, o tipo de autenticação padrão é **NTLM** para a implantação para o serviço Web implantar o agente remoto e, ao **básica** para implantação para a implantação da Web Manipulador.</span><span class="sxs-lookup"><span data-stu-id="4a24e-147">If you omit the **/A** flag, the authentication type defaults to **NTLM** for deployment to the Web Deploy Remote Agent service and to **Basic** for deployment to the Web Deploy Handler.</span></span> |
| <span data-ttu-id="4a24e-148">**/U**</span><span class="sxs-lookup"><span data-stu-id="4a24e-148">**/U**</span></span> | <span data-ttu-id="4a24e-149">Especifica o nome de usuário.</span><span class="sxs-lookup"><span data-stu-id="4a24e-149">Specifies the user name.</span></span> <span data-ttu-id="4a24e-150">Isso se aplica apenas se você estiver usando autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="4a24e-150">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="4a24e-151">**/P**</span><span class="sxs-lookup"><span data-stu-id="4a24e-151">**/P**</span></span> | <span data-ttu-id="4a24e-152">Especifica a senha.</span><span class="sxs-lookup"><span data-stu-id="4a24e-152">Specifies the password.</span></span> <span data-ttu-id="4a24e-153">Isso se aplica apenas se você estiver usando autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="4a24e-153">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="4a24e-154">**/L**</span><span class="sxs-lookup"><span data-stu-id="4a24e-154">**/L**</span></span> | <span data-ttu-id="4a24e-155">Indica que o pacote deve ser implantado na instância local do IIS Express.</span><span class="sxs-lookup"><span data-stu-id="4a24e-155">Indicates that the package should be deployed to the local IIS Express instance.</span></span> |
| <span data-ttu-id="4a24e-156">**/G**</span><span class="sxs-lookup"><span data-stu-id="4a24e-156">**/G**</span></span> | <span data-ttu-id="4a24e-157">Especifica que o pacote é implantado usando o [configuração de provedor tempAgent](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="4a24e-157">Specifies that the package is deployed using the [tempAgent provider setting](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span></span> <span data-ttu-id="4a24e-158">Se você omitir a **/G** sinalizador, o valor padrão de **falso**.</span><span class="sxs-lookup"><span data-stu-id="4a24e-158">If you omit the **/G** flag, the value defaults to **false**.</span></span> |

> [!NOTE]
> <span data-ttu-id="4a24e-159">Sempre que o processo de compilação cria um pacote da web, ele também cria um arquivo chamado *[nome do projeto] Readme. txt. Deploy* que explica essas opções de implantação.</span><span class="sxs-lookup"><span data-stu-id="4a24e-159">Every time the build process creates a web package, it also creates a file named *[project name].deploy-readme.txt* that explains these deployment options.</span></span>


<span data-ttu-id="4a24e-160">Além desses sinalizadores, você pode especificar as configurações de implantação da Web de operação como adicionais *. Deploy. cmd* parâmetros.</span><span class="sxs-lookup"><span data-stu-id="4a24e-160">In addition to these flags, you can specify Web Deploy operation settings as additional *.deploy.cmd* parameters.</span></span> <span data-ttu-id="4a24e-161">As configurações adicionais que você especificar simplesmente são passadas para o comando MSDeploy.exe subjacente.</span><span class="sxs-lookup"><span data-stu-id="4a24e-161">Any additional settings you specify are simply passed through to the underlying MSDeploy.exe command.</span></span> <span data-ttu-id="4a24e-162">Para obter mais informações sobre essas configurações, consulte [Web implantar as configurações de operação](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="4a24e-162">For more information on these settings, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span>

<span data-ttu-id="4a24e-163">Suponha que você deseja implantar o projeto de aplicativo web ContactManager.Mvc em um ambiente de teste executando o *. Deploy. cmd* arquivo.</span><span class="sxs-lookup"><span data-stu-id="4a24e-163">Suppose you want to deploy the ContactManager.Mvc web application project to a test environment by running the *.deploy.cmd* file.</span></span> <span data-ttu-id="4a24e-164">Seu ambiente de teste está configurado para usar o serviço de agente remoto da Web implantar, conforme descrito em [configurar um servidor Web para publicação de implantação do Web (agente remoto)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-164">Your test environment is configured to use the Web Deploy Remote Agent service, as described in [Configure a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span> <span data-ttu-id="4a24e-165">Para implantar o aplicativo web, você precisará concluir as próximas etapas.</span><span class="sxs-lookup"><span data-stu-id="4a24e-165">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="4a24e-166">**Para implantar um aplicativo web usando o. arquivo Deploy.**</span><span class="sxs-lookup"><span data-stu-id="4a24e-166">**To deploy a web application using the .deploy.cmd file**</span></span>

1. <span data-ttu-id="4a24e-167">Compile e empacote o projeto de aplicativo web, conforme descrito em [compilação e empacotamento Web Application Projects](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-167">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="4a24e-168">Modificar a *ContactManager.Mvc.SetParameters.xml* arquivo para conter os valores de parâmetro corretos para seu ambiente de teste, conforme descrito em [Configurando parâmetros para a implantação de pacote da Web](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-168">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your test environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="4a24e-169">Abra uma janela de Prompt de comando e navegue até o local do *ContactManager.Mvc.deploy.cmd* arquivo.</span><span class="sxs-lookup"><span data-stu-id="4a24e-169">Open a Command Prompt window and navigate to the location of the *ContactManager.Mvc.deploy.cmd* file.</span></span>
4. <span data-ttu-id="4a24e-170">Digite o seguinte comando e pressione Enter:</span><span class="sxs-lookup"><span data-stu-id="4a24e-170">Type this command, and then press Enter:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample2.cmd)]

<span data-ttu-id="4a24e-171">Neste exemplo:</span><span class="sxs-lookup"><span data-stu-id="4a24e-171">In this example:</span></span>

- <span data-ttu-id="4a24e-172">O **/Y** sinalizador indica que você deseja implantar, na verdade, o pacote, em vez de fazer uma avaliação de execução.</span><span class="sxs-lookup"><span data-stu-id="4a24e-172">The **/Y** flag indicates that you want to actually deploy the package, rather than doing a trial run.</span></span>
- <span data-ttu-id="4a24e-173">O **/M** sinalizador indica que você deseja implantar o pacote em um servidor chamado TESTWEB1.</span><span class="sxs-lookup"><span data-stu-id="4a24e-173">The **/M** flag indicates that you want to deploy the package to the server named TESTWEB1.</span></span> <span data-ttu-id="4a24e-174">A partir desse valor, MSDeploy.exe tentar implantar o pacote para o serviço Web implantar o agente remoto no http://TESTWEB1/MSDeployAgentService.</span><span class="sxs-lookup"><span data-stu-id="4a24e-174">From this value, MSDeploy.exe will attempt to deploy the package to the Web Deploy Remote Agent service at http://TESTWEB1/MSDeployAgentService.</span></span>
- <span data-ttu-id="4a24e-175">O **/A** sinalizador indica que você deseja usar a autenticação NTLM.</span><span class="sxs-lookup"><span data-stu-id="4a24e-175">The **/A** flag indicates that you want to use NTLM authentication.</span></span> <span data-ttu-id="4a24e-176">Como tal, você não precisa especificar um nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="4a24e-176">As such, you don't need to specify a user name and password.</span></span>

<span data-ttu-id="4a24e-177">Para ilustrar como usar o *. Deploy. cmd* arquivo simplifica o processo de implantação, dê uma olhada no que obtém gerado e executado quando você executa o comando MSDeploy.exe *ContactManager.Mvc.deploy.cmd* usando as opções mostradas acima.</span><span class="sxs-lookup"><span data-stu-id="4a24e-177">To illustrate how using the *.deploy.cmd* file simplifies the deployment process, take a look at the MSDeploy.exe command that gets generated and executed when you run *ContactManager.Mvc.deploy.cmd* using the options shown above.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample3.cmd)]


<span data-ttu-id="4a24e-178">Para obter mais informações sobre como usar o *. Deploy. cmd* arquivo para implantar um pacote da web, consulte [como: instalar uma implantação de pacote usando o arquivo Deploy](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="4a24e-178">For more information on using the *.deploy.cmd* file to deploy a web package, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span>

## <a name="using-msdeployexe"></a><span data-ttu-id="4a24e-179">Usando MSDeploy.exe</span><span class="sxs-lookup"><span data-stu-id="4a24e-179">Using MSDeploy.exe</span></span>

<span data-ttu-id="4a24e-180">Embora o uso de *. Deploy. cmd* arquivo geralmente simplifica o processo de implantação, há algumas situações, quando é preferível usar MSDeploy.exe diretamente.</span><span class="sxs-lookup"><span data-stu-id="4a24e-180">Although using the *.deploy.cmd* file generally simplifies the deployment process, there are some situations when it's preferable to use MSDeploy.exe directly.</span></span> <span data-ttu-id="4a24e-181">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="4a24e-181">For example:</span></span>

- <span data-ttu-id="4a24e-182">Se você deseja implantar para o manipulador de implantação da Web como um usuário não administrador, você não poderá usar o *. Deploy. cmd* arquivo.</span><span class="sxs-lookup"><span data-stu-id="4a24e-182">If you want to deploy to the Web Deploy Handler as a non-administrator user, you can't use the *.deploy.cmd* file.</span></span> <span data-ttu-id="4a24e-183">Isso é devido a um bug na Web Deploy 2.0, conforme descrito em **considerações sobre o ponto de extremidade**.</span><span class="sxs-lookup"><span data-stu-id="4a24e-183">This is due to a bug in Web Deploy 2.0, as described under **Endpoint Considerations**.</span></span>
- <span data-ttu-id="4a24e-184">Se você quiser mudar manualmente entre diferentes *SetParameters.xml* arquivos em locais diferentes, talvez você prefira usar MSDeploy.exe diretamente.</span><span class="sxs-lookup"><span data-stu-id="4a24e-184">If you want to manually switch between different *SetParameters.xml* files in different locations, you may prefer to use MSDeploy.exe directly.</span></span>
- <span data-ttu-id="4a24e-185">Se você quiser substituir vários argumentos de linha de comando MSDeploy.exe, você pode preferir usar MSDeploy.exe diretamente.</span><span class="sxs-lookup"><span data-stu-id="4a24e-185">If you want to override several MSDeploy.exe command-line arguments, you may prefer to use MSDeploy.exe directly.</span></span>

<span data-ttu-id="4a24e-186">Quando você usa MSDeploy.exe, você precisa fornecer três informações cruciais:</span><span class="sxs-lookup"><span data-stu-id="4a24e-186">When you use MSDeploy.exe, you need to provide three key pieces of information:</span></span>

- <span data-ttu-id="4a24e-187">Um **– origem** parâmetro que indica onde seus dados estão vindo.</span><span class="sxs-lookup"><span data-stu-id="4a24e-187">A **–source** parameter that indicates where your data is coming from.</span></span>
- <span data-ttu-id="4a24e-188">Um **dest –** parâmetro que indica onde será seus dados.</span><span class="sxs-lookup"><span data-stu-id="4a24e-188">A **–dest** parameter that indicates where your data is going to.</span></span>
- <span data-ttu-id="4a24e-189">Um **– verbo** parâmetro que indica a [operação](https://technet.microsoft.com/library/dd568989(WS.10).aspx) você deseja executar.</span><span class="sxs-lookup"><span data-stu-id="4a24e-189">A **–verb** parameter that indicates the [operation](https://technet.microsoft.com/library/dd568989(WS.10).aspx) you want to perform.</span></span>

<span data-ttu-id="4a24e-190">Depende de MSDeploy.exe [provedores de implantação da Web](https://technet.microsoft.com/library/dd569040(WS.10).aspx) para processar dados de origem e de destino.</span><span class="sxs-lookup"><span data-stu-id="4a24e-190">MSDeploy.exe relies on [Web Deploy providers](https://technet.microsoft.com/library/dd569040(WS.10).aspx) to process source and destination data.</span></span> <span data-ttu-id="4a24e-191">A implantação da Web inclui vários provedores que representam o intervalo de fontes de dados e aplicativos que ele pode funcionar com&#x2014;por exemplo, há provedores para bancos de dados do SQL Server, servidores web IIS, certificados e assemblies do GAC (cache) de assembly global, várias arquivos de configuração diferentes e muitos outros tipos de dados.</span><span class="sxs-lookup"><span data-stu-id="4a24e-191">Web Deploy includes a lot of providers that represent the range of applications and data sources it can work with&#x2014;for example, there are providers for SQL Server databases, IIS web servers, certificates, global assembly cache (GAC) assemblies, various different configuration files, and lots of other types of data.</span></span> <span data-ttu-id="4a24e-192">Ambos os o **– código-fonte** parâmetro e o **– dest** parâmetro deve especificar um provedor, no formulário **– origem**: [*providerName*] = [*local*].</span><span class="sxs-lookup"><span data-stu-id="4a24e-192">Both the **–source** parameter and the **–dest** parameter must specify a provider, in the form **–source**:[*providerName*]=[*location*].</span></span> <span data-ttu-id="4a24e-193">Quando você estiver implantando um pacote da web para um site do IIS, você deve usar esses valores:</span><span class="sxs-lookup"><span data-stu-id="4a24e-193">When you're deploying a web package to an IIS website, you should use these values:</span></span>

- <span data-ttu-id="4a24e-194">O **– código-fonte** provedor está sempre [pacote](https://technet.microsoft.com/library/dd569019(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="4a24e-194">The **–source** provider is always [package](https://technet.microsoft.com/library/dd569019(WS.10).aspx).</span></span> <span data-ttu-id="4a24e-195">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="4a24e-195">For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample4.cmd)]
- <span data-ttu-id="4a24e-196">O **– dest** provedor está sempre [automática](https://technet.microsoft.com/library/dd569016(WS.10).aspx). Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="4a24e-196">The **–dest** provider is always [auto](https://technet.microsoft.com/library/dd569016(WS.10).aspx). For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample5.cmd)]
- <span data-ttu-id="4a24e-197">O **– verbo** é sempre **sincronização**.</span><span class="sxs-lookup"><span data-stu-id="4a24e-197">The **–verb** is always **sync**.</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample6.cmd)]

<span data-ttu-id="4a24e-198">Além disso, você precisará especificar vários outros [configurações específicas do provedor](https://technet.microsoft.com/library/dd569001(WS.10).aspx) e gerais [as configurações de operação](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="4a24e-198">In addition, you'll need to specify various other [provider-specific settings](https://technet.microsoft.com/library/dd569001(WS.10).aspx) and general [operation settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span> <span data-ttu-id="4a24e-199">Por exemplo, suponha que você deseja implantar o aplicativo da web de ContactManager.Mvc em um ambiente de preparo.</span><span class="sxs-lookup"><span data-stu-id="4a24e-199">For example, suppose you want to deploy the ContactManager.Mvc web application to a staging environment.</span></span> <span data-ttu-id="4a24e-200">A implantação será o manipulador de implantação da Web de destino e deve usar a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="4a24e-200">The deployment will target the Web Deploy Handler and must use basic authentication.</span></span> <span data-ttu-id="4a24e-201">Para implantar o aplicativo web, você precisará concluir as próximas etapas.</span><span class="sxs-lookup"><span data-stu-id="4a24e-201">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="4a24e-202">**Para implantar um aplicativo web usando MSDeploy.exe**</span><span class="sxs-lookup"><span data-stu-id="4a24e-202">**To deploy a web application using MSDeploy.exe**</span></span>

1. <span data-ttu-id="4a24e-203">Compile e empacote o projeto de aplicativo web, conforme descrito em [compilação e empacotamento Web Application Projects](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-203">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="4a24e-204">Modificar a *ContactManager.Mvc.SetParameters.xml* arquivo para conter os valores de parâmetro corretos para seu ambiente de preparo, conforme descrito em [Configurando parâmetros para a implantação de pacote da Web](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-204">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your staging environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="4a24e-205">Abra uma janela de Prompt de comando e navegue até o local do MSDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="4a24e-205">Open a Command Prompt window and browse to the location of MSDeploy.exe.</span></span> <span data-ttu-id="4a24e-206">Isso é geralmente em %PROGRAMFILES%\IIS\Microsoft Web implantar V2\msdeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="4a24e-206">This is typically at %PROGRAMFILES%\IIS\Microsoft Web Deploy V2\msdeploy.exe.</span></span>
4. <span data-ttu-id="4a24e-207">Digite o seguinte comando e pressione Enter (ignore as quebras de linha):</span><span class="sxs-lookup"><span data-stu-id="4a24e-207">Type this command, and then press Enter (disregard the line breaks):</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample7.cmd)]

<span data-ttu-id="4a24e-208">Neste exemplo:</span><span class="sxs-lookup"><span data-stu-id="4a24e-208">In this example:</span></span>

- <span data-ttu-id="4a24e-209">O **– código-fonte** parâmetro especifica o **pacote** provedor e indica o local do pacote da web.</span><span class="sxs-lookup"><span data-stu-id="4a24e-209">The **–source** parameter specifies the **package** provider and indicates the location of the web package.</span></span>
- <span data-ttu-id="4a24e-210">O **– dest** parâmetro especifica o **automático** provedor.</span><span class="sxs-lookup"><span data-stu-id="4a24e-210">The **–dest** parameter specifies the **auto** provider.</span></span> <span data-ttu-id="4a24e-211">O **computerName** configuração fornece a URL do serviço do manipulador de implantar a Web no servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="4a24e-211">The **computerName** setting provides the service URL of the Web Deploy Handler on the destination server.</span></span> <span data-ttu-id="4a24e-212">O **authtype** configuração indica que você deseja usar a autenticação básica, e como tal, você precisa fornecer um **nome de usuário** e um **senha**.</span><span class="sxs-lookup"><span data-stu-id="4a24e-212">The **authtype** setting indicates that you want to use basic authentication, and as such you need to provide a **username** and a **password**.</span></span> <span data-ttu-id="4a24e-213">Por fim, o **includeAcls = "False"** configuração indica que você não deseja copiar as listas de controle de acesso (ACLs) dos arquivos em seu aplicativo web de origem para o servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="4a24e-213">Finally, the **includeAcls="False"** setting indicates that you don't want to copy the access control lists (ACLs) of the files in your source web application to the destination server.</span></span>
- <span data-ttu-id="4a24e-214">O **– verbo: sincronização** argumento indica que você deseja replicar o conteúdo de origem no servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="4a24e-214">The **–verb:sync** argument indicates that you want to replicate the source content on the destination server.</span></span>
- <span data-ttu-id="4a24e-215">O **– disableLink** argumentos indicam que você não deseja replicar os pools de aplicativos, a configuração de diretório virtual ou certificados de Secure Sockets Layer (SSL) no servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="4a24e-215">The **–disableLink** arguments indicate that you don't want to replicate application pools, virtual directory configuration, or Secure Sockets Layer (SSL) certificates on the destination server.</span></span> <span data-ttu-id="4a24e-216">Para obter mais informações, consulte [Web implantar extensões de Link](https://technet.microsoft.com/library/dd569028(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="4a24e-216">For more information, see [Web Deploy Link Extensions](https://technet.microsoft.com/library/dd569028(WS.10).aspx).</span></span>
- <span data-ttu-id="4a24e-217">O **– setParamFile** parâmetro fornece o local do *SetParameters.xml* arquivo.</span><span class="sxs-lookup"><span data-stu-id="4a24e-217">The **–setParamFile** parameter provides the location of the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="4a24e-218">O **– allowUntrusted** opção indica que a implantação da Web deve aceitar certificados SSL que não foram emitidos por uma autoridade de certificação confiável.</span><span class="sxs-lookup"><span data-stu-id="4a24e-218">The **–allowUntrusted** switch indicates that Web Deploy should accept SSL certificates that were not issued by a trusted certification authority.</span></span> <span data-ttu-id="4a24e-219">Se você estiver implantando para o manipulador de implantação da Web, e você usou um certificado autoassinado para proteger a URL do serviço, você precisa incluir essa opção.</span><span class="sxs-lookup"><span data-stu-id="4a24e-219">If you're deploying to the Web Deploy Handler, and you've used a self-signed certificate to secure the service URL, you need to include this switch.</span></span>

## <a name="automating-web-package-deployment"></a><span data-ttu-id="4a24e-220">Automatizando a implantação de pacote da Web</span><span class="sxs-lookup"><span data-stu-id="4a24e-220">Automating Web Package Deployment</span></span>

<span data-ttu-id="4a24e-221">Em muitos cenários empresariais, você vai querer implantar seus pacotes de web como parte de uma única etapa maior ou implantação automatizada.</span><span class="sxs-lookup"><span data-stu-id="4a24e-221">In a lot of enterprise scenarios, you'll want to deploy your web packages as part of a larger single-step or automated deployment.</span></span> <span data-ttu-id="4a24e-222">Independentemente de escolher implantar seus pacotes de web executando o *. Deploy. cmd* de arquivo ou usando MSDeploy.exe diretamente, você pode parametrizar seus comandos e chamá-las de um destino em um Microsoft Build Engine (MSBuild) arquivo de projeto.</span><span class="sxs-lookup"><span data-stu-id="4a24e-222">Regardless of whether you choose to deploy your web packages by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you can parameterize your commands and call them from a target in a Microsoft Build Engine (MSBuild) project file.</span></span>

<span data-ttu-id="4a24e-223">Na solução de exemplo Contact Manager, dê uma olhada a **PublishWebPackages** de destino na *Publish.proj* arquivo.</span><span class="sxs-lookup"><span data-stu-id="4a24e-223">In the Contact Manager sample solution, take a look at the **PublishWebPackages** target in the *Publish.proj* file.</span></span> <span data-ttu-id="4a24e-224">Este destino será executado uma vez para cada *. Deploy. cmd* arquivo identificado por uma lista de itens chamada **PublishPackages**.</span><span class="sxs-lookup"><span data-stu-id="4a24e-224">This target runs once for each *.deploy.cmd* file identified by an item list named **PublishPackages**.</span></span> <span data-ttu-id="4a24e-225">O destino usa propriedades e metadados de item para criar um conjunto completo de valores de argumento para cada *. Deploy. cmd* arquivo e, em seguida, usa o **Exec** tarefa para executar o comando.</span><span class="sxs-lookup"><span data-stu-id="4a24e-225">The target uses properties and item metadata to build up a full set of argument values for each *.deploy.cmd* file and then uses the **Exec** task to run the command.</span></span>


[!code-xml[Main](deploying-web-packages/samples/sample8.xml)]


> [!NOTE]
> <span data-ttu-id="4a24e-226">Para obter uma visão mais ampla do modelo de arquivo de projeto na solução de exemplo e uma introdução aos arquivos de projeto personalizado em geral, consulte [Noções básicas sobre o arquivo de projeto](understanding-the-project-file.md) e [Noções básicas sobre o processo de compilação](understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-226">For a broader overview of the project file model in the sample solution, and an introduction to custom project files in general, see [Understanding the Project File](understanding-the-project-file.md) and [Understanding the Build Process](understanding-the-build-process.md).</span></span>


## <a name="endpoint-considerations"></a><span data-ttu-id="4a24e-227">Considerações sobre o ponto de extremidade</span><span class="sxs-lookup"><span data-stu-id="4a24e-227">Endpoint Considerations</span></span>

<span data-ttu-id="4a24e-228">Independentemente se você implanta o pacote da web executando o *. Deploy. cmd* do arquivo ou usando MSDeploy.exe diretamente, você precisa especificar um nome de computador ou um ponto de extremidade de serviço para sua implantação.</span><span class="sxs-lookup"><span data-stu-id="4a24e-228">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify a computer name or a service endpoint for your deployment.</span></span>

<span data-ttu-id="4a24e-229">Se o servidor web de destino está configurado para implantação usando o serviço Web implantar o agente remoto, você especifica a URL do serviço de destino como seu destino.</span><span class="sxs-lookup"><span data-stu-id="4a24e-229">If the destination web server is configured for deployment using the Web Deploy Remote Agent service, you specify the target service URL as your destination.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample9.cmd)]


<span data-ttu-id="4a24e-230">Como alternativa, você pode especificar somente o nome de servidor como seu destino, e implantação da Web irá inferir a URL do serviço de agente remoto.</span><span class="sxs-lookup"><span data-stu-id="4a24e-230">Alternatively, you can specify the server name alone as your destination, and Web Deploy will infer the remote agent service URL.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample10.cmd)]


<span data-ttu-id="4a24e-231">Se o servidor web de destino está configurado para implantação usando o manipulador de implantação da Web, você precisa especificar o endereço do ponto de extremidade do serviço de gerenciamento do IIS da Web (WMSvc) como seu destino.</span><span class="sxs-lookup"><span data-stu-id="4a24e-231">If the destination web server is configured for deployment using the Web Deploy Handler, you need to specify the endpoint address of the IIS Web Management Service (WMSvc) as your destination.</span></span> <span data-ttu-id="4a24e-232">Por padrão, isso assume a forma:</span><span class="sxs-lookup"><span data-stu-id="4a24e-232">By default, this takes the form:</span></span>


[!code-console[Main](deploying-web-packages/samples/sample11.cmd)]


<span data-ttu-id="4a24e-233">Você pode direcionar qualquer um desses pontos de extremidade usando o *. Deploy. cmd* MSDeploy.exe diretamente ou arquivo.</span><span class="sxs-lookup"><span data-stu-id="4a24e-233">You can target any of these endpoints using either the *.deploy.cmd* file or MSDeploy.exe directly.</span></span> <span data-ttu-id="4a24e-234">No entanto, se você quiser implantar o manipulador de implantação da Web como um usuário não administrador, conforme descrito em [configurar um servidor Web para publicação de implantação do Web (manipulador de implantação da Web)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md), você precisa adicionar uma cadeia de caracteres de consulta para o endereço do ponto de extremidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="4a24e-234">However, if you want to deploy to the Web Deploy Handler as a non-administrator user, as described in [Configure a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md), you need to add a query string to the service endpoint address.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample12.cmd)]


<span data-ttu-id="4a24e-235">Isso ocorre porque o usuário não administrador não tem acesso de nível de servidor no IIS; ele só tem acesso a um site do IIS específico.</span><span class="sxs-lookup"><span data-stu-id="4a24e-235">This is because the non-administrator user doesn't have server-level access to IIS; he or she only has access to a specific IIS website.</span></span> <span data-ttu-id="4a24e-236">No momento da escrita, devido a um bug no Web Publishing Pipeline (WPP), você não pode executar o *. Deploy. cmd* de arquivos usando um endereço de ponto de extremidade que inclui uma cadeia de caracteres de consulta.</span><span class="sxs-lookup"><span data-stu-id="4a24e-236">At the time of writing, due to a bug in the Web Publishing Pipeline (WPP), you can't run the *.deploy.cmd* file using an endpoint address that includes a query string.</span></span> <span data-ttu-id="4a24e-237">Nesse cenário, você precisará implantar o pacote da web usando MSDeploy.exe diretamente.</span><span class="sxs-lookup"><span data-stu-id="4a24e-237">In this scenario, you need to deploy your web package by using MSDeploy.exe directly.</span></span>

> [!NOTE]
> <span data-ttu-id="4a24e-238">Para obter mais informações sobre o serviço Web implantar o agente remoto e o manipulador de implantação da Web, consulte [escolhendo a abordagem da direita para a implantação da Web](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-238">For more information on the Web Deploy Remote Agent service and the Web Deploy Handler, see [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md).</span></span> <span data-ttu-id="4a24e-239">Para obter orientação sobre como configurar seus arquivos de projeto específicas do ambiente para implantar esses pontos de extremidade, consulte [configurar propriedades de implantação para um ambiente de destino](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-239">For guidance on how to configure your environment-specific project files to deploy to these endpoints, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


## <a name="authentication-considerations"></a><span data-ttu-id="4a24e-240">Considerações sobre autenticação</span><span class="sxs-lookup"><span data-stu-id="4a24e-240">Authentication Considerations</span></span>

<span data-ttu-id="4a24e-241">Independentemente se você implanta o pacote da web executando o *. Deploy. cmd* do arquivo ou usando MSDeploy.exe diretamente, você precisa especificar um tipo de autenticação.</span><span class="sxs-lookup"><span data-stu-id="4a24e-241">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify an authentication type.</span></span> <span data-ttu-id="4a24e-242">A implantação da Web aceita dois valores possíveis: **NTLM** ou **básica**.</span><span class="sxs-lookup"><span data-stu-id="4a24e-242">Web Deploy accepts two possible values: **NTLM** or **Basic**.</span></span> <span data-ttu-id="4a24e-243">Se você especificar a autenticação básica, você também precisará fornecer um nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="4a24e-243">If you specify basic authentication, you also need to provide a user name and password.</span></span> <span data-ttu-id="4a24e-244">Há vários fatores que você precisa estar ciente de quando você seleciona um tipo de autenticação:</span><span class="sxs-lookup"><span data-stu-id="4a24e-244">There are various factors you need to be aware of when you select an authentication type:</span></span>

- <span data-ttu-id="4a24e-245">Se você estiver implantando o serviço Web implantar o agente remoto, você deve usar a autenticação NTLM.</span><span class="sxs-lookup"><span data-stu-id="4a24e-245">If you're deploying to the Web Deploy Remote Agent service, you must use NTLM authentication.</span></span> <span data-ttu-id="4a24e-246">O serviço de agente remoto não aceitar credenciais de autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="4a24e-246">The remote agent service doesn't accept basic authentication credentials.</span></span>
- <span data-ttu-id="4a24e-247">Se você estiver implantando o manipulador de implantação da Web, você pode usar a autenticação básica ou NTLM.</span><span class="sxs-lookup"><span data-stu-id="4a24e-247">If you're deploying to the Web Deploy Handler, you can use either NTLM or basic authentication.</span></span> <span data-ttu-id="4a24e-248">A configuração padrão é a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="4a24e-248">The default setting is basic authentication.</span></span> <span data-ttu-id="4a24e-249">Embora a autenticação básica se baseia em nomes de usuário e as senhas sejam transmitidas em texto sem formatação, suas credenciais são protegidas, como o manipulador de implantação da Web sempre usa criptografia SSL.</span><span class="sxs-lookup"><span data-stu-id="4a24e-249">Although basic authentication relies on user names and passwords being transmitted in plain text, your credentials are protected as the Web Deploy Handler always uses SSL encryption.</span></span>
- <span data-ttu-id="4a24e-250">Se o pacote da web inclui um banco de dados e o servidor web e o servidor de banco de dados forem computadores separados, não será capaz de implantar o banco de dados usando a autenticação NTLM devido à [limitação NTLM "salto duplo"](https://go.microsoft.com/?linkid=9805120).</span><span class="sxs-lookup"><span data-stu-id="4a24e-250">If your web package includes a database, and the web server and database server are separate machines, you won't be able to deploy the database using NTLM authentication due to the [NTLM "double-hop" limitation](https://go.microsoft.com/?linkid=9805120).</span></span> <span data-ttu-id="4a24e-251">Você precisa usar credenciais do SQL Server em sua cadeia de conexão de implantação ou fornecer credenciais de autenticação básica para a implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="4a24e-251">You need to either use SQL Server credentials in your deployment connection string or supply basic authentication credentials to Web Deploy.</span></span> <span data-ttu-id="4a24e-252">Esse problema é descrito mais detalhadamente [implantando bancos de dados de associação para ambientes empresariais](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-252">This issue is described in more detail in [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="4a24e-253">Conclusão</span><span class="sxs-lookup"><span data-stu-id="4a24e-253">Conclusion</span></span>

<span data-ttu-id="4a24e-254">Este tópico descreveu como você pode implantar um pacote da web seja executando o *. Deploy. cmd* arquivo ou usando MSDeploy.exe diretamente.</span><span class="sxs-lookup"><span data-stu-id="4a24e-254">This topic described how you can deploy a web package either by running the *.deploy.cmd* file or by using MSDeploy.exe directly.</span></span> <span data-ttu-id="4a24e-255">Ele explicou quando cada abordagem pode ser apropriada e descreveu como você pode parametrizar e executar um comando de implantação como parte de um processo de compilação passo a passo ou automatizado maior.</span><span class="sxs-lookup"><span data-stu-id="4a24e-255">It explained when each approach might be appropriate, and it described how you can parameterize and run a deployment command as part of a larger single-step or automated build process.</span></span>

## <a name="further-reading"></a><span data-ttu-id="4a24e-256">Leitura adicional</span><span class="sxs-lookup"><span data-stu-id="4a24e-256">Further Reading</span></span>

<span data-ttu-id="4a24e-257">Para obter orientação sobre como criar e parametrizar um pacote de implantação da web, consulte [compilação e empacotamento Web Application Projects](building-and-packaging-web-application-projects.md) e [Configurando parâmetros para a implantação de pacote da Web](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-257">For guidance on how to create and parameterize a web deployment package, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span> <span data-ttu-id="4a24e-258">Para obter orientação sobre como criar e implantar pacotes de web de uma instância do Team Foundation Server (TFS), consulte [Configurando o Team Foundation Server para a implantação automatizada de Web](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-258">For guidance on how to build and deploy web packages from a Team Foundation Server (TFS) instance, see [Configuring Team Foundation Server for Automated Web Deployment](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span></span> <span data-ttu-id="4a24e-259">Para obter informações sobre como personalizar e solucionar problemas do processo de implantação, consulte [excluindo arquivos e pastas de implantação](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="4a24e-259">For information on how to customize and troubleshoot the deployment process, see [Excluding Files and Folders from Deployment](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="4a24e-260">[Anterior](configuring-parameters-for-web-package-deployment.md)
> [Próximo](deploying-database-projects.md)</span><span class="sxs-lookup"><span data-stu-id="4a24e-260">[Previous](configuring-parameters-for-web-package-deployment.md)
[Next](deploying-database-projects.md)</span></span>
