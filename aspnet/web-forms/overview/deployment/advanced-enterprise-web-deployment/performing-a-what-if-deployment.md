---
uid: web-forms/overview/deployment/advanced-enterprise-web-deployment/performing-a-what-if-deployment
title: Realizar ao que se implantação | Microsoft Docs
author: jrjlee
description: Este tópico descreve como executar 'e se' (ou simulados) implantações usando a ferramenta de implantação da Web de serviços de informações da Internet (IIS) (implantação da Web) e V...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: c711b453-01ac-4e65-a48c-93d99bf22e58
ms.technology: dotnet-webforms
msc.legacyurl: /web-forms/overview/deployment/advanced-enterprise-web-deployment/performing-a-what-if-deployment
msc.type: authoredcontent
ms.openlocfilehash: f50053c3b231a1d174df51ce7aa4c6013192bca8
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/03/2018
ms.locfileid: "37378093"
---
<a name="performing-a-what-if-deployment"></a><span data-ttu-id="272e8-103">Executando uma implantação "What If"</span><span class="sxs-lookup"><span data-stu-id="272e8-103">Performing a "What If" Deployment</span></span>
====================
<span data-ttu-id="272e8-104">por [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="272e8-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="272e8-105">Baixar PDF</span><span class="sxs-lookup"><span data-stu-id="272e8-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="272e8-106">Este tópico descreve como executar "what if" (ou simulados) usando a ferramenta de implantação da Web de serviços de informações da Internet (IIS) (implantação da Web) e VSDBCMD de implantações.</span><span class="sxs-lookup"><span data-stu-id="272e8-106">This topic describes how to perform "what if" (or simulated) deployments using the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) and VSDBCMD.</span></span> <span data-ttu-id="272e8-107">Isso lhe permite determinar os efeitos de sua lógica de implantação em um ambiente de destino em particular antes de realmente implantar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="272e8-107">This lets you determine the effects of your deployment logic on a particular target environment before you actually deploy your application.</span></span>


<span data-ttu-id="272e8-108">Este tópico faz parte de uma série de tutoriais com base em torno de requisitos corporativos de implantação de uma empresa fictícia chamada Fabrikam, Inc. Esta série de tutoriais usa uma solução de exemplo&#x2014;o [entre em contato com o Gerenciador soluções](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;para representar um aplicativo web com um nível realista de complexidade, incluindo um aplicativo ASP.NET MVC 3, uma comunicação do Windows Serviço Foundation (WCF) e um projeto de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="272e8-108">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="272e8-109">O método de implantação no centro desses tutoriais se baseia a abordagem de arquivo de projeto divisão descrita [Noções básicas sobre o arquivo de projeto](../web-deployment-in-the-enterprise/understanding-the-project-file.md), em que o processo de compilação e implantação é controlado por dois arquivos de projeto&#x2014;um que contém instruções de compilação que se aplicam a todos os ambientes de destino e que contém configurações específicas do ambiente de compilação e implantação.</span><span class="sxs-lookup"><span data-stu-id="272e8-109">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build and deployment process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="272e8-110">No momento da compilação, o arquivo de projeto específicas do ambiente é mesclado no arquivo de projeto de ambiente independente para formar um conjunto completo de instruções de compilação.</span><span class="sxs-lookup"><span data-stu-id="272e8-110">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="performing-a-what-if-deployment-for-web-packages"></a><span data-ttu-id="272e8-111">Executando uma implantação "What If" para pacotes da Web</span><span class="sxs-lookup"><span data-stu-id="272e8-111">Performing a "What If" Deployment for Web Packages</span></span>

<span data-ttu-id="272e8-112">A implantação da Web inclui a funcionalidade que permite que você realize implantações em "what if" (ou versão de avaliação) modo.</span><span class="sxs-lookup"><span data-stu-id="272e8-112">Web Deploy includes functionality that lets you perform deployments in "what if" (or trial) mode.</span></span> <span data-ttu-id="272e8-113">Quando você implanta os artefatos no modo "what if", implantação da Web gera um arquivo de log como se você executou a implantação, mas, na verdade, ele não altera nada no servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="272e8-113">When you deploy artifacts in "what if" mode, Web Deploy generates a log file as if you had performed the deployment, but it doesn't actually change anything on the destination server.</span></span> <span data-ttu-id="272e8-114">Revisão do arquivo de log pode ajudá-lo a entender o impacto que sua implantação terá no servidor de destino, em particular:</span><span class="sxs-lookup"><span data-stu-id="272e8-114">Reviewing the log file can help you to understand what impact your deployment will have on the destination server, in particular:</span></span>

- <span data-ttu-id="272e8-115">O que serão adicionados ao.</span><span class="sxs-lookup"><span data-stu-id="272e8-115">What will get added.</span></span>
- <span data-ttu-id="272e8-116">O que será atualizado.</span><span class="sxs-lookup"><span data-stu-id="272e8-116">What will get updated.</span></span>
- <span data-ttu-id="272e8-117">O que será excluído.</span><span class="sxs-lookup"><span data-stu-id="272e8-117">What will get deleted.</span></span>

<span data-ttu-id="272e8-118">Como uma implantação "what if", na verdade, não altera nada no servidor de destino, o que ele nem sempre isso é prever se uma implantação será bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="272e8-118">Because a "what if" deployment doesn't actually change anything on the destination server, what it can't always do is predict whether a deployment will succeed.</span></span>

<span data-ttu-id="272e8-119">Conforme descrito em [Implantando pacotes da Web](../web-deployment-in-the-enterprise/deploying-web-packages.md), você pode implantar os pacotes da web usando a implantação da Web de duas maneiras&#x2014;usando o utilitário de linha de comando MSDeploy.exe diretamente ou executando o *. Deploy. cmd* arquivo que gera o processo de compilação.</span><span class="sxs-lookup"><span data-stu-id="272e8-119">As described in [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md), you can deploy web packages using Web Deploy in two ways&#x2014;by using the MSDeploy.exe command-line utility directly or by running the *.deploy.cmd* file that the build process generates.</span></span>

<span data-ttu-id="272e8-120">Se você estiver usando MSDeploy.exe diretamente, você pode executar uma implantação "what if", adicionando a **– whatif** sinalizador ao seu comando.</span><span class="sxs-lookup"><span data-stu-id="272e8-120">If you're using MSDeploy.exe directly, you can run a "what if" deployment by adding the **–whatif** flag to your command.</span></span> <span data-ttu-id="272e8-121">Por exemplo, para avaliar o que aconteceria se você implantar o pacote de ContactManager.Mvc.zip em um ambiente de preparo, o comando MSDeploy deve ter esta aparência:</span><span class="sxs-lookup"><span data-stu-id="272e8-121">For example, to evaluate what would happen if you deployed the ContactManager.Mvc.zip package to a staging environment, the MSDeploy command should resemble this:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample1.cmd)]


<span data-ttu-id="272e8-122">Quando estiver satisfeito com os resultados da implantação "what if", você pode remover o **– whatif** sinalizador para executar uma implantação em tempo real.</span><span class="sxs-lookup"><span data-stu-id="272e8-122">When you're satisfied with the results of your "what if" deployment, you can remove the **–whatif** flag to run a live deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="272e8-123">Para obter mais informações sobre opções de linha de comando para MSDeploy.exe, consulte [Web implantar as configurações de operação](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="272e8-123">For more information on command-line options for MSDeploy.exe, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span>


<span data-ttu-id="272e8-124">Se você estiver usando o *. Deploy. cmd* arquivo, você pode executar uma implantação "what if", incluindo o **/t** sinalizador sinalizador (modo de avaliação), em vez da **/y** sinalizador ("Sim", ou o modo de atualização) no seu comando.</span><span class="sxs-lookup"><span data-stu-id="272e8-124">If you're using the *.deploy.cmd* file, you can run a "what if" deployment by including the **/t** flag (trial mode) flag instead of the **/y** flag ("yes," or update mode) in your command.</span></span> <span data-ttu-id="272e8-125">Por exemplo, para avaliar o que aconteceria se você implantar o pacote de ContactManager.Mvc.zip executando o *. Deploy. cmd* arquivo, seu comando deve ter esta aparência:</span><span class="sxs-lookup"><span data-stu-id="272e8-125">For example, to evaluate what would happen if you deployed the ContactManager.Mvc.zip package by running the *.deploy.cmd* file, your command should resemble this:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample2.cmd)]


<span data-ttu-id="272e8-126">Quando estiver satisfeito com os resultados da implantação do "modo de avaliação", você pode substituir a **/t** sinalizador com um **/y** sinalizador para executar uma implantação em tempo real:</span><span class="sxs-lookup"><span data-stu-id="272e8-126">When you're satisfied with the results of your "trial mode" deployment, you can replace the **/t** flag with a **/y** flag to run a live deployment:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample3.cmd)]


> [!NOTE]
> <span data-ttu-id="272e8-127">Para obter mais informações sobre opções de linha de comando para *. Deploy. cmd* arquivos, consulte [como: instalar uma implantação de pacote usando o arquivo Deploy](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="272e8-127">For more information on command-line options for *.deploy.cmd* files, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span> <span data-ttu-id="272e8-128">Se você executar o *. Deploy. cmd* arquivo sem especificar quaisquer sinalizadores, o prompt de comando exibirá uma lista de sinalizadores disponíveis.</span><span class="sxs-lookup"><span data-stu-id="272e8-128">If you run the *.deploy.cmd* file without specifying any flags, the command prompt will display a list of available flags.</span></span>


## <a name="performing-a-what-if-deployment-for-databases"></a><span data-ttu-id="272e8-129">Executando uma implantação "What If" para bancos de dados</span><span class="sxs-lookup"><span data-stu-id="272e8-129">Performing a "What If" Deployment for Databases</span></span>

<span data-ttu-id="272e8-130">Esta seção pressupõe que você estiver usando o utilitário VSDBCMD para executar uma implantação incremental com base no esquema de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="272e8-130">This section assumes that you're using the VSDBCMD utility to perform incremental, schema-based database deployment.</span></span> <span data-ttu-id="272e8-131">Essa abordagem é descrita mais detalhadamente [implantar projetos de banco de dados](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="272e8-131">This approach is described in more detail in [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="272e8-132">É recomendável que você se familiarizar com este tópico antes de aplicar os conceitos descritos aqui.</span><span class="sxs-lookup"><span data-stu-id="272e8-132">We recommend that you familiarize yourself with this topic before you apply the concepts described here.</span></span>

<span data-ttu-id="272e8-133">Quando você usa VSDBCMD na **Deploy** modo, você pode usar o **/dd** (ou **/DeployToDatabase**) sinalizar ao controle se VSDBCMD realmente implanta o banco de dados ou apenas gera uma script de implantação.</span><span class="sxs-lookup"><span data-stu-id="272e8-133">When you use VSDBCMD in **Deploy** mode, you can use the **/dd** (or **/DeployToDatabase**) flag to control whether VSDBCMD actually deploys the database or just generates a deployment script.</span></span> <span data-ttu-id="272e8-134">Se você estiver implantando um arquivo .dbschema, esse é o comportamento:</span><span class="sxs-lookup"><span data-stu-id="272e8-134">If you're deploying a .dbschema file, this is the behavior:</span></span>

- <span data-ttu-id="272e8-135">Se você especificar **/dd+** ou **/dd**, VSDBCMD gerará um script de implantação e implantar o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="272e8-135">If you specify **/dd+** or **/dd**, VSDBCMD will generate a deployment script and deploy the database.</span></span>
- <span data-ttu-id="272e8-136">Se você especificar **/dd-** ou omitir a opção, VSDBCMD irá gerar um script de implantação.</span><span class="sxs-lookup"><span data-stu-id="272e8-136">If you specify **/dd-** or omit the switch, VSDBCMD will generate a deployment script only.</span></span>

> [!NOTE]
> <span data-ttu-id="272e8-137">Se você estiver implantando um arquivo .deploymanifest em vez de um arquivo .dbschema, o comportamento do **/dd** switch é muito mais complicado.</span><span class="sxs-lookup"><span data-stu-id="272e8-137">If you're deploying a .deploymanifest file rather than a .dbschema file, the behavior of the **/dd** switch is a lot more complicated.</span></span> <span data-ttu-id="272e8-138">Essencialmente, VSDBCMD ignorará o valor da **/dd** mudar se o arquivo .deploymanifest inclui um **DeployToDatabase** elemento com um valor de **verdadeiro**.</span><span class="sxs-lookup"><span data-stu-id="272e8-138">Essentially, VSDBCMD will ignore the value of the **/dd** switch if the .deploymanifest file includes a **DeployToDatabase** element with a value of **True**.</span></span> <span data-ttu-id="272e8-139">[Implantação de projetos de banco de dados](../web-deployment-in-the-enterprise/deploying-database-projects.md) descreve esse comportamento por completo.</span><span class="sxs-lookup"><span data-stu-id="272e8-139">[Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md) describes this behavior in full.</span></span>


<span data-ttu-id="272e8-140">Por exemplo, para gerar um script de implantação para o **ContactManager** banco de dados sem realmente implantar o banco de dados, seu comando VSDBCMD deve ter esta aparência:</span><span class="sxs-lookup"><span data-stu-id="272e8-140">For example, to generate a deployment script for the **ContactManager** database without actually deploying the database, your VSDBCMD command should resemble this:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample4.cmd)]


<span data-ttu-id="272e8-141">VSDBCMD é uma ferramenta de implantação de banco de dados diferencial, e como tal, o script de implantação é gerado dinamicamente para conter todos os comandos SQL necessários para atualizar o banco de dados atual, se existir, o esquema especificado.</span><span class="sxs-lookup"><span data-stu-id="272e8-141">VSDBCMD is a differential database deployment tool, and as such the deployment script is dynamically generated to contain all the SQL commands necessary to update the current database, if one exists, to the specified schema.</span></span> <span data-ttu-id="272e8-142">Revisar o script de implantação é uma maneira útil para determinar o que afeta sua implantação terá no banco de dados atual e os dados que ele contém.</span><span class="sxs-lookup"><span data-stu-id="272e8-142">Reviewing the deployment script is a useful way to determine what impact your deployment will have on the current database and the data it contains.</span></span> <span data-ttu-id="272e8-143">Por exemplo, talvez você queira determinar:</span><span class="sxs-lookup"><span data-stu-id="272e8-143">For example, you might want to determine:</span></span>

- <span data-ttu-id="272e8-144">Se todas as tabelas existentes serão removidas e se isso resultará em perda de dados.</span><span class="sxs-lookup"><span data-stu-id="272e8-144">Whether any existing tables will be removed, and whether that will result in data loss.</span></span>
- <span data-ttu-id="272e8-145">Se a ordem das operações traz um risco de perda de dados, por exemplo, se você estiver dividindo ou mesclando tabelas.</span><span class="sxs-lookup"><span data-stu-id="272e8-145">Whether the order of operations carries a risk of data loss, for example, if you're splitting or merging tables.</span></span>

<span data-ttu-id="272e8-146">Se você estiver satisfeito com o script de implantação, você pode repetir o VSDBCMD com um **/dd+** sinalizador para fazer as alterações.</span><span class="sxs-lookup"><span data-stu-id="272e8-146">If you're happy with the deployment script, you can repeat the VSDBCMD with a **/dd+** flag to make the changes.</span></span> <span data-ttu-id="272e8-147">Como alternativa, você pode editar o script de implantação para atender às suas necessidades e, em seguida, executá-lo manualmente no servidor de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="272e8-147">Alternatively, you can edit the deployment script to meet your requirements and then execute it manually on the database server.</span></span>

## <a name="integrating-what-if-functionality-into-custom-project-files"></a><span data-ttu-id="272e8-148">Integrar a funcionalidade "What If" em arquivos de projeto personalizado</span><span class="sxs-lookup"><span data-stu-id="272e8-148">Integrating "What If" Functionality into Custom Project Files</span></span>

<span data-ttu-id="272e8-149">Em cenários de implantação mais complexos, você desejará usar um arquivo de projeto personalizado do Microsoft Build Engine (MSBuild) para encapsular sua lógica de compilação e implantação, conforme descrito em [Noções básicas sobre o arquivo de projeto](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span><span class="sxs-lookup"><span data-stu-id="272e8-149">In more complex deployment scenarios, you'll want to use a custom Microsoft Build Engine (MSBuild) project file to encapsulate your build and deployment logic, as described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span> <span data-ttu-id="272e8-150">Por exemplo, nos [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) exemplo de solução, o *Publish.proj* arquivo:</span><span class="sxs-lookup"><span data-stu-id="272e8-150">For example, in the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, the *Publish.proj* file:</span></span>

- <span data-ttu-id="272e8-151">Compila a solução.</span><span class="sxs-lookup"><span data-stu-id="272e8-151">Builds the solution.</span></span>
- <span data-ttu-id="272e8-152">Usa a implantação da Web para empacotar e implantar o aplicativo ContactManager.Mvc.</span><span class="sxs-lookup"><span data-stu-id="272e8-152">Uses Web Deploy to package and deploy the ContactManager.Mvc application.</span></span>
- <span data-ttu-id="272e8-153">Usa a implantação da Web para empacotar e implantar o aplicativo ContactManager.Service.</span><span class="sxs-lookup"><span data-stu-id="272e8-153">Uses Web Deploy to package and deploy the ContactManager.Service application.</span></span>
- <span data-ttu-id="272e8-154">Implanta o **ContactManager** banco de dados.</span><span class="sxs-lookup"><span data-stu-id="272e8-154">Deploys the **ContactManager** database.</span></span>

<span data-ttu-id="272e8-155">Ao integrar a implantação de vários pacotes da web e/ou bancos de dados em um processo passo a passo, dessa forma, você poderá também a opção de executar toda a implantação em um modo "what if".</span><span class="sxs-lookup"><span data-stu-id="272e8-155">When you integrate the deployment of multiple web packages and/or databases into a single-step process in this way, you may also want the option of performing the entire deployment in a "what if" mode.</span></span>

<span data-ttu-id="272e8-156">O *Publish.proj* arquivo demonstra como você pode fazer isso.</span><span class="sxs-lookup"><span data-stu-id="272e8-156">The *Publish.proj* file demonstrates how you can do this.</span></span> <span data-ttu-id="272e8-157">Primeiro, você precisa criar uma propriedade para armazenar o valor "what if":</span><span class="sxs-lookup"><span data-stu-id="272e8-157">First, you need to create a property to store the "what if" value:</span></span>


[!code-xml[Main](performing-a-what-if-deployment/samples/sample5.xml)]


<span data-ttu-id="272e8-158">Nesse caso, você criou uma propriedade chamada **WhatIf** com um valor padrão de **falso**.</span><span class="sxs-lookup"><span data-stu-id="272e8-158">In this case, you've created a property named **WhatIf** with a default value of **false**.</span></span> <span data-ttu-id="272e8-159">Os usuários podem substituir esse valor definindo a propriedade como **verdadeira** em um parâmetro de linha de comando, como você verá em breve.</span><span class="sxs-lookup"><span data-stu-id="272e8-159">Users can override this value by setting the property to **true** in a command-line parameter, as you'll see shortly.</span></span>

<span data-ttu-id="272e8-160">A próxima etapa é parametrizar a qualquer implantação da Web e VSDBCMD comandos para que os sinalizadores de refletem a **WhatIf** valor da propriedade.</span><span class="sxs-lookup"><span data-stu-id="272e8-160">The next stage is to parameterize any Web Deploy and VSDBCMD commands so that the flags reflect the **WhatIf** property value.</span></span> <span data-ttu-id="272e8-161">Por exemplo, o próximo destino (tirados o *Publish.proj* do arquivo e simplificado) executa o *. Deploy. cmd* arquivo para implantar um pacote da web.</span><span class="sxs-lookup"><span data-stu-id="272e8-161">For example, the next target (taken from the *Publish.proj* file and simplified) runs the *.deploy.cmd* file to deploy a web package.</span></span> <span data-ttu-id="272e8-162">Por padrão, o comando inclui uma **/Y** switch ("Sim" ou o modo de atualização).</span><span class="sxs-lookup"><span data-stu-id="272e8-162">By default, the command includes a **/Y** switch ("yes," or update mode).</span></span> <span data-ttu-id="272e8-163">Se **WhatIf** é definido como **verdadeiro**, isso é substituído por um **/T** switch (versão de avaliação ou modo de "what if").</span><span class="sxs-lookup"><span data-stu-id="272e8-163">If **WhatIf** is set to **true**, this is replaced by a **/T** switch (trial, or "what if" mode).</span></span>


[!code-xml[Main](performing-a-what-if-deployment/samples/sample6.xml)]


<span data-ttu-id="272e8-164">Da mesma forma, o próximo destino usa o utilitário VSDBCMD para implantar um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="272e8-164">Similarly, the next target uses the VSDBCMD utility to deploy a database.</span></span> <span data-ttu-id="272e8-165">Por padrão, uma **/dd** comutador não está incluído.</span><span class="sxs-lookup"><span data-stu-id="272e8-165">By default, a **/dd** switch is not included.</span></span> <span data-ttu-id="272e8-166">Isso significa que VSDBCMD irá gerar um script de implantação, mas não implantará o banco de dados&#x2014;em outras palavras, um "what if" cenário.</span><span class="sxs-lookup"><span data-stu-id="272e8-166">This means that VSDBCMD will generate a deployment script but will not deploy the database&#x2014;in other words, a "what if" scenario.</span></span> <span data-ttu-id="272e8-167">Se o **WhatIf** não está definida **verdadeiro**, um **/dd** switch é adicionado e VSDBCMD implantará o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="272e8-167">If the **WhatIf** property is not set to **true**, a **/dd** switch is added and VSDBCMD will deploy the database.</span></span>


[!code-xml[Main](performing-a-what-if-deployment/samples/sample7.xml)]


<span data-ttu-id="272e8-168">Você pode usar a mesma abordagem para parametrizar todos os comandos relevantes no arquivo de projeto.</span><span class="sxs-lookup"><span data-stu-id="272e8-168">You can use the same approach to parameterize all the relevant commands in your project file.</span></span> <span data-ttu-id="272e8-169">Quando você deseja executar uma implantação "what if", você poderá simplesmente fornecer um **WhatIf** valor da propriedade da linha de comando:</span><span class="sxs-lookup"><span data-stu-id="272e8-169">When you want to run a "what if" deployment, you can then simply provide a **WhatIf** property value from the command line:</span></span>


[!code-console[Main](performing-a-what-if-deployment/samples/sample8.cmd)]


<span data-ttu-id="272e8-170">Dessa forma, você pode executar uma implantação "what if" para todos os componentes de projeto em uma única etapa.</span><span class="sxs-lookup"><span data-stu-id="272e8-170">In this way, you can run a "what if" deployment for all your project components in a single step.</span></span>

## <a name="conclusion"></a><span data-ttu-id="272e8-171">Conclusão</span><span class="sxs-lookup"><span data-stu-id="272e8-171">Conclusion</span></span>

<span data-ttu-id="272e8-172">Este tópico descreveu como executar "what if" implantações usando o MSBuild, VSDBCMD e implantação da Web.</span><span class="sxs-lookup"><span data-stu-id="272e8-172">This topic described how to run "what if" deployments using Web Deploy, VSDBCMD, and MSBuild.</span></span> <span data-ttu-id="272e8-173">Uma implantação "what if" lhe permite avaliar o impacto de uma implantação de propostas antes de realmente fazer qualquer alteração no ambiente de destino.</span><span class="sxs-lookup"><span data-stu-id="272e8-173">A "what if" deployment lets you evaluate the impact of a proposed deployment before you actually make any changes to the destination environment.</span></span>

## <a name="further-reading"></a><span data-ttu-id="272e8-174">Leitura adicional</span><span class="sxs-lookup"><span data-stu-id="272e8-174">Further Reading</span></span>

<span data-ttu-id="272e8-175">Para obter mais informações sobre a sintaxe de linha de comando de implantação da Web, consulte [Web implantar as configurações de operação](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="272e8-175">For more information on Web Deploy command-line syntax, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span> <span data-ttu-id="272e8-176">Para obter diretrizes sobre opções de linha de comando quando você usa o *. Deploy. cmd* arquivos, consulte [como: instalar uma implantação de pacote usando o arquivo Deploy](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="272e8-176">For guidance on command-line options when you use the *.deploy.cmd* file, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span> <span data-ttu-id="272e8-177">Para obter orientação sobre a sintaxe de linha de comando VSDBCMD, consulte [referência de linha de comando para VSDBCMD. EXE (implantação e importação de esquema)](https://msdn.microsoft.com/library/dd193283.aspx).</span><span class="sxs-lookup"><span data-stu-id="272e8-177">For guidance on VSDBCMD command-line syntax, see [Command-Line Reference for VSDBCMD.EXE (Deployment and Schema Import)](https://msdn.microsoft.com/library/dd193283.aspx).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="272e8-178">[Anterior](advanced-enterprise-web-deployment.md)
> [Próximo](customizing-database-deployments-for-multiple-environments.md)</span><span class="sxs-lookup"><span data-stu-id="272e8-178">[Previous](advanced-enterprise-web-deployment.md)
[Next](customizing-database-deployments-for-multiple-environments.md)</span></span>
