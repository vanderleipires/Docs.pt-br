---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
title: Adicionando uma coluna de GridView de caixas de seleção (c#) | Microsoft Docs
author: rick-anderson
description: Este tutorial explica como adicionar uma coluna de caixas de seleção a um controle GridView para fornecer ao usuário uma maneira intuitiva de seleção de várias linhas de a G....
ms.author: aspnetcontent
ms.date: 03/06/2007
ms.assetid: f63a9443-2db0-4f80-8246-840d3e86c2a3
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
msc.type: authoredcontent
ms.openlocfilehash: 481ae436ef644bcc4d5a13d060ed87671cfcb4dc
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/05/2018
ms.locfileid: "37814766"
---
<a name="adding-a-gridview-column-of-checkboxes-c"></a><span data-ttu-id="7f49c-103">Adicionando uma coluna de GridView de caixas de seleção (c#)</span><span class="sxs-lookup"><span data-stu-id="7f49c-103">Adding a GridView Column of Checkboxes (C#)</span></span>
====================
<span data-ttu-id="7f49c-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7f49c-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="7f49c-105">[Baixe o aplicativo de exemplo](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) ou [baixar PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="7f49c-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) or [Download PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span></span>

> <span data-ttu-id="7f49c-106">Este tutorial aborda como adicionar uma coluna de caixas de seleção a um controle GridView para fornecer ao usuário uma maneira intuitiva de seleção de várias linhas de GridView.</span><span class="sxs-lookup"><span data-stu-id="7f49c-106">This tutorial looks at how to add a column of check boxes to a GridView control to provide the user with an intuitive way of selecting multiple rows of the GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="7f49c-107">Introdução</span><span class="sxs-lookup"><span data-stu-id="7f49c-107">Introduction</span></span>

<span data-ttu-id="7f49c-108">O tutorial anterior, examinamos como adicionar uma coluna de botões de opção a GridView com a finalidade de selecionar um registro específico.</span><span class="sxs-lookup"><span data-stu-id="7f49c-108">In the preceding tutorial we examined how to add a column of radio buttons to the GridView for the purpose of selecting a particular record.</span></span> <span data-ttu-id="7f49c-109">Uma coluna de botões de opção é uma interface de usuário adequado quando o usuário é limitado a escolha de no máximo um item na grade.</span><span class="sxs-lookup"><span data-stu-id="7f49c-109">A column of radio buttons is a suitable user interface when the user is limited to choosing at most one item from the grid.</span></span> <span data-ttu-id="7f49c-110">Às vezes, no entanto, podemos querer permitir que o usuário escolher um número arbitrário de itens na grade.</span><span class="sxs-lookup"><span data-stu-id="7f49c-110">At times, however, we may want to allow the user to pick an arbitrary number of items from the grid.</span></span> <span data-ttu-id="7f49c-111">Por exemplo, clientes de email baseado na Web, normalmente exibem a lista de mensagens com uma coluna de caixas de seleção.</span><span class="sxs-lookup"><span data-stu-id="7f49c-111">Web-based email clients, for example, typically display the list of messages with a column of checkboxes.</span></span> <span data-ttu-id="7f49c-112">O usuário pode selecionar um número arbitrário de mensagens e, em seguida, realizar alguma ação, como mover os emails para outra pasta ou excluí-los.</span><span class="sxs-lookup"><span data-stu-id="7f49c-112">The user can select an arbitrary number of messages and then perform some action, such as moving the emails to another folder or deleting them.</span></span>

<span data-ttu-id="7f49c-113">Neste tutorial veremos como adicionar uma coluna de caixas de seleção e como determinar quais caixas de seleção foram marcadas em um postback.</span><span class="sxs-lookup"><span data-stu-id="7f49c-113">In this tutorial we will see how to add a column of checkboxes and how to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="7f49c-114">Em particular, vamos criar um exemplo que imita a interface de usuário do cliente de email baseado na web.</span><span class="sxs-lookup"><span data-stu-id="7f49c-114">In particular, we'll build an example that closely mimics the web-based email client user interface.</span></span> <span data-ttu-id="7f49c-115">Nosso exemplo incluirá um GridView paginado listando os produtos a `Products` tabela de banco de dados com uma caixa de seleção em cada linha (veja a Figura 1).</span><span class="sxs-lookup"><span data-stu-id="7f49c-115">Our example will include a paged GridView listing the products in the `Products` database table with a checkbox in each row (see Figure 1).</span></span> <span data-ttu-id="7f49c-116">Um botão excluir produtos selecionados, quando clicado, excluirá esses produtos selecionados.</span><span class="sxs-lookup"><span data-stu-id="7f49c-116">A Delete Selected Products button, when clicked, will delete those products selected.</span></span>


<span data-ttu-id="7f49c-117">[![Cada linha de produto inclui uma caixa de seleção](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="7f49c-117">[![Each Product Row Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span></span>

<span data-ttu-id="7f49c-118">**Figura 1**: cada linha de produto inclui uma caixa de seleção ([clique para exibir a imagem em tamanho normal](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="7f49c-118">**Figure 1**: Each Product Row Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span></span>


## <a name="step-1-adding-a-paged-gridview-that-lists-product-information"></a><span data-ttu-id="7f49c-119">Etapa 1: Adicionando um GridView paginado que lista informações sobre o produto</span><span class="sxs-lookup"><span data-stu-id="7f49c-119">Step 1: Adding a Paged GridView that Lists Product Information</span></span>

<span data-ttu-id="7f49c-120">Antes de nos preocupamos adicionando uma coluna de caixas de seleção, deixe o foco primeiro sobre a lista de produtos em um GridView que dá suporte à paginação.</span><span class="sxs-lookup"><span data-stu-id="7f49c-120">Before we worry about adding a column of checkboxes, let s first focus on listing the products in a GridView that supports paging.</span></span> <span data-ttu-id="7f49c-121">Comece abrindo o `CheckBoxField.aspx` página o `EnhancedGridView` pasta e arraste um controle GridView da caixa de ferramentas para o Designer, definindo seu `ID` para `Products`.</span><span class="sxs-lookup"><span data-stu-id="7f49c-121">Start by opening the `CheckBoxField.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Products`.</span></span> <span data-ttu-id="7f49c-122">Em seguida, optar por associar o GridView para um novo ObjectDataSource chamado `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="7f49c-122">Next, choose to bind the GridView to a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="7f49c-123">Configurar o ObjectDataSource para usar o `ProductsBLL` classe, chamando o `GetProducts()` método para retornar os dados.</span><span class="sxs-lookup"><span data-stu-id="7f49c-123">Configure the ObjectDataSource to use the `ProductsBLL` class, calling the `GetProducts()` method to return the data.</span></span> <span data-ttu-id="7f49c-124">Já que essa GridView será somente leitura, defina as listas suspensas na atualização, inserção e excluir guias como (nenhum).</span><span class="sxs-lookup"><span data-stu-id="7f49c-124">Since this GridView will be read-only, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>


<span data-ttu-id="7f49c-125">[![Criar um novo ObjectDataSource chamado ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="7f49c-125">[![Create a New ObjectDataSource Named ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span></span>

<span data-ttu-id="7f49c-126">**Figura 2**: criar um novo ObjectDataSource nomeado `ProductsDataSource` ([clique para exibir a imagem em tamanho normal](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="7f49c-126">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span></span>


<span data-ttu-id="7f49c-127">[![Configurar o ObjectDataSource para recuperar dados usando o método GetProducts()](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="7f49c-127">[![Configure the ObjectDataSource to Retrieve Data Using the GetProducts() Method](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span></span>

<span data-ttu-id="7f49c-128">**Figura 3**: configurar o ObjectDataSource para recuperar dados usando o `GetProducts()` método ([clique para exibir a imagem em tamanho normal](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="7f49c-128">**Figure 3**: Configure the ObjectDataSource to Retrieve Data Using the `GetProducts()` Method ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span></span>


<span data-ttu-id="7f49c-129">[![Definir as listas suspensas na atualização, inserção e excluir guias como (nenhum)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="7f49c-129">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span></span>

<span data-ttu-id="7f49c-130">**Figura 4**: defina a lista suspensa no UPDATE, INSERT e excluir guias como (nenhum) ([clique para exibir a imagem em tamanho normal](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="7f49c-130">**Figure 4**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span></span>


<span data-ttu-id="7f49c-131">Depois de concluir o Assistente Configurar fonte de dados, o Visual Studio criará automaticamente BoundColumns e um CheckBoxColumn para os campos de dados relacionados ao produto.</span><span class="sxs-lookup"><span data-stu-id="7f49c-131">After completing the Configure Data Source wizard, Visual Studio will automatically create BoundColumns and a CheckBoxColumn for the product-related data fields.</span></span> <span data-ttu-id="7f49c-132">Como fizemos no tutorial anterior, remova tudo, exceto os `ProductName`, `CategoryName`, e `UnitPrice` BoundFields e altere o `HeaderText` propriedades preço, categoria e produto.</span><span class="sxs-lookup"><span data-stu-id="7f49c-132">Like we did in the previous tutorial, remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="7f49c-133">Configurar o `UnitPrice` BoundField para que seu valor é formatado como uma moeda.</span><span class="sxs-lookup"><span data-stu-id="7f49c-133">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="7f49c-134">Também configure o GridView para dar suporte à paginação, marcando a caixa de seleção Habilitar paginação a marca inteligente.</span><span class="sxs-lookup"><span data-stu-id="7f49c-134">Also configure the GridView to support paging by checking the Enable Paging checkbox from the smart tag.</span></span>

<span data-ttu-id="7f49c-135">Deixe o s também adicionar a interface do usuário para excluir os produtos selecionados.</span><span class="sxs-lookup"><span data-stu-id="7f49c-135">Let s also add the user interface for deleting the selected products.</span></span> <span data-ttu-id="7f49c-136">Adicionar um controle de botão Web sob o controle GridView, definindo sua `ID` à `DeleteSelectedProducts` e seu `Text` propriedade excluir produtos selecionados.</span><span class="sxs-lookup"><span data-stu-id="7f49c-136">Add a Button Web control beneath the GridView, setting its `ID` to `DeleteSelectedProducts` and its `Text` property to Delete Selected Products.</span></span> <span data-ttu-id="7f49c-137">Em vez de excluir, na verdade, os produtos do banco de dados, para este exemplo vamos apenas exibir uma mensagem informando que os produtos que teria sido excluídos.</span><span class="sxs-lookup"><span data-stu-id="7f49c-137">Rather than actually deleting products from the database, for this example we'll just display a message stating the products that would have been deleted.</span></span> <span data-ttu-id="7f49c-138">Para acomodar isso, adicione um controle de rótulo Web sob o botão.</span><span class="sxs-lookup"><span data-stu-id="7f49c-138">To accommodate this, add a Label Web control beneath the Button.</span></span> <span data-ttu-id="7f49c-139">Defina sua ID para `DeleteResults`, desmarque out seus `Text` propriedade e defina seu `Visible` e `EnableViewState` propriedades a serem `false`.</span><span class="sxs-lookup"><span data-stu-id="7f49c-139">Set its ID to `DeleteResults`, clear out its `Text` property, and set its `Visible` and `EnableViewState` properties to `false`.</span></span>

<span data-ttu-id="7f49c-140">Depois de fazer essas alterações, a marcação declarativa de s do GridView, ObjectDataSource, botão e Label deve semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="7f49c-140">After making these changes, the GridView, ObjectDataSource, Button, and Label s declarative markup should similar to the following:</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample1.aspx)]

<span data-ttu-id="7f49c-141">Reserve um tempo para exibir a página em um navegador (consulte a Figura 5).</span><span class="sxs-lookup"><span data-stu-id="7f49c-141">Take a moment to view the page in a browser (see Figure 5).</span></span> <span data-ttu-id="7f49c-142">Neste ponto, você verá o nome, categoria e preço de dez primeiros produtos.</span><span class="sxs-lookup"><span data-stu-id="7f49c-142">At this point you should see the name, category, and price of the first ten products.</span></span>


<span data-ttu-id="7f49c-143">[![O nome, categoria e preço dos dez primeiros produtos são listados](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="7f49c-143">[![The Name, Category, and Price of the First Ten Products are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span></span>

<span data-ttu-id="7f49c-144">**Figura 5**: O nome, categoria e preço dos dez primeiros produtos são listados ([clique para exibir a imagem em tamanho normal](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="7f49c-144">**Figure 5**: The Name, Category, and Price of the First Ten Products are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span></span>


## <a name="step-2-adding-a-column-of-checkboxes"></a><span data-ttu-id="7f49c-145">Etapa 2: Adicionando uma coluna de caixas de seleção</span><span class="sxs-lookup"><span data-stu-id="7f49c-145">Step 2: Adding a Column of Checkboxes</span></span>

<span data-ttu-id="7f49c-146">Uma vez que o ASP.NET 2.0 inclui um CheckBoxField, alguém pode pensar que ele pode ser usado para adicionar uma coluna de caixas de seleção em um GridView.</span><span class="sxs-lookup"><span data-stu-id="7f49c-146">Since ASP.NET 2.0 includes a CheckBoxField, one might think that it could be used to add a column of checkboxes to a GridView.</span></span> <span data-ttu-id="7f49c-147">Infelizmente, que não é o caso, como o CheckBoxField foi projetado para trabalhar com um campo de dados booliano.</span><span class="sxs-lookup"><span data-stu-id="7f49c-147">Unfortunately, that is not the case, as the CheckBoxField is designed to work with a Boolean data field.</span></span> <span data-ttu-id="7f49c-148">Ou seja, para usar o CheckBoxField podemos deve especificar o campo de dados subjacente cujo valor é consultado para determinar se a caixa de seleção renderizada é verificada.</span><span class="sxs-lookup"><span data-stu-id="7f49c-148">That is, in order to use the CheckBoxField we must specify the underlying data field whose value is consulted to determine whether the rendered checkbox is checked.</span></span> <span data-ttu-id="7f49c-149">Não podemos usar CheckBoxField para incluir apenas uma coluna de caixas de seleção desmarcadas.</span><span class="sxs-lookup"><span data-stu-id="7f49c-149">We cannot use the CheckBoxField to just include a column of unchecked checkboxes.</span></span>

<span data-ttu-id="7f49c-150">Em vez disso, devemos adicionar um TemplateField e adicionar um controle de caixa de seleção Web para seu `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="7f49c-150">Instead, we must add a TemplateField and add a CheckBox Web control to its `ItemTemplate`.</span></span> <span data-ttu-id="7f49c-151">Vá em frente e adicione um TemplateField para o `Products` GridView e torná-lo o primeiro campo (à esquerda).</span><span class="sxs-lookup"><span data-stu-id="7f49c-151">Go ahead and add a TemplateField to the `Products` GridView and make it the first (far-left) field.</span></span> <span data-ttu-id="7f49c-152">De GridView s marca inteligente, clique no link Editar modelos e, em seguida, arraste um controle de Web de caixa de seleção da caixa de ferramentas para o `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="7f49c-152">From the GridView s smart tag, click on the Edit Templates link and then drag a CheckBox Web control from the Toolbox into the `ItemTemplate`.</span></span> <span data-ttu-id="7f49c-153">Definir s essa caixa de seleção `ID` propriedade para `ProductSelector`.</span><span class="sxs-lookup"><span data-stu-id="7f49c-153">Set this CheckBox s `ID` property to `ProductSelector`.</span></span>


<span data-ttu-id="7f49c-154">[![Adicione um controle de caixa de seleção Web chamado ProductSelector para ItemTemplate s TemplateField](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="7f49c-154">[![Add a CheckBox Web Control Named ProductSelector to the TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span></span>

<span data-ttu-id="7f49c-155">**Figura 6**: adicionar um controle de Web de caixa de seleção denominada `ProductSelector` para o s TemplateField `ItemTemplate` ([clique para exibir a imagem em tamanho normal](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="7f49c-155">**Figure 6**: Add a CheckBox Web Control Named `ProductSelector` to the TemplateField s `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span></span>


<span data-ttu-id="7f49c-156">Com o controle de Web de caixa de seleção e TemplateField adicionado, cada linha agora inclui uma caixa de seleção.</span><span class="sxs-lookup"><span data-stu-id="7f49c-156">With the TemplateField and CheckBox Web control added, each row now includes a checkbox.</span></span> <span data-ttu-id="7f49c-157">Figura 7 mostra essa página, quando visualizado por meio de um navegador, depois que a caixa de seleção e TemplateField foram adicionadas.</span><span class="sxs-lookup"><span data-stu-id="7f49c-157">Figure 7 shows this page, when viewed through a browser, after the TemplateField and CheckBox have been added.</span></span>


<span data-ttu-id="7f49c-158">[![Cada linha de produto agora inclui uma caixa de seleção](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="7f49c-158">[![Each Product Row Now Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span></span>

<span data-ttu-id="7f49c-159">**Figura 7**: cada linha de produto agora inclui uma caixa de seleção ([clique para exibir a imagem em tamanho normal](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="7f49c-159">**Figure 7**: Each Product Row Now Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span></span>


## <a name="step-3-determining-what-checkboxes-were-checked-on-postback"></a><span data-ttu-id="7f49c-160">Etapa 3: Determinar quais caixas de seleção foram verificadas no Postback</span><span class="sxs-lookup"><span data-stu-id="7f49c-160">Step 3: Determining What Checkboxes Were Checked On Postback</span></span>

<span data-ttu-id="7f49c-161">Neste ponto, temos uma coluna de caixas de seleção, mas nenhuma maneira de determinar quais caixas de seleção foram marcadas em um postback.</span><span class="sxs-lookup"><span data-stu-id="7f49c-161">At this point we have a column of checkboxes but no way to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="7f49c-162">Quando é clicado no botão excluir produtos selecionados, no entanto, precisamos saber quais caixas de seleção foram marcadas para excluir esses produtos.</span><span class="sxs-lookup"><span data-stu-id="7f49c-162">When the Delete Selected Products button is clicked, though, we need to know what checkboxes were checked in order to delete those products.</span></span>

<span data-ttu-id="7f49c-163">O s GridView [ `Rows` propriedade](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) fornece acesso às linhas de dados em um GridView.</span><span class="sxs-lookup"><span data-stu-id="7f49c-163">The GridView s [`Rows` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) provides access to the data rows in the GridView.</span></span> <span data-ttu-id="7f49c-164">Podemos pode iterar por meio dessas linhas, acessar programaticamente o controle de caixa de seleção e, em seguida, consultar seu `Checked` propriedade para determinar se a caixa de seleção tiver sido selecionada.</span><span class="sxs-lookup"><span data-stu-id="7f49c-164">We can iterate through these rows, programmatically access the CheckBox control, and then consult its `Checked` property to determine whether the CheckBox has been selected.</span></span>

<span data-ttu-id="7f49c-165">Crie um manipulador de eventos para o `DeleteSelectedProducts` controle de Web de botão s `Click` eventos e adicione o seguinte código:</span><span class="sxs-lookup"><span data-stu-id="7f49c-165">Create an event handler for the `DeleteSelectedProducts` Button Web control s `Click` event and add the following code:</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample2.cs)]

<span data-ttu-id="7f49c-166">O `Rows` propriedade retorna uma coleção de `GridViewRow` instâncias essa composição as linhas de dados do GridView s.</span><span class="sxs-lookup"><span data-stu-id="7f49c-166">The `Rows` property returns a collection of `GridViewRow` instances that makeup the GridView s data rows.</span></span> <span data-ttu-id="7f49c-167">O `foreach` loop aqui enumera nesta coleção.</span><span class="sxs-lookup"><span data-stu-id="7f49c-167">The `foreach` loop here enumerates this collection.</span></span> <span data-ttu-id="7f49c-168">Para cada `GridViewRow` do objeto, a linha s caixa de seleção por meio de programação é acessada usando `row.FindControl("controlID")`.</span><span class="sxs-lookup"><span data-stu-id="7f49c-168">For each `GridViewRow` object, the row s CheckBox is programmatically accessed using `row.FindControl("controlID")`.</span></span> <span data-ttu-id="7f49c-169">Se a caixa de seleção estiver marcada, a linha s correspondente `ProductID` valor é recuperado do `DataKeys` coleção.</span><span class="sxs-lookup"><span data-stu-id="7f49c-169">If the CheckBox is checked, the row s corresponding `ProductID` value is retrieved from the `DataKeys` collection.</span></span> <span data-ttu-id="7f49c-170">Neste exercício, podemos simplesmente exibir uma mensagem informativa na `DeleteResults` rotular, embora em um aplicativo funcional d em vez disso, fazemos uma chamada para o `ProductsBLL` classe s `DeleteProduct(productID)` método.</span><span class="sxs-lookup"><span data-stu-id="7f49c-170">In this exercise, we simply display an informative message in the `DeleteResults` Label, although in a working application we d instead make a call to the `ProductsBLL` class s `DeleteProduct(productID)` method.</span></span>

<span data-ttu-id="7f49c-171">Com a adição desse manipulador de eventos, clicando no botão excluir produtos selecionados agora exibe o `ProductID` s dos produtos selecionados.</span><span class="sxs-lookup"><span data-stu-id="7f49c-171">With the addition of this event handler, clicking the Delete Selected Products button now displays the `ProductID` s of the selected products.</span></span>


<span data-ttu-id="7f49c-172">[![Quando se clica no botão de produtos selecionadas Excluir o ProductIDs de produtos selecionada são listadas](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="7f49c-172">[![When the Delete Selected Products Button is Clicked the Selected Products ProductIDs are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span></span>

<span data-ttu-id="7f49c-173">**Figura 8**: quando o selecionado produtos botão Delete é clicado os produtos selecionados `ProductID` s são listados ([clique para exibir a imagem em tamanho normal](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="7f49c-173">**Figure 8**: When the Delete Selected Products Button is Clicked the Selected Products `ProductID` s are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span></span>


## <a name="step-4-adding-check-all-and-uncheck-all-buttons"></a><span data-ttu-id="7f49c-174">Etapa 4: Adicionando todas e desmarque todos os botões</span><span class="sxs-lookup"><span data-stu-id="7f49c-174">Step 4: Adding Check All and Uncheck All Buttons</span></span>

<span data-ttu-id="7f49c-175">Se um usuário deseja excluir todos os produtos na página atual, eles devem verificar cada um dos dez as caixas de seleção.</span><span class="sxs-lookup"><span data-stu-id="7f49c-175">If a user wants to delete all products on the current page, they must check each of the ten checkboxes.</span></span> <span data-ttu-id="7f49c-176">Podemos ajudar a acelerar esse processo, adicionando uma todos verificar os botão que, quando clicado, seleciona todas as caixas de seleção na grade.</span><span class="sxs-lookup"><span data-stu-id="7f49c-176">We can help expedite this process by adding a Check All button that, when clicked, selects all of the checkboxes in the grid.</span></span> <span data-ttu-id="7f49c-177">Um botão desmarcar tudo seria igualmente útil.</span><span class="sxs-lookup"><span data-stu-id="7f49c-177">An Uncheck All button would be equally helpful.</span></span>

<span data-ttu-id="7f49c-178">Adicione dois controles da Web de botão para a página, colocá-los acima GridView.</span><span class="sxs-lookup"><span data-stu-id="7f49c-178">Add two Button Web controls to the page, placing them above the GridView.</span></span> <span data-ttu-id="7f49c-179">Definir o primeiro um s `ID` à `CheckAll` e seu `Text` propriedade para verificar todos os; defina o segundo uma s `ID` para `UncheckAll` e sua `Text` propriedade para desmarcar todos os.</span><span class="sxs-lookup"><span data-stu-id="7f49c-179">Set the first one s `ID` to `CheckAll` and its `Text` property to Check All ; set the second one s `ID` to `UncheckAll` and its `Text` property to Uncheck All .</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample3.aspx)]

<span data-ttu-id="7f49c-180">Em seguida, crie um método em que a classe code-behind chamado `ToggleCheckState(checkState)` que, quando invocado, enumera os `Products` s GridView `Rows` coleção e define cada caixa de seleção s `Checked` propriedade o valor passado em *checkState*  parâmetro.</span><span class="sxs-lookup"><span data-stu-id="7f49c-180">Next, create a method in the code-behind class named `ToggleCheckState(checkState)` that, when invoked, enumerates the `Products` GridView s `Rows` collection and sets each CheckBox s `Checked` property to the value of the passed in *checkState* parameter.</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample4.cs)]

<span data-ttu-id="7f49c-181">Em seguida, crie `Click` manipuladores de eventos para o `CheckAll` e `UncheckAll` botões.</span><span class="sxs-lookup"><span data-stu-id="7f49c-181">Next, create `Click` event handlers for the `CheckAll` and `UncheckAll` buttons.</span></span> <span data-ttu-id="7f49c-182">Na `CheckAll` manipulador de eventos de s, chamada simplesmente `ToggleCheckState(true)`; na `UncheckAll`, chame `ToggleCheckState(false)`.</span><span class="sxs-lookup"><span data-stu-id="7f49c-182">In `CheckAll` s event handler, simply call `ToggleCheckState(true)`; in `UncheckAll`, call `ToggleCheckState(false)`.</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample5.cs)]

<span data-ttu-id="7f49c-183">Com esse código, clicando no botão Verificar todos os faz com que um postback e verificará todas as caixas de seleção no GridView.</span><span class="sxs-lookup"><span data-stu-id="7f49c-183">With this code, clicking the Check All button causes a postback and checks all of the checkboxes in the GridView.</span></span> <span data-ttu-id="7f49c-184">Da mesma forma, clicando em desmarcar tudo desmarca todas as caixas de seleção.</span><span class="sxs-lookup"><span data-stu-id="7f49c-184">Likewise, clicking Uncheck All unselects all checkboxes.</span></span> <span data-ttu-id="7f49c-185">Figura 9 mostra a tela depois no botão Verificar tudo foi verificado.</span><span class="sxs-lookup"><span data-stu-id="7f49c-185">Figure 9 shows the screen after the Check All button has been checked.</span></span>


<span data-ttu-id="7f49c-186">[![Clicar a verificação de que todas as botão Seleciona todas as caixas de seleção](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="7f49c-186">[![Clicking the Check All Button Selects All Checkboxes](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span></span>

<span data-ttu-id="7f49c-187">**Figura 9**: clicando em verificar todos os botão Seleciona todas as caixas de seleção ([clique para exibir a imagem em tamanho normal](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="7f49c-187">**Figure 9**: Clicking the Check All Button Selects All Checkboxes ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span></span>


> [!NOTE]
> <span data-ttu-id="7f49c-188">Quando a exibição de uma coluna de caixas de seleção, uma abordagem para marcar ou desmarcar todas as caixas de seleção é por meio de uma caixa de seleção na linha de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="7f49c-188">When displaying a column of checkboxes, one approach for selecting or unselecting all of the checkboxes is through a checkbox in the header row.</span></span> <span data-ttu-id="7f49c-189">Além disso, o atual Verifique todos os / desmarque toda a implementação requer um postback.</span><span class="sxs-lookup"><span data-stu-id="7f49c-189">Moreover, the current Check All / Uncheck All implementation requires a postback.</span></span> <span data-ttu-id="7f49c-190">As caixas de seleção podem ser marcado ou desmarcado, no entanto, inteiramente por meio de script do lado do cliente, oferecendo uma experiência de usuário mais fluida.</span><span class="sxs-lookup"><span data-stu-id="7f49c-190">The checkboxes can be checked or unchecked, however, entirely through client-side script, thereby providing a snappier user experience.</span></span> <span data-ttu-id="7f49c-191">Para explorar usando uma caixa de seleção de linha de cabeçalho para desmarcar todas as e verificar todos os detalhadamente, juntamente com uma discussão sobre como usar técnicas do lado do cliente, fazer check-out [verificando todas as caixas de seleção no Script do lado do cliente usando um GridView e uma caixa de seleção de todos os Check](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="7f49c-191">To explore using a header row checkbox for Check All and Uncheck All in detail, along with a discussion on using client-side techniques, check out [Checking All CheckBoxes in a GridView Using Client-Side Script and a Check All CheckBox](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span></span>


## <a name="summary"></a><span data-ttu-id="7f49c-192">Resumo</span><span class="sxs-lookup"><span data-stu-id="7f49c-192">Summary</span></span>

<span data-ttu-id="7f49c-193">Em casos em que você precisa para permitir aos usuários escolher um número arbitrário de linhas de um GridView antes de continuar, a adição de uma coluna de caixas de seleção é uma opção.</span><span class="sxs-lookup"><span data-stu-id="7f49c-193">In cases where you need to let users choose an arbitrary number of rows from a GridView before proceeding, adding a column of checkboxes is one option.</span></span> <span data-ttu-id="7f49c-194">Como vimos neste tutorial, incluindo uma coluna de caixas de seleção no GridView envolve adicionar um TemplateField com um controle de caixa de seleção.</span><span class="sxs-lookup"><span data-stu-id="7f49c-194">As we saw in this tutorial, including a column of checkboxes in the GridView entails adding a TemplateField with a CheckBox Web control.</span></span> <span data-ttu-id="7f49c-195">Usando um controle da Web (em vez de injetar marcação diretamente no modelo, como fizemos no tutorial anterior) ASP.NET automaticamente se lembra que foram as caixas de seleção e não foram marcadas entre postback.</span><span class="sxs-lookup"><span data-stu-id="7f49c-195">By using a Web control (versus injecting markup directly into the template, as we did in the previous tutorial) ASP.NET automatically remembers what CheckBoxes were and were not checked across postback.</span></span> <span data-ttu-id="7f49c-196">Podemos pode também acessar programaticamente as caixas de seleção no código para determinar se uma determinada caixa de seleção estiver marcada, ou para alterar o estado de ativação.</span><span class="sxs-lookup"><span data-stu-id="7f49c-196">We can also programmatically access the CheckBoxes in code to determine whether a given CheckBox is checked, or to chnage the checked state.</span></span>

<span data-ttu-id="7f49c-197">Este tutorial e o último deles examinou adicionando uma coluna de seletor de linha para o GridView.</span><span class="sxs-lookup"><span data-stu-id="7f49c-197">This tutorial and the last one looked at adding a row selector column to the GridView.</span></span> <span data-ttu-id="7f49c-198">Nosso próximo tutorial, examinaremos como, com um pouco de trabalho, é possível adicionar funcionalidades de inserção para o GridView.</span><span class="sxs-lookup"><span data-stu-id="7f49c-198">In our next tutorial we'll examine how, with a bit of work, we can add inserting capabilities to the GridView.</span></span>

<span data-ttu-id="7f49c-199">Boa programação!</span><span class="sxs-lookup"><span data-stu-id="7f49c-199">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="7f49c-200">Sobre o autor</span><span class="sxs-lookup"><span data-stu-id="7f49c-200">About the Author</span></span>

<span data-ttu-id="7f49c-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de sete livros sobre ASP/ASP.NET e fundador da [4GuysFromRolla.com](http://www.4guysfromrolla.com), tem trabalhado com tecnologias Microsoft Web desde 1998.</span><span class="sxs-lookup"><span data-stu-id="7f49c-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="7f49c-202">Scott funciona como um consultor independente, instrutor e escritor.</span><span class="sxs-lookup"><span data-stu-id="7f49c-202">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="7f49c-203">Seu livro mais recente é [ *Sams Teach por conta própria ASP.NET 2.0 em 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="7f49c-203">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="7f49c-204">Ele pode ser contatado pelo [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="7f49c-204">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="7f49c-205">ou por meio de seu blog, que pode ser encontrado em [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="7f49c-205">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="7f49c-206">[Anterior](adding-a-gridview-column-of-radio-buttons-cs.md)
> [Próximo](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span><span class="sxs-lookup"><span data-stu-id="7f49c-206">[Previous](adding-a-gridview-column-of-radio-buttons-cs.md)
[Next](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span></span>
