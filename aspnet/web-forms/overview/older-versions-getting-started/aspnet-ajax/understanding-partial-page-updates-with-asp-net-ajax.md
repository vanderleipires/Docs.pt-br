---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
title: Noções básicas sobre atualizações de página parcial com o ASP.NET AJAX | Microsoft Docs
author: scottcate
description: Talvez o recurso mais visível das extensões do AJAX ASP.NET é a capacidade de fazer atualizações de uma página parcial ou incremental sem fazer um postback completo para t...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/28/2008
ms.topic: article
ms.assetid: 54d9df99-1161-4899-b4e8-2679c85915e7
ms.technology: dotnet-webforms
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
msc.type: authoredcontent
ms.openlocfilehash: 3b3c53f046933f71ada23f13eba99b720b2e51ea
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/03/2018
ms.locfileid: "37366787"
---
<a name="understanding-partial-page-updates-with-aspnet-ajax"></a><span data-ttu-id="b8e9a-103">Página parcial de Noções básicas sobre atualizações com o ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="b8e9a-103">Understanding Partial Page Updates with ASP.NET AJAX</span></span>
====================
<span data-ttu-id="b8e9a-104">por [Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="b8e9a-104">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="b8e9a-105">Baixar PDF</span><span class="sxs-lookup"><span data-stu-id="b8e9a-105">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial01_Partial_Page_Updates_cs.pdf)

> <span data-ttu-id="b8e9a-106">Talvez o recurso mais visível das extensões do AJAX ASP.NET é a capacidade de fazer atualizações de uma página parcial ou incremental sem fazer um postback completo para o servidor, sem alterações de código e alterações mínimas de marcação.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-106">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="b8e9a-107">As vantagens são abrangentes – o estado das suas multimídias (por exemplo, Adobe Flash ou o Windows Media) é alterado, os custos de largura de banda são reduzidos e o cliente não Experimente a cintilação geralmente associada a um postback.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-107">The advantages are extensive – the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>


## <a name="introduction"></a><span data-ttu-id="b8e9a-108">Introdução</span><span class="sxs-lookup"><span data-stu-id="b8e9a-108">Introduction</span></span>

<span data-ttu-id="b8e9a-109">Tecnologia ASP.NET da Microsoft oferece um modelo de programação orientada a objeto e controlada por evento e une-lo com os benefícios do código compilado.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-109">Microsoft's ASP.NET technology brings an object-oriented and event-driven programming model and unites it with the benefits of compiled code.</span></span> <span data-ttu-id="b8e9a-110">No entanto, seu modelo de processamento do lado do servidor tem várias desvantagens inerentes da tecnologia:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-110">However, its server-side processing model has several drawbacks inherent in the technology:</span></span>

- <span data-ttu-id="b8e9a-111">Atualizações de página exigem uma ida e volta ao servidor, que requer uma atualização de página.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-111">Page updates require a round-trip to the server, which requires a page refresh.</span></span>
- <span data-ttu-id="b8e9a-112">Ida e volta não persistem efeitos gerados pelo Javascript ou outra tecnologia do lado do cliente (como o Adobe Flash)</span><span class="sxs-lookup"><span data-stu-id="b8e9a-112">Round-trips do not persist any effects generated by Javascript or other client-side technology (such as Adobe Flash)</span></span>
- <span data-ttu-id="b8e9a-113">Durante um postback, navegadores diferentes do Microsoft Internet Explorer não dão suporte a restauração automática a posição de rolagem.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-113">During postback, browsers other than Microsoft Internet Explorer do not support automatically restoring the scroll position.</span></span> <span data-ttu-id="b8e9a-114">E, até mesmo no Internet Explorer, ainda há uma cintilação enquanto a página é atualizada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-114">And even in Internet Explorer, there is still a flicker as the page is refreshed.</span></span>
- <span data-ttu-id="b8e9a-115">Postagens podem envolver uma grande quantidade de largura de banda como o \_ \_campo de formulário VIEWSTATE pode crescer, especialmente ao lidar com controles, como o controle GridView ou repetidores.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-115">Postbacks may involve a high amount of bandwidth as the \_\_VIEWSTATE form field may grow, especially when dealing with controls such as the GridView control or repeaters.</span></span>
- <span data-ttu-id="b8e9a-116">Não há nenhum modelo unificado para acessar serviços Web por meio de JavaScript ou outra tecnologia do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-116">There is no unified model for accessing Web Services through JavaScript or other client-side technology.</span></span>

<span data-ttu-id="b8e9a-117">Insira as extensões do ASP.NET AJAX da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-117">Enter Microsoft's ASP.NET AJAX extensions.</span></span> <span data-ttu-id="b8e9a-118">AJAX, o que significa **um** síncrona **J** avaScript **um** nd **X** ML, é uma estrutura integrada para fornecimento de página incremental as atualizações por meio de JavaScript de plataforma cruzada, composto de código do lado do servidor que compõem a estrutura do Microsoft AJAX e um componente de script chamado a biblioteca de scripts do Microsoft AJAX.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-118">AJAX, which stands for **A** synchronous **J** avaScript **A** nd **X** ML, is an integrated framework for providing incremental page updates via cross-platform JavaScript, composed of server-side code comprising the Microsoft AJAX Framework, and a script component called the Microsoft AJAX Script Library.</span></span> <span data-ttu-id="b8e9a-119">As extensões do ASP.NET AJAX também fornecem suporte de plataforma cruzada para acessar serviços Web do ASP.NET por meio de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-119">The ASP.NET AJAX extensions also provide cross-platform support for accessing ASP.NET Web Services via JavaScript.</span></span>

<span data-ttu-id="b8e9a-120">Este white paper examina a funcionalidade de atualizações de página parcial das extensões AJAX do ASP.NET, que inclui o componente ScriptManager, o controle UpdatePanel e o controle UpdateProgress e considera os cenários em que eles devem ou não devem ser utilizado.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-120">This whitepaper examines the partial page updates functionality of the ASP.NET AJAX Extensions, which includes the ScriptManager component, the UpdatePanel control, and the UpdateProgress control, and considers scenarios in which they should or should not be utilized.</span></span>

<span data-ttu-id="b8e9a-121">Este white paper se baseia na versão Beta 2 do Visual Studio 2008 e o .NET Framework 3.5, que integra as extensões do AJAX ASP.NET a biblioteca de classes Base (em que era anteriormente um componente complementar disponível para o ASP.NET 2.0).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-121">This whitepaper is based on the Beta 2 release of the Visual Studio 2008 and the .NET Framework 3.5, which integrates the ASP.NET AJAX Extensions into the Base Class Library (where it was previously an add-on component available for ASP.NET 2.0).</span></span> <span data-ttu-id="b8e9a-122">Este white paper também pressupõe que você está usando o Visual Studio 2008 e não o Visual Web Developer Express Edition; Alguns modelos de projeto que são referenciados não podem estar disponíveis para os usuários do Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-122">This whitepaper also assumes that you are using Visual Studio 2008 and not Visual Web Developer Express Edition; some project templates that are referenced may not be available to Visual Web Developer Express users.</span></span>

## <a name="partial-page-updates"></a><span data-ttu-id="b8e9a-123">Atualizações de página parcial</span><span class="sxs-lookup"><span data-stu-id="b8e9a-123">Partial Page Updates</span></span>

<span data-ttu-id="b8e9a-124">Talvez o recurso mais visível das extensões do AJAX ASP.NET é a capacidade de fazer atualizações de uma página parcial ou incremental sem fazer um postback completo para o servidor, sem alterações de código e alterações mínimas de marcação.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-124">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="b8e9a-125">As vantagens são abrangentes – o estado das suas multimídias (por exemplo, Adobe Flash ou o Windows Media) é alterado, os custos de largura de banda são reduzidos e o cliente não Experimente a cintilação geralmente associada a um postback.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-125">The advantages are extensive - the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>

<span data-ttu-id="b8e9a-126">A capacidade de integrar a renderização parcial da página é integrada ao ASP.NET com alterações mínimas em seu projeto.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-126">The ability to integrate partial page rendering is integrated into ASP.NET with minimal changes into your project.</span></span>

## <a name="walkthrough-integrating-partial-rendering-into-an-existing-project"></a><span data-ttu-id="b8e9a-127">Passo a passo: Integrar o processamento parcial em um projeto existente</span><span class="sxs-lookup"><span data-stu-id="b8e9a-127">Walkthrough: Integrating Partial Rendering into an Existing Project</span></span>


1. <span data-ttu-id="b8e9a-128">No Microsoft Visual Studio 2008, crie um novo projeto de Site da Web ASP.NET acessando <em>arquivo</em>  <em>- &gt; New</em>  <em>- &gt; Web Site</em> e selecionando o Site da Web ASP.NET na caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-128">In Microsoft Visual Studio 2008, create a new ASP.NET Web Site project by going to <em>File</em><em>-&gt; New</em><em>-&gt; Web Site</em> and selecting ASP.NET Web Site from the dialog.</span></span> <span data-ttu-id="b8e9a-129">Você pode chamá-lo que você quiser, e você pode instalá-lo para o sistema de arquivos ou em serviços de informações da Internet (IIS).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-129">You can name it whatever you like, and you may install it either to the file system or into Internet Information Services (IIS).</span></span>
2. <span data-ttu-id="b8e9a-130">Você verá a página padrão em branco com marcação básica do ASP.NET (um formulário do lado do servidor e um `@Page` diretiva).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-130">You will be presented with the blank default page with basic ASP.NET markup (a server-side form and an `@Page` directive).</span></span> <span data-ttu-id="b8e9a-131">Remover um rótulo denominado `Label1` e um botão chamado `Button1` até a página dentro do elemento de formulário.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-131">Drop a Label called `Label1` and a Button called `Button1` onto the page within the form element.</span></span> <span data-ttu-id="b8e9a-132">Você pode definir suas propriedades de texto para que você quiser.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-132">You may set their text properties to whatever you like.</span></span>
3. <span data-ttu-id="b8e9a-133">No modo Design, clique duas vezes em `Button1` para gerar um manipulador de eventos de lógica.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-133">In Design view, double-click `Button1` to generate a code-behind event handler.</span></span> <span data-ttu-id="b8e9a-134">Dentro do manipulador de eventos, definir `Label1.Text` para você clicou no botão!</span><span class="sxs-lookup"><span data-stu-id="b8e9a-134">Within this event handler, set `Label1.Text` to You clicked the button!</span></span> <span data-ttu-id="b8e9a-135">.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-135">.</span></span>

<span data-ttu-id="b8e9a-136">**Listagem 1: Marcação para default. aspx antes da renderização parcial é habilitada**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-136">**Listing 1: Markup for default.aspx before partial rendering is enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample1.aspx)]

<span data-ttu-id="b8e9a-137">**Listagem 2: Code-behind (cortado) em default.aspx.cs**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-137">**Listing 2: Codebehind (trimmed) in default.aspx.cs**</span></span>

[!code-csharp[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample2.cs)]

1. <span data-ttu-id="b8e9a-138">Pressione F5 para iniciar seu site da web.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-138">Press F5 to launch your web site.</span></span> <span data-ttu-id="b8e9a-139">Visual Studio solicitará que você adicione um arquivo Web. config para habilitar a depuração; fazer isso.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-139">Visual Studio will prompt you to add a web.config file to enable debugging; do so.</span></span> <span data-ttu-id="b8e9a-140">Quando você clica no botão, observe que a página é atualizada para alterar o texto no rótulo, e há uma breve cintilação conforme a página é redesenhada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-140">When you click the button, notice that the page refreshes to change the text in the label, and there is a brief flicker as the page is redrawn.</span></span>
2. <span data-ttu-id="b8e9a-141">Depois de fechar a janela do navegador, retorne ao Visual Studio e para a página de marcação.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-141">After closing your browser window, return to Visual Studio and to the markup page.</span></span> <span data-ttu-id="b8e9a-142">Role para baixo na caixa de ferramentas do Visual Studio e localize a guia chamada AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-142">Scroll down in the Visual Studio toolbox, and find the tab labeled AJAX Extensions.</span></span> <span data-ttu-id="b8e9a-143">(Se você não tiver essa guia porque você está usando uma versão mais antiga das extensões AJAX ou Atlas, consulte o passo a passo para registrar os itens de caixa de ferramentas de extensões do AJAX mais tarde neste white paper ou instalar a versão atual com o instalador do Windows que pode ser baixado do site).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-143">(If you do not have this tab because you are using an older version of AJAX or Atlas extensions, refer to the walkthrough for registering the AJAX Extensions toolbox items later in this whitepaper, or install the current version with the Windows Installer downloadable from the website).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image2.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image1.png)

<span data-ttu-id="b8e9a-144">([Clique para exibir a imagem em tamanho normal](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="b8e9a-144">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span></span>


1. <span data-ttu-id="b8e9a-145"><em>Problema conhecido:</em>se você instalar o Visual Studio 2008 em um computador que já tenha o Visual Studio 2005 instalado com o ASP.NET 2.0 AJAX Extensions, o Visual Studio 2008 importará os itens de caixa de ferramentas de extensões do AJAX.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-145"><em>Known Issue:</em>If you install Visual Studio 2008 onto a computer that already has Visual Studio 2005 installed with the ASP.NET 2.0 AJAX Extensions, Visual Studio 2008 will import the AJAX Extensions toolbox items.</span></span> <span data-ttu-id="b8e9a-146">Você pode determinar se esse for o caso, examinando a dica de ferramenta dos componentes; eles devem dizem versão 3.5.0.0.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-146">You can determine whether this is the case by examining the tooltip of the components; they should say Version 3.5.0.0.</span></span> <span data-ttu-id="b8e9a-147">Se dizem que a versão 2.0.0.0, em seguida, você importou seus itens de caixa de ferramentas antigos e precisará importá-las manualmente usando a caixa de diálogo Escolher itens da caixa de ferramentas no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-147">If they say Version 2.0.0.0, then you have imported your old toolbox items, and will need to manually import them by using the Choose Toolbox Items dialog in Visual Studio.</span></span> <span data-ttu-id="b8e9a-148">Não será possível adicionar controles de versão 2 por meio do designer.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-148">You will be unable to add Version 2 controls via the designer.</span></span>

2. <span data-ttu-id="b8e9a-149">Antes do `<asp:Label>` marca começa, crie uma linha de espaço em branco e clique duas vezes no controle UpdatePanel na caixa de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-149">Before the `<asp:Label>` tag begins, create a line of whitespace, and double-click on the UpdatePanel control in the toolbox.</span></span> <span data-ttu-id="b8e9a-150">Observe que uma nova `@Register` diretiva está incluída na parte superior da página, indicando que os controles dentro do namespace de UI devem ser importados usando o `asp:` prefixo.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-150">Note that a new `@Register` directive is included at the top of the page, indicating that controls within the System.Web.UI namespace should be imported using the `asp:` prefix.</span></span>
3. <span data-ttu-id="b8e9a-151">Arraste o fechamento `</asp:UpdatePanel>` marca após o fim do elemento Button, para que o elemento está bem formado com os controles de rótulo e botão encapsulados.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-151">Drag the closing `</asp:UpdatePanel>` tag past the end of the Button element, so that the element is well-formed with the Label and Button controls wrapped.</span></span>
4. <span data-ttu-id="b8e9a-152">Após a abertura `<asp:UpdatePanel>` marca, começar a abrir uma nova marca.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-152">After the opening `<asp:UpdatePanel>` tag, begin opening a new tag.</span></span> <span data-ttu-id="b8e9a-153">Observe que o IntelliSense mostrará duas opções.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-153">Note that IntelliSense prompts you with two options.</span></span> <span data-ttu-id="b8e9a-154">Nesse caso, crie um `<ContentTemplate>` marca.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-154">In this case, create a `<ContentTemplate>` tag.</span></span> <span data-ttu-id="b8e9a-155">Certifique-se de quebrar essa marca ao redor de seu rótulo e o botão para que a marcação está bem formada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-155">Be sure to wrap this tag around your Label and Button so that the markup is well-formed.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image5.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image4.png)

<span data-ttu-id="b8e9a-156">([Clique para exibir a imagem em tamanho normal](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="b8e9a-156">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span></span>


1. <span data-ttu-id="b8e9a-157">Em qualquer lugar dentro do `<form>` elemento, incluem um controle ScriptManager clicando duas vezes no `ScriptManager` item na caixa de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-157">Anywhere within the `<form>` element, include a ScriptManager control by double-clicking on the `ScriptManager` item in the toolbox.</span></span>
2. <span data-ttu-id="b8e9a-158">Editar o `<asp:ScriptManager>` para que ela inclua o atributo de marca `EnablePartialRendering= true`.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-158">Edit the `<asp:ScriptManager>` tag so that it includes the attribute `EnablePartialRendering= true`.</span></span>

<span data-ttu-id="b8e9a-159">**Listagem 3: Marcação para default. aspx com a renderização parcial habilitada**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-159">**Listing 3: Markup for default.aspx with partial rendering enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample3.aspx)]

1. <span data-ttu-id="b8e9a-160">Abra o arquivo Web. config.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-160">Open your web.config file.</span></span> <span data-ttu-id="b8e9a-161">Observe que o Visual Studio adicionou uma referência de compilação para Extensions automaticamente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-161">Notice that Visual Studio has automatically added a compilation reference to System.Web.Extensions.dll.</span></span>

1. <span data-ttu-id="b8e9a-162">O que há de novo no Visual Studio 2008: O Web. config que vem com os modelos de projeto de Site da Web ASP.NET automaticamente inclui todas as referências necessárias para extensões AJAX do ASP.NET e inclui as seções comentadas das informações de configuração que podem ser não é comentado para habilitar funcionalidades adicionais.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-162">What's New in Visual Studio 2008: The web.config that comes with the ASP.NET Web Site project templates automatically includes all necessary references to the ASP.NET AJAX Extensions, and includes commented sections of configuration information that can be un-commented to enable additional functionality.</span></span> <span data-ttu-id="b8e9a-163">Visual Studio 2005 tinha modelos semelhantes ao ASP.NET 2.0 AJAX Extensions foram instalados.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-163">Visual Studio 2005 had similar templates when ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="b8e9a-164">No entanto, no Visual Studio 2008, as extensões AJAX são recusá-la por padrão (ou seja, eles são referenciados por padrão, mas pode ser removidos como referências).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-164">However, in Visual Studio 2008, the AJAX Extensions are opt-out by default (that is, they are referenced by default, but can be removed as references).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image8.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image7.png)

<span data-ttu-id="b8e9a-165">([Clique para exibir a imagem em tamanho normal](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="b8e9a-165">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span></span>


1. <span data-ttu-id="b8e9a-166">Pressione F5 para iniciar seu site.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-166">Press F5 to launch your website.</span></span> <span data-ttu-id="b8e9a-167">Observe como sem alterações de código de origem foram necessárias para dar suporte à renderização parcial – somente a marcação foi alterada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-167">Note how no source code changes were required to support partial rendering - only markup was changed.</span></span>

<span data-ttu-id="b8e9a-168">Quando você inicia seu site, você deve ver que a renderização parcial está agora habilitado, porque quando você clica no botão lá será sem cintilação, nem haverá qualquer alteração na posição de rolagem de página (neste exemplo não Demonstre que).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-168">When you launch your website, you should see that partial rendering is now enabled, because when you click on the button there will be no flicker, nor will there be any change in the page scroll position (this example does not demonstrate that).</span></span> <span data-ttu-id="b8e9a-169">Se você examinar a código-fonte renderizada da página depois de clicar no botão, ele confirmará que na verdade um POST-back não ocorreu - o texto do rótulo original ainda é parte da marcação de origem e o rótulo foi alterada por meio de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-169">If you were to look at the rendered source of the page after clicking the button, it will confirm that in fact a post-back has not occurred - the original label text is still part of the source markup, and the label has changed through JavaScript.</span></span>

<span data-ttu-id="b8e9a-170">O Visual Studio 2008 não parece vêm com um modelo predefinido para um site ASP.NET habilitado por AJAX.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-170">Visual Studio 2008 does not appear to come with a pre-defined template for an ASP.NET AJAX-Enabled web site.</span></span> <span data-ttu-id="b8e9a-171">No entanto, um modelo desse tipo estava disponível no Visual Studio 2005 se o Visual Studio 2005 e o ASP.NET 2.0 AJAX Extensions foram instalados.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-171">However, such a template was available within Visual Studio 2005 if the Visual Studio 2005 and ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="b8e9a-172">Consequentemente, configurar um site da web e iniciar com o modelo de Site de Web habilitado para AJAX provavelmente será ainda mais fácil, pois o modelo deve incluir um arquivo Web. config totalmente configurado (suporte a todas as extensões AJAX do ASP.NET, incluindo o acesso de serviços da Web e serialização JSON - JavaScript Object Notation) e inclui um UpdatePanel e ContentTemplate dentro da página principal do Web Forms, por padrão.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-172">Consequently, configuring a web site and starting with the AJAX-Enabled Web Site template will likely be even easier, as the template should include a fully-configured web.config file (supporting all of the ASP.NET AJAX Extensions, including Web Services access and JSON serialization - JavaScript Object Notation) and includes an UpdatePanel and ContentTemplate within the main Web Forms page by default.</span></span> <span data-ttu-id="b8e9a-173">Habilitar o processamento parcial com essa página padrão é tão simple quanto Revisitando as 10 etapa deste passo a passo e soltar controles na página.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-173">Enabling partial rendering with this default page is as simple as revisiting Step 10 of this walkthrough and dropping controls onto the page.</span></span>

## <a name="the-scriptmanager-control"></a><span data-ttu-id="b8e9a-174">O controle ScriptManager</span><span class="sxs-lookup"><span data-stu-id="b8e9a-174">The ScriptManager Control</span></span>

## <a name="scriptmanager-control-reference"></a><span data-ttu-id="b8e9a-175">Referência de controle do ScriptManager</span><span class="sxs-lookup"><span data-stu-id="b8e9a-175">ScriptManager Control Reference</span></span>

<span data-ttu-id="b8e9a-176">Propriedades de marcação habilitada:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-176">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="b8e9a-177">**Nome da propriedade**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-177">**Property Name**</span></span> | <span data-ttu-id="b8e9a-178">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-178">**Type**</span></span> | <span data-ttu-id="b8e9a-179">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-179">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b8e9a-180">AllowCustomErrors-Redirect</span><span class="sxs-lookup"><span data-stu-id="b8e9a-180">AllowCustomErrors-Redirect</span></span> | <span data-ttu-id="b8e9a-181">Bool</span><span class="sxs-lookup"><span data-stu-id="b8e9a-181">Bool</span></span> | <span data-ttu-id="b8e9a-182">Especifica se deve usar a seção de erro personalizada do arquivo Web. config para lidar com erros.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-182">Specifies whether to use the custom error section of the web.config file to handle errors.</span></span> |
| <span data-ttu-id="b8e9a-183">AsyncPostBackError-Message</span><span class="sxs-lookup"><span data-stu-id="b8e9a-183">AsyncPostBackError-Message</span></span> | <span data-ttu-id="b8e9a-184">Cadeia de Caracteres</span><span class="sxs-lookup"><span data-stu-id="b8e9a-184">String</span></span> | <span data-ttu-id="b8e9a-185">Obtém ou define a mensagem de erro enviada ao cliente, se um erro será gerado.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-185">Gets or sets the error message sent to the client if an error is raised.</span></span> |
| <span data-ttu-id="b8e9a-186">AsyncPostBack-Timeout</span><span class="sxs-lookup"><span data-stu-id="b8e9a-186">AsyncPostBack-Timeout</span></span> | <span data-ttu-id="b8e9a-187">Int32</span><span class="sxs-lookup"><span data-stu-id="b8e9a-187">Int32</span></span> | <span data-ttu-id="b8e9a-188">Obtém ou define a quantidade padrão de uma hora em que um cliente deve aguardar a solicitação assíncrona ser concluída.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-188">Gets or sets the default amount of a time a client should wait for the asynchronous request to complete.</span></span> |
| <span data-ttu-id="b8e9a-189">EnableScript-Globalization</span><span class="sxs-lookup"><span data-stu-id="b8e9a-189">EnableScript-Globalization</span></span> | <span data-ttu-id="b8e9a-190">Bool</span><span class="sxs-lookup"><span data-stu-id="b8e9a-190">Bool</span></span> | <span data-ttu-id="b8e9a-191">Obtém ou define se a globalização de script está habilitada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-191">Gets or sets whether script globalization is enabled.</span></span> |
| <span data-ttu-id="b8e9a-192">EnableScript-Localization</span><span class="sxs-lookup"><span data-stu-id="b8e9a-192">EnableScript-Localization</span></span> | <span data-ttu-id="b8e9a-193">Bool</span><span class="sxs-lookup"><span data-stu-id="b8e9a-193">Bool</span></span> | <span data-ttu-id="b8e9a-194">Obtém ou define se a localização por script está habilitada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-194">Gets or sets whether script localization is enabled.</span></span> |
| <span data-ttu-id="b8e9a-195">ScriptLoadTimeout</span><span class="sxs-lookup"><span data-stu-id="b8e9a-195">ScriptLoadTimeout</span></span> | <span data-ttu-id="b8e9a-196">Int32</span><span class="sxs-lookup"><span data-stu-id="b8e9a-196">Int32</span></span> | <span data-ttu-id="b8e9a-197">Determina o número de segundos permitido para carregamento de scripts no cliente</span><span class="sxs-lookup"><span data-stu-id="b8e9a-197">Determines the number of seconds allowed for loading scripts into the client</span></span> |
| <span data-ttu-id="b8e9a-198">ScriptMode</span><span class="sxs-lookup"><span data-stu-id="b8e9a-198">ScriptMode</span></span> | <span data-ttu-id="b8e9a-199">Enum (Auto, depuração, versão, herdar)</span><span class="sxs-lookup"><span data-stu-id="b8e9a-199">Enum (Auto, Debug, Release, Inherit)</span></span> | <span data-ttu-id="b8e9a-200">Obtém ou define se deve processar versões de lançamento de scripts</span><span class="sxs-lookup"><span data-stu-id="b8e9a-200">Gets or sets whether to render release versions of scripts</span></span> |
| <span data-ttu-id="b8e9a-201">ScriptPath</span><span class="sxs-lookup"><span data-stu-id="b8e9a-201">ScriptPath</span></span> | <span data-ttu-id="b8e9a-202">Cadeia de Caracteres</span><span class="sxs-lookup"><span data-stu-id="b8e9a-202">String</span></span> | <span data-ttu-id="b8e9a-203">Obtém ou define o caminho raiz para o local dos arquivos de script a ser enviada ao cliente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-203">Gets or sets the root path to the location of script files to be sent to the client.</span></span> |

<span data-ttu-id="b8e9a-204">Propriedades de código:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-204">Code-Only Properties:</span></span>

| <span data-ttu-id="b8e9a-205">**Nome da propriedade**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-205">**Property Name**</span></span> | <span data-ttu-id="b8e9a-206">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-206">**Type**</span></span> | <span data-ttu-id="b8e9a-207">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-207">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b8e9a-208">AuthenticationService</span><span class="sxs-lookup"><span data-stu-id="b8e9a-208">AuthenticationService</span></span> | <span data-ttu-id="b8e9a-209">AuthenticationService-Manager</span><span class="sxs-lookup"><span data-stu-id="b8e9a-209">AuthenticationService-Manager</span></span> | <span data-ttu-id="b8e9a-210">Obtém os detalhes sobre o proxy do serviço de autenticação do ASP.NET que será enviada ao cliente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-210">Gets details about the ASP.NET Authentication Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="b8e9a-211">IsDebuggingEnabled</span><span class="sxs-lookup"><span data-stu-id="b8e9a-211">IsDebuggingEnabled</span></span> | <span data-ttu-id="b8e9a-212">Bool</span><span class="sxs-lookup"><span data-stu-id="b8e9a-212">Bool</span></span> | <span data-ttu-id="b8e9a-213">Obtém se criar scripts e depuração de código está habilitada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-213">Gets whether script and code debugging is enabled.</span></span> |
| <span data-ttu-id="b8e9a-214">IsInAsyncPostback</span><span class="sxs-lookup"><span data-stu-id="b8e9a-214">IsInAsyncPostback</span></span> | <span data-ttu-id="b8e9a-215">Bool</span><span class="sxs-lookup"><span data-stu-id="b8e9a-215">Bool</span></span> | <span data-ttu-id="b8e9a-216">Determina se a página está atualmente em uma solicitação de postagem assíncrona.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-216">Gets whether the page is currently in an asynchronous post back request.</span></span> |
| <span data-ttu-id="b8e9a-217">ProfileService</span><span class="sxs-lookup"><span data-stu-id="b8e9a-217">ProfileService</span></span> | <span data-ttu-id="b8e9a-218">ProfileService-Manager</span><span class="sxs-lookup"><span data-stu-id="b8e9a-218">ProfileService-Manager</span></span> | <span data-ttu-id="b8e9a-219">Obtém os detalhes sobre o proxy do serviço de criação de perfil do ASP.NET que será enviada ao cliente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-219">Gets details about the ASP.NET Profiling Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="b8e9a-220">Scripts</span><span class="sxs-lookup"><span data-stu-id="b8e9a-220">Scripts</span></span> | <span data-ttu-id="b8e9a-221">Coleção&lt;referência de Script&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-221">Collection&lt;Script-Reference&gt;</span></span> | <span data-ttu-id="b8e9a-222">Obtém uma coleção de referências de script que será enviada ao cliente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-222">Gets a collection of script references that will be sent to the client.</span></span> |
| <span data-ttu-id="b8e9a-223">Serviços</span><span class="sxs-lookup"><span data-stu-id="b8e9a-223">Services</span></span> | <span data-ttu-id="b8e9a-224">Coleção&lt;referência de serviço&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-224">Collection&lt;Service-Reference&gt;</span></span> | <span data-ttu-id="b8e9a-225">Obtém uma coleção de referências de proxy de serviço Web que será enviada ao cliente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-225">Gets a collection of Web Service proxy references that will be sent to the client.</span></span> |
| <span data-ttu-id="b8e9a-226">SupportsPartialRendering</span><span class="sxs-lookup"><span data-stu-id="b8e9a-226">SupportsPartialRendering</span></span> | <span data-ttu-id="b8e9a-227">Bool</span><span class="sxs-lookup"><span data-stu-id="b8e9a-227">Bool</span></span> | <span data-ttu-id="b8e9a-228">Obtém se o cliente atual oferece suporte à renderização parcial.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-228">Gets whether the current client supports partial rendering.</span></span> <span data-ttu-id="b8e9a-229">Se essa propriedade retornará **falsos**, todas as solicitações de página será postagens padrão.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-229">If this property returns **false**, then all page requests will be standard postbacks.</span></span> |

<span data-ttu-id="b8e9a-230">Métodos de código público:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-230">Public Code Methods:</span></span>

| <span data-ttu-id="b8e9a-231">**Nome do método**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-231">**Method Name**</span></span> | <span data-ttu-id="b8e9a-232">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-232">**Type**</span></span> | <span data-ttu-id="b8e9a-233">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-233">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b8e9a-234">SetFocus(string)</span><span class="sxs-lookup"><span data-stu-id="b8e9a-234">SetFocus(string)</span></span> | <span data-ttu-id="b8e9a-235">Void</span><span class="sxs-lookup"><span data-stu-id="b8e9a-235">Void</span></span> | <span data-ttu-id="b8e9a-236">Define o foco do cliente para um determinado controle quando a solicitação é concluída.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-236">Sets the focus of the client to a particular control when the request has completed.</span></span> |

<span data-ttu-id="b8e9a-237">Descendentes de marcação:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-237">Markup Descendants:</span></span>

| <span data-ttu-id="b8e9a-238">**Marca**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-238">**Tag**</span></span> | <span data-ttu-id="b8e9a-239">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-239">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b8e9a-240">&lt;AuthenticationService&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-240">&lt;AuthenticationService&gt;</span></span> | <span data-ttu-id="b8e9a-241">Fornece detalhes sobre o proxy para o serviço de autenticação do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-241">Provides details about the proxy to the ASP.NET authentication service.</span></span> |
| <span data-ttu-id="b8e9a-242">&lt;ProfileService&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-242">&lt;ProfileService&gt;</span></span> | <span data-ttu-id="b8e9a-243">Fornece detalhes sobre o proxy para o serviço de criação de perfil do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-243">Provides details about the proxy to the ASP.NET profiling service.</span></span> |
| <span data-ttu-id="b8e9a-244">&lt;Scripts&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-244">&lt;Scripts&gt;</span></span> | <span data-ttu-id="b8e9a-245">Fornece referências de script adicionais.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-245">Provides additional script references.</span></span> |
| <span data-ttu-id="b8e9a-246">&lt;asp:ScriptReference&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-246">&lt;asp:ScriptReference&gt;</span></span> | <span data-ttu-id="b8e9a-247">Indica uma referência de script específico.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-247">Denotes a specific script reference.</span></span> |
| <span data-ttu-id="b8e9a-248">&lt;Serviço&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-248">&lt;Service&gt;</span></span> | <span data-ttu-id="b8e9a-249">Fornece referências adicionais do serviço Web que terão classes proxy geradas.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-249">Provides additional Web Service references which will have proxy classes generated.</span></span> |
| <span data-ttu-id="b8e9a-250">&lt;asp:ServiceReference&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-250">&lt;asp:ServiceReference&gt;</span></span> | <span data-ttu-id="b8e9a-251">Indica uma referência de serviço da Web específica.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-251">Denotes a specific Web Service reference.</span></span> |

<span data-ttu-id="b8e9a-252">O controle ScriptManager é o núcleo essencial para as extensões do AJAX ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-252">The ScriptManager control is the essential core for the ASP.NET AJAX Extensions.</span></span> <span data-ttu-id="b8e9a-253">Ele fornece acesso à biblioteca de scripts (incluindo o sistema de tipos de script extensivo do lado do cliente), dá suporte à renderização parcial e fornece suporte extensivo para serviços ASP.NET adicionais (como autenticação e criação de perfil, mas também outros serviços da Web).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-253">It provides access to the script library (including the extensive client-side script type system), supports partial rendering, and provides extensive support for additional ASP.NET services (such as authentication and profiling, but also other Web Services).</span></span> <span data-ttu-id="b8e9a-254">O controle ScriptManager também fornece suportam de globalização e localização para os scripts de cliente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-254">The ScriptManager control also provides globalization and localization support for the client scripts.</span></span>

## <a name="providing-alterative-and-supplemental-scripts"></a><span data-ttu-id="b8e9a-255">Fornecer Scripts alternativo e complementares</span><span class="sxs-lookup"><span data-stu-id="b8e9a-255">Providing Alterative and Supplemental Scripts</span></span>

<span data-ttu-id="b8e9a-256">Embora o Microsoft ASP.NET 2.0 AJAX Extensions incluir o código de script inteiro em ambos os depuração e versão edições como recursos incorporados em assemblies referenciados, os desenvolvedores são livres para redirecionar o ScriptManager para os arquivos de script personalizado, bem como registrar scripts de adicionais necessários.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-256">While the Microsoft ASP.NET 2.0 AJAX Extensions include the entire script code in both debug and release editions as resources embedded in the referenced assemblies, developers are free to redirect the ScriptManager to customized script files, as well as register additional necessary scripts.</span></span>

<span data-ttu-id="b8e9a-257">Para substituir a associação padrão para os scripts incluídos normalmente (como aqueles que oferecem suporte o namespace Sys. WebForms e o sistema de digitação personalizado), você pode se registrar para o `ResolveScriptReference` evento da classe ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-257">To override the default binding for the typically-included scripts (such as those which support the Sys.WebForms namespace and the custom typing system), you can register for the `ResolveScriptReference` event of the ScriptManager class.</span></span> <span data-ttu-id="b8e9a-258">Quando este método é chamado, o manipulador de eventos tem a oportunidade de alterar o caminho para o arquivo de script em questão; o Gerenciador de scripts, em seguida, enviará uma cópia diferente ou personalizada dos scripts para o cliente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-258">When this method is called, the event handler has the opportunity to change the path to the script file in question; the script manager will then send a different or customized copy of the scripts to the client.</span></span>

<span data-ttu-id="b8e9a-259">Além disso, referências de script (representado pela `ScriptReference` classe) pode ser incluído programaticamente ou por meio de marcação.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-259">Additionally, script references (represented by the `ScriptReference` class) can be included programmatically or via markup.</span></span> <span data-ttu-id="b8e9a-260">Para fazer isso, modifique programaticamente a `ScriptManager.Scripts` coleção, ou incluir `<asp:ScriptReference>` marcas sob o `<Scripts>` marca, que é um filho de primeiro nível do controle ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-260">To do so, either programmatically modify the `ScriptManager.Scripts` collection, or include `<asp:ScriptReference>` tags under the `<Scripts>` tag, which is a first-level child of the ScriptManager control.</span></span>

## <a name="custom-error-handling-for-updatepanels"></a><span data-ttu-id="b8e9a-261">Tratamento UpdatePanels de erro personalizado</span><span class="sxs-lookup"><span data-stu-id="b8e9a-261">Custom Error Handling for UpdatePanels</span></span>

<span data-ttu-id="b8e9a-262">Embora as atualizações são manipuladas por gatilhos especificados por controles UpdatePanel, o suporte para tratamento de erros e mensagens de erro personalizadas é tratado pela instância de controle do ScriptManager uma página.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-262">Although updates are handled by triggers specified by UpdatePanel controls, the support for error handling and custom error messages is handled by a page's ScriptManager control instance.</span></span> <span data-ttu-id="b8e9a-263">Isso é feito, expondo um evento, `AsyncPostBackError`, para a página que pode então fornecer lógica de manipulação de exceção personalizada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-263">This is done by exposing an event, `AsyncPostBackError`, to the page which can then provide custom exception-handling logic.</span></span>

<span data-ttu-id="b8e9a-264">Consumindo o evento AsyncPostBackError, você pode especificar o `AsyncPostBackErrorMessage` propriedade, que, em seguida, faz com que uma caixa de alerta a ser gerado após a conclusão do retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-264">By consuming the AsyncPostBackError event, you may specify the `AsyncPostBackErrorMessage` property, which then causes an alert box to be raised upon completion of the callback.</span></span>

<span data-ttu-id="b8e9a-265">Personalização do lado do cliente também é possível em vez de usar a caixa de alerta padrão; Por exemplo, você talvez queira exibir um personalizado `<div>` elemento, em vez de diálogo modal de navegador padrão.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-265">Client-side customization is also possible instead of using the default alert box; for instance, you may want to display a customized `<div>` element rather than the default browser modal dialog.</span></span> <span data-ttu-id="b8e9a-266">Nesse caso, você pode tratar o erro no script de cliente:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-266">In this case, you can handle the error in client script:</span></span>

<span data-ttu-id="b8e9a-267">**Listagem 5: O script do lado do cliente para exibir os erros personalizados**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-267">**Listing 5: Client-side script to display custom errors**</span></span>

[!code-html[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample4.html)]

<span data-ttu-id="b8e9a-268">Muito simplesmente, o script acima registra um retorno de chamada com o tempo de execução do AJAX do lado do cliente para que a solicitação assíncrona for concluída.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-268">Quite simply, the above script registers a callback with the client-side AJAX runtime for when the asynchronous request has been completed.</span></span> <span data-ttu-id="b8e9a-269">Em seguida, ele verifica se um erro foi relatado e nesse caso, processa os detalhes dele, que, por fim, que indica o tempo de execução que o erro foi tratado em um script personalizado.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-269">It then checks to see whether an error was reported, and if so, processes the details of it, finally indicating to the runtime that the error was handled in custom script.</span></span>

## <a name="globalization-and-localization-support"></a><span data-ttu-id="b8e9a-270">Suporte de localização e globalização</span><span class="sxs-lookup"><span data-stu-id="b8e9a-270">Globalization and Localization Support</span></span>

<span data-ttu-id="b8e9a-271">O controle ScriptManager fornece amplo suporte para localização de cadeias de caracteres de script e componentes de interface do usuário; No entanto, esse tópico está fora do escopo deste white paper.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-271">The ScriptManager control provides extensive support for localization of script strings and user interface components; however, that topic is outside of the scope of this whitepaper.</span></span> <span data-ttu-id="b8e9a-272">Para obter mais informações, consulte o white paper, suporte de globalização no ASP.NET AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-272">For more information, see the whitepaper, Globalization Support in ASP.NET AJAX Extensions.</span></span>

## <a name="the-updatepanel-control"></a><span data-ttu-id="b8e9a-273">O controle UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="b8e9a-273">The UpdatePanel Control</span></span>

## <a name="updatepanel-control-reference"></a><span data-ttu-id="b8e9a-274">Referência de controle UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="b8e9a-274">UpdatePanel Control Reference</span></span>

<span data-ttu-id="b8e9a-275">Propriedades de marcação habilitada:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-275">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="b8e9a-276">**Nome da propriedade**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-276">**Property Name**</span></span> | <span data-ttu-id="b8e9a-277">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-277">**Type**</span></span> | <span data-ttu-id="b8e9a-278">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-278">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b8e9a-279">ChildrenAsTriggers</span><span class="sxs-lookup"><span data-stu-id="b8e9a-279">ChildrenAsTriggers</span></span> | <span data-ttu-id="b8e9a-280">bool</span><span class="sxs-lookup"><span data-stu-id="b8e9a-280">bool</span></span> | <span data-ttu-id="b8e9a-281">Especifica se os controles filho invocar automaticamente a atualização em um postback.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-281">Specifies whether child controls automatically invoke refresh on postback.</span></span> |
| <span data-ttu-id="b8e9a-282">RenderMode</span><span class="sxs-lookup"><span data-stu-id="b8e9a-282">RenderMode</span></span> | <span data-ttu-id="b8e9a-283">Enum (bloco, embutido)</span><span class="sxs-lookup"><span data-stu-id="b8e9a-283">enum (Block, Inline)</span></span> | <span data-ttu-id="b8e9a-284">Especifica a maneira como o conteúdo será apresentado visualmente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-284">Specifies the way the content will be visually presented.</span></span> |
| <span data-ttu-id="b8e9a-285">UpdateMode</span><span class="sxs-lookup"><span data-stu-id="b8e9a-285">UpdateMode</span></span> | <span data-ttu-id="b8e9a-286">Enum (sempre, condicional)</span><span class="sxs-lookup"><span data-stu-id="b8e9a-286">enum (Always, Conditional)</span></span> | <span data-ttu-id="b8e9a-287">Especifica se o UpdatePanel é sempre atualizado durante uma renderização parcial ou se ele é atualizado somente quando um disparador for atingido.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-287">Specifies whether the UpdatePanel is always refreshed during a partial render or if it is only refreshed when a trigger is hit.</span></span> |

<span data-ttu-id="b8e9a-288">Propriedades de código:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-288">Code-Only Properties:</span></span>

| <span data-ttu-id="b8e9a-289">**Nome da propriedade**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-289">**Property Name**</span></span> | <span data-ttu-id="b8e9a-290">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-290">**Type**</span></span> | <span data-ttu-id="b8e9a-291">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-291">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b8e9a-292">IsInPartialRendering</span><span class="sxs-lookup"><span data-stu-id="b8e9a-292">IsInPartialRendering</span></span> | <span data-ttu-id="b8e9a-293">bool</span><span class="sxs-lookup"><span data-stu-id="b8e9a-293">bool</span></span> | <span data-ttu-id="b8e9a-294">Determina se o UpdatePanel é dar suporte a renderização parcial para a solicitação atual.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-294">Gets whether the UpdatePanel is supporting partial rendering for the current request.</span></span> |
| <span data-ttu-id="b8e9a-295">ContentTemplate</span><span class="sxs-lookup"><span data-stu-id="b8e9a-295">ContentTemplate</span></span> | <span data-ttu-id="b8e9a-296">ITemplate</span><span class="sxs-lookup"><span data-stu-id="b8e9a-296">ITemplate</span></span> | <span data-ttu-id="b8e9a-297">Obtém o modelo de marcação para a solicitação de atualização.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-297">Gets the markup template for the update request.</span></span> |
| <span data-ttu-id="b8e9a-298">ContentTemplateContainer</span><span class="sxs-lookup"><span data-stu-id="b8e9a-298">ContentTemplateContainer</span></span> | <span data-ttu-id="b8e9a-299">Controle</span><span class="sxs-lookup"><span data-stu-id="b8e9a-299">Control</span></span> | <span data-ttu-id="b8e9a-300">Obtém o modelo de programação para a solicitação de atualização.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-300">Gets the programmatic template for the update request.</span></span> |
| <span data-ttu-id="b8e9a-301">Gatilhos</span><span class="sxs-lookup"><span data-stu-id="b8e9a-301">Triggers</span></span> | <span data-ttu-id="b8e9a-302">UpdatePanel - TriggerCollection</span><span class="sxs-lookup"><span data-stu-id="b8e9a-302">UpdatePanel- TriggerCollection</span></span> | <span data-ttu-id="b8e9a-303">Obtém a lista de gatilhos associados com o UpdatePanel atual.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-303">Gets the list of triggers associated with the current UpdatePanel.</span></span> |

<span data-ttu-id="b8e9a-304">Métodos de código público:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-304">Public Code Methods:</span></span>

| <span data-ttu-id="b8e9a-305">**Nome do método**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-305">**Method Name**</span></span> | <span data-ttu-id="b8e9a-306">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-306">**Type**</span></span> | <span data-ttu-id="b8e9a-307">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-307">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b8e9a-308">Update)</span><span class="sxs-lookup"><span data-stu-id="b8e9a-308">Update()</span></span> | <span data-ttu-id="b8e9a-309">Void</span><span class="sxs-lookup"><span data-stu-id="b8e9a-309">Void</span></span> | <span data-ttu-id="b8e9a-310">Atualiza o UpdatePanel especificado por meio de programação.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-310">Updates the specified UpdatePanel programmatically.</span></span> <span data-ttu-id="b8e9a-311">Permite que uma solicitação de servidor disparar uma renderização parcial de um UpdatePanel caso contrário, não seja disparado.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-311">Allows a server request to trigger a partial render of an otherwise-untriggered UpdatePanel.</span></span> |

<span data-ttu-id="b8e9a-312">Descendentes de marcação:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-312">Markup Descendants:</span></span>

| <span data-ttu-id="b8e9a-313">**Marca**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-313">**Tag**</span></span> | <span data-ttu-id="b8e9a-314">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-314">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b8e9a-315">&lt;ContentTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-315">&lt;ContentTemplate&gt;</span></span> | <span data-ttu-id="b8e9a-316">Especifica a marcação a ser usado para renderizar o resultado da renderização parcial.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-316">Specifies the markup to be used to render the partial rendering result.</span></span> <span data-ttu-id="b8e9a-317">Filho de &lt;asp: UpdatePanel&gt;.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-317">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="b8e9a-318">&lt;Gatilhos&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-318">&lt;Triggers&gt;</span></span> | <span data-ttu-id="b8e9a-319">Especifica uma coleção de *n* controles associados à atualização esse UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-319">Specifies a collection of *n* controls associated with updating this UpdatePanel.</span></span> <span data-ttu-id="b8e9a-320">Filho de &lt;asp: UpdatePanel&gt;.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-320">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="b8e9a-321">&lt;asp:AsyncPostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-321">&lt;asp:AsyncPostBackTrigger&gt;</span></span> | <span data-ttu-id="b8e9a-322">Especifica um gatilho que invoca uma renderização de página parcial para o UpdatePanel determinado.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-322">Specifies a trigger that invokes a partial page render for the given UpdatePanel.</span></span> <span data-ttu-id="b8e9a-323">Isso pode ou não ser um controle como um descendente do UpdatePanel em questão.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-323">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="b8e9a-324">Granular para o nome do evento. Filho de &lt;gatilhos&gt;.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-324">Granular to the event name.Child of &lt;Triggers&gt;.</span></span> |
| <span data-ttu-id="b8e9a-325">&lt;asp:PostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-325">&lt;asp:PostBackTrigger&gt;</span></span> | <span data-ttu-id="b8e9a-326">Especifica um controle que faz com que toda a página Atualizar.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-326">Specifies a control that causes the entire page to refresh.</span></span> <span data-ttu-id="b8e9a-327">Isso pode ou não ser um controle como um descendente do UpdatePanel em questão.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-327">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="b8e9a-328">Granular para o objeto.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-328">Granular to the object.</span></span> <span data-ttu-id="b8e9a-329">Filho de &lt;gatilhos&gt;.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-329">Child of &lt;Triggers&gt;.</span></span> |

<span data-ttu-id="b8e9a-330">O `UpdatePanel` controle é o controle que delimita o conteúdo do lado do servidor que levará a parte na funcionalidade das extensões AJAX do processamento parcial.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-330">The `UpdatePanel` control is the control that delimits the server-side content that will take part in the partial rendering functionality of the AJAX Extensions.</span></span> <span data-ttu-id="b8e9a-331">Não há nenhum limite para o número de controles UpdatePanel que pode estar em uma página, e eles podem ser aninhados.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-331">There is no limit to the number of UpdatePanel controls that can be on a page, and they can be nested.</span></span> <span data-ttu-id="b8e9a-332">Cada UpdatePanel é isolado, de forma que cada um pode trabalhar de forma independente (você pode ter dois UpdatePanels em execução ao mesmo tempo, renderização de diferentes partes da página, independentemente do postback da página).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-332">Each UpdatePanel is isolated, so that each can work independently (you can have two UpdatePanels running at the same time, rendering different parts of the page, independent of the page's postback).</span></span>

<span data-ttu-id="b8e9a-333">O UpdatePanel controlar principalmente negociações com gatilhos de controle – por padrão, qualquer controle contido dentro de um UpdatePanel `ContentTemplate` que cria uma nova postagem for registrado como um disparador para o UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-333">The UpdatePanel control primarily deals with control triggers - by default, any control contained within an UpdatePanel's `ContentTemplate` that creates a postback is registered as a trigger for the UpdatePanel.</span></span> <span data-ttu-id="b8e9a-334">Isso significa que o UpdatePanel pode trabalhar com os controles de associação de dados padrão (como GridView), com controles de usuário, e eles podem ser programados no script.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-334">This means that the UpdatePanel can work with the default data-bound controls (such as the GridView), with user controls, and they can be programmed in script.</span></span>

<span data-ttu-id="b8e9a-335">Por padrão, quando uma renderização de página parcial é disparada, todos os controles UpdatePanel na página serão atualizados, ou não o UpdatePanel controla definidos gatilhos para tal ação.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-335">By default, when a partial page render is triggered, all UpdatePanel controls on the page will be refreshed, whether or not the UpdatePanel controls defined triggers for such action.</span></span> <span data-ttu-id="b8e9a-336">Por exemplo, se um UpdatePanel define um controle de botão, e esse controle de botão é clicado, todos os controles UpdatePanel na página serão atualizados por padrão.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-336">For example, if one UpdatePanel defines a Button control, and that Button control is clicked, all UpdatePanel controls on that page will be refreshed by default.</span></span> <span data-ttu-id="b8e9a-337">Isso ocorre porque, por padrão, o `UpdateMode` propriedade do UpdatePanel é definida como `Always`.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-337">This is because, by default, the `UpdateMode` property of the UpdatePanel is set to `Always`.</span></span> <span data-ttu-id="b8e9a-338">Como alternativa, você pode definir a propriedade UpdateMode `Conditional`, o que significa que o UpdatePanel só será atualizado se um gatilho específico for atingido.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-338">Alternatively, you may set the UpdateMode property to `Conditional`, which means that the UpdatePanel will only be refreshed if a specific trigger is hit.</span></span>

## <a name="custom-control-notes"></a><span data-ttu-id="b8e9a-339">Notas de controle personalizado</span><span class="sxs-lookup"><span data-stu-id="b8e9a-339">Custom Control Notes</span></span>

<span data-ttu-id="b8e9a-340">Um UpdatePanel pode ser adicionado a qualquer controle de usuário ou um controle personalizado; No entanto, a página em que esses controles estão incluídos também deve incluir um controle ScriptManager com a propriedade EnablePartialRendering definida como **verdadeira**.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-340">An UpdatePanel can be added to any user control or custom control; however, the page on which these controls are included must also include a ScriptManager control with the property EnablePartialRendering set to **true**.</span></span>

<span data-ttu-id="b8e9a-341">Uma maneira na qual você pode levar isso em conta ao usar controles personalizados da Web é substituir o protegido `CreateChildControls()` método da `CompositeControl` classe.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-341">One way in which you might account for this when using Web Custom Controls is to override the protected `CreateChildControls()` method of the `CompositeControl` class.</span></span> <span data-ttu-id="b8e9a-342">Ao fazer isso, você pode injetar um UpdatePanel entre os filhos do controle e o mundo se você determinar que a página dá suporte à renderização parcial; Caso contrário, você pode simplesmente dispor em camadas os controles filho em um contêiner `Control` instância.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-342">By doing so, you can inject an UpdatePanel between the control's children and the outside world if you determine the page supports partial rendering; otherwise, you can simply layer the child controls into a container `Control` instance.</span></span>

## <a name="updatepanel-considerations"></a><span data-ttu-id="b8e9a-343">Considerações de UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="b8e9a-343">UpdatePanel Considerations</span></span>

<span data-ttu-id="b8e9a-344">O UpdatePanel opera como uma caixa preta, quebra automática de postbacks ASP.NET dentro do contexto de um JavaScript XMLHttpRequest.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-344">The UpdatePanel operates as something of a black-box, wrapping ASP.NET postbacks within the context of a JavaScript XMLHttpRequest.</span></span> <span data-ttu-id="b8e9a-345">No entanto, há considerações de desempenho significativos para se ter em mente, tanto em termos de comportamento e a velocidade.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-345">However, there are significant performance considerations to bear in mind, both in terms of behavior and speed.</span></span> <span data-ttu-id="b8e9a-346">Para entender como funciona o UpdatePanel, para que você possa decidir com melhor quando seu uso é apropriado, você deve examinar a troca de AJAX.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-346">To understand how the UpdatePanel works, so that you can best decide when its use is appropriate, you should examine the AJAX exchange.</span></span> <span data-ttu-id="b8e9a-347">O exemplo a seguir usa um site existente e, Mozilla Firefox com a extensão Firebug (o Firebug captura dados de XMLHttpRequest).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-347">The following example uses an existing site and, Mozilla Firefox with the Firebug extension (Firebug captures XMLHttpRequest data).</span></span>

<span data-ttu-id="b8e9a-348">Considere a possibilidade de um formulário, entre outras coisas, com uma código postal de caixa de texto que deve para preencher um campo de cidade e estado em um formulário ou controle.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-348">Consider a form that, among other things, has a postal code textbox which is supposed to populate a city and state field on a form or control.</span></span> <span data-ttu-id="b8e9a-349">Esse formulário, por fim, coleta informações de associação, incluindo nome, endereço e informações de contato de um usuário.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-349">This form ultimately collects membership information, including a user's name, address, and contact information.</span></span> <span data-ttu-id="b8e9a-350">Existem muitas considerações de design para levar em conta, com base nos requisitos de um projeto específico.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-350">There are many design considerations to take into account, based on the requirements of a specific project.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image11.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image10.png)

<span data-ttu-id="b8e9a-351">([Clique para exibir a imagem em tamanho normal](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="b8e9a-351">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image14.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image13.png)

<span data-ttu-id="b8e9a-352">([Clique para exibir a imagem em tamanho normal](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="b8e9a-352">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span></span>


<span data-ttu-id="b8e9a-353">Na iteração original deste aplicativo, um controle foi criado que incorporado a totalidade dos dados de registro do usuário, incluindo o código postal, cidade e estado.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-353">In the original iteration of this application, a control was built that incorporated the entirety of the user registration data, including the postal code, city, and state.</span></span> <span data-ttu-id="b8e9a-354">Todo o controle foi encapsulado dentro de um UpdatePanel e solto em um formulário da Web.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-354">The entire control was wrapped within an UpdatePanel and dropped onto a Web Form.</span></span> <span data-ttu-id="b8e9a-355">Quando o código postal é inserido pelo usuário, o UpdatePanel detecta o evento (o evento TextChanged correspondente no back-end, especificando os gatilhos ou usando a propriedade ChildrenAsTriggers definida como verdadeira).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-355">When the postal code is entered by the user, the UpdatePanel detects the event (the corresponding TextChanged event in the back-end, either by specifying triggers or by using the ChildrenAsTriggers property set to true).</span></span> <span data-ttu-id="b8e9a-356">AJAX publica todos os campos dentro de UpdatePanel, capturados pelo FireBug (consulte o diagrama à direita).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-356">AJAX posts all of the fields within the UpdatePanel, as captured by FireBug (see the diagram on the right).</span></span>

<span data-ttu-id="b8e9a-357">Como indica a captura de tela, os valores de todos os controles dentro do UpdatePanel são entregues (nesse caso, eles estão vazios), bem como o campo de ViewState.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-357">As the screen capture indicates, values from every control within the UpdatePanel are delivered (in this case, they are all empty), as well as the ViewState field.</span></span> <span data-ttu-id="b8e9a-358">No total, mais de 9kb de dados é enviada, quando na verdade apenas cinco bytes de dados eram necessários para fazer essa solicitação específica.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-358">All told, over 9kb of data is sent, when in fact only five bytes of data were needed to make this particular request.</span></span> <span data-ttu-id="b8e9a-359">A resposta é ainda mais inflada: no total, 57kb é enviado ao cliente, simplesmente para atualizar um campo de texto e um campo de lista suspensa.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-359">The response is even more bloated: in total, 57kb is sent to the client, simply to update a text field and a drop-down field.</span></span>

<span data-ttu-id="b8e9a-360">Também pode ser de interesse para ver como o ASP.NET AJAX atualiza a apresentação.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-360">It may also be of interest to see how ASP.NET AJAX updates the presentation.</span></span> <span data-ttu-id="b8e9a-361">A parte da resposta da solicitação de atualização do UpdatePanel é mostrada na exibição do console Firebug à esquerda; ele é uma cadeia de delimitados desenvolvidas especialmente que é dividida pelo script de cliente e, em seguida, remontada na página.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-361">The response portion of the UpdatePanel's update request is shown in the Firebug console display on the left; it is a specially-formulated pipe-delimited string that is broken up by the client script and then reassembled on the page.</span></span> <span data-ttu-id="b8e9a-362">Especificamente, o ASP.NET AJAX define o *innerHTML* propriedade do elemento HTML no cliente que representa o UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-362">Specifically, ASP.NET AJAX sets the *innerHTML* property of the HTML element on the client that represents your UpdatePanel.</span></span> <span data-ttu-id="b8e9a-363">Como o navegador gera novamente o DOM, há um pequeno atraso, dependendo da quantidade de informações que precisam ser processada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-363">As the browser re-generates the DOM, there is a slight delay, depending on the amount of information that needs to be processed.</span></span>

<span data-ttu-id="b8e9a-364">A regeneração do DOM dispara uma série de problemas adicionais:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-364">The regeneration of the DOM triggers a number of additional issues:</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image17.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image16.png)

<span data-ttu-id="b8e9a-365">([Clique para exibir a imagem em tamanho normal](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="b8e9a-365">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span></span>


- <span data-ttu-id="b8e9a-366">Se o elemento HTML com foco está inserido no UpdatePanel, ele perderá o foco.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-366">If the focused HTML element is within the UpdatePanel, it will lose focus.</span></span> <span data-ttu-id="b8e9a-367">Portanto, para usuários que pressionado a tecla Tab para sair da caixa de texto de código postal, seu próximo destino teria sido a caixa de texto de cidade.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-367">So, for users who pressed the Tab key to exit the postal code text box, their next destination would have been the City text box.</span></span> <span data-ttu-id="b8e9a-368">No entanto, depois que o UpdatePanel atualizado a exibição, o formulário não teria foco e pressionar Tab teria iniciado realce os elementos de foco (como links).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-368">However, once the UpdatePanel refreshed the display, the form would no longer have had focus, and pressing Tab would have started highlighting the focus elements (such as links).</span></span>
- <span data-ttu-id="b8e9a-369">Se qualquer tipo de script personalizado do lado do cliente está em uso que acessa elementos de DOM, as referências mantidas pelas funções pode se tornarão extinto após um postback parcial.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-369">If any type of custom client-side script is in use that accesses DOM elements, references persisted by functions may become defunct after a partial postback.</span></span>

<span data-ttu-id="b8e9a-370">UpdatePanels não pretendem ser pega-tudo soluções.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-370">UpdatePanels are not intended to be catch-all solutions.</span></span> <span data-ttu-id="b8e9a-371">Em vez disso, eles fornecem uma solução rápida para determinadas situações, incluindo a criação de protótipos, atualizações de controle pequeno e fornecem uma interface familiar para os desenvolvedores do ASP.NET que podem estar familiarizado com o modelo de objeto do .NET, mas menor do que isso com o DOM.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-371">Rather, they provide a quick solution for certain situations, including prototyping, small control updates, and provide a familiar interface to ASP.NET developers who might be familiar with the .NET object model but less-so with the DOM.</span></span> <span data-ttu-id="b8e9a-372">Há uma série de alternativas que podem resultar em melhor desempenho, dependendo do cenário de aplicativo:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-372">There are a number of alternatives that may result in better performance, depending on the application scenario:</span></span>

- <span data-ttu-id="b8e9a-373">Considere usar o PageMethods e JSON (JavaScript Object Notation) permite que o desenvolvedor chamar métodos estáticos em uma página como se uma chamada de serviço da web foi que está sendo invocada.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-373">Consider using PageMethods and JSON (JavaScript Object Notation) allows the developer to invoke static methods on a page as if a web service call was being invoked.</span></span> <span data-ttu-id="b8e9a-374">Como os métodos são estáticos, sem estado é necessário; o chamador do script fornece os parâmetros, e o resultado é retornado de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-374">Because the methods are static, no state is necessary; the script caller supplies the parameters, and the result is returned asynchronously.</span></span>
- <span data-ttu-id="b8e9a-375">Considere o uso de um serviço Web e JSON se precisar de um único controle a ser usado em vários lugares através de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-375">Consider using a Web Service and JSON if a single control needs to be used in several places across an application.</span></span> <span data-ttu-id="b8e9a-376">Novamente, isso requer muito pouco trabalho especial e funciona de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-376">This again requires very little special work, and works asynchronously.</span></span>

<span data-ttu-id="b8e9a-377">Incorporar a funcionalidade por meio de serviços Web ou métodos de página tem desvantagens também.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-377">Incorporating functionality through Web Services or Page Methods has drawbacks as well.</span></span> <span data-ttu-id="b8e9a-378">Primeiramente, os desenvolvedores do ASP.NET é geralmente tendem a criar pequenos componentes de funcionalidade em controles de usuário (arquivos. ascx).</span><span class="sxs-lookup"><span data-stu-id="b8e9a-378">First and foremost, ASP.NET developers typically tend to build small components of functionality into user controls (.ascx files).</span></span> <span data-ttu-id="b8e9a-379">Métodos de página não podem ser hospedados nesses arquivos; eles devem ser hospedados dentro da classe de página. aspx real.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-379">Page methods cannot be hosted in these files; they must be hosted within the actual .aspx page class.</span></span> <span data-ttu-id="b8e9a-380">Da mesma forma, os serviços da Web, devem ser hospedados dentro da classe. asmx.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-380">Web services, similarly, must be hosted within the .asmx class.</span></span> <span data-ttu-id="b8e9a-381">Dependendo do aplicativo, essa arquitetura pode violar o princípio da responsabilidade única, em que a funcionalidade de um único componente agora é distribuída entre dois ou mais componentes físicos que podem ter pouco ou nenhum ties coesas.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-381">Depending on the application, this architecture may violate the Single Responsibility Principle, in that the functionality for a single component is now spread across two or more physical components which may have little or no cohesive ties.</span></span>

<span data-ttu-id="b8e9a-382">Por fim, se um aplicativo exigir que os UpdatePanels sejam usados, as diretrizes a seguir devem ajudar a solução de problemas e manutenção.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-382">Finally, if an application requires that UpdatePanels are used, the following guidelines should assist with troubleshooting and maintenance.</span></span>

- <span data-ttu-id="b8e9a-383">**Aninhar UpdatePanels mínimo possível, não apenas em unidades, mas também em unidades de código.**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-383">**Nest UpdatePanels as little as possible, not only within-units, but also across units of code.**</span></span> <span data-ttu-id="b8e9a-384">Por exemplo, um UpdatePanel em uma página que encapsula um controle, enquanto que o controle também contém um UpdatePanel, que contém o outro controle que contém um UpdatePanel, é ter o aninhamento de unidade entre.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-384">For example, having an UpdatePanel on a Page that wraps a Control, while that Control also contains an UpdatePanel, which contains another Control that contains an UpdatePanel, is cross-unit nesting.</span></span> <span data-ttu-id="b8e9a-385">Isso ajuda a manter claras, quais elementos devem ser atualizados e impede que atualizações inesperadas para o filho UpdatePanels.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-385">This helps to keep clear which elements should be refreshing, and prevents unexpected refreshes to child UpdatePanels.</span></span>
- <span data-ttu-id="b8e9a-386">**Manter o *ChildrenAsTriggers* propriedade definida como false e definir explicitamente o disparo de eventos.**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-386">**Keep the *ChildrenAsTriggers* property set to false, and explicitly set triggering events.**</span></span> <span data-ttu-id="b8e9a-387">Utilizando o `<Triggers>` coleção é uma maneira muito mais clara para manipular eventos e pode impedir que um comportamento inesperado, ajudando com tarefas de manutenção e forçar um desenvolvedor de participar de um evento.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-387">Utilizing the `<Triggers>` collection is a much clearer way to handle events, and may prevent unexpected behavior, helping with maintenance tasks and forcing a developer to opt-in for an event.</span></span>
- <span data-ttu-id="b8e9a-388">**Use a menor unidade possíveis para obter uma funcionalidade.**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-388">**Use the smallest possible unit to achieve functionality.**</span></span> <span data-ttu-id="b8e9a-389">Conforme observado na discussão sobre o serviço de código postal, quebra automática de que apenas o mínimo necessário reduz o tempo para o servidor, o processamento total e a superfície da troca de cliente-servidor, melhorando o desempenho.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-389">As noted in the discussion of the postal code service, wrapping only the bare minimum reduces time to the server, total processing, and the footprint of the client-server exchange, enhancing performance.</span></span>

## <a name="the-updateprogress-control"></a><span data-ttu-id="b8e9a-390">O controle UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="b8e9a-390">The UpdateProgress Control</span></span>

## <a name="updateprogress-control-reference"></a><span data-ttu-id="b8e9a-391">Referência de controle UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="b8e9a-391">UpdateProgress Control Reference</span></span>

<span data-ttu-id="b8e9a-392">Propriedades de marcação habilitada:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-392">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="b8e9a-393">**Nome da propriedade**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-393">**Property Name**</span></span> | <span data-ttu-id="b8e9a-394">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-394">**Type**</span></span> | <span data-ttu-id="b8e9a-395">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-395">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b8e9a-396">AssociatedUpdate-PanelID</span><span class="sxs-lookup"><span data-stu-id="b8e9a-396">AssociatedUpdate-PanelID</span></span> | <span data-ttu-id="b8e9a-397">Cadeia de Caracteres</span><span class="sxs-lookup"><span data-stu-id="b8e9a-397">String</span></span> | <span data-ttu-id="b8e9a-398">Especifica a ID do UpdatePanel que este UpdateProgress deve relatar.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-398">Specifies the ID of the UpdatePanel that this UpdateProgress should report on.</span></span> |
| <span data-ttu-id="b8e9a-399">DisplayAfter</span><span class="sxs-lookup"><span data-stu-id="b8e9a-399">DisplayAfter</span></span> | <span data-ttu-id="b8e9a-400">int</span><span class="sxs-lookup"><span data-stu-id="b8e9a-400">Int</span></span> | <span data-ttu-id="b8e9a-401">Especifica o tempo limite em milissegundos antes que esse controle é exibido após o início da solicitação assíncrona.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-401">Specifies the timeout in milliseconds before this control is displayed after the asynchronous request begins.</span></span> |
| <span data-ttu-id="b8e9a-402">DataDrivenLayout</span><span class="sxs-lookup"><span data-stu-id="b8e9a-402">DynamicLayout</span></span> | <span data-ttu-id="b8e9a-403">bool</span><span class="sxs-lookup"><span data-stu-id="b8e9a-403">bool</span></span> | <span data-ttu-id="b8e9a-404">Especifica se o progresso é renderizado dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-404">Specifies whether the progress is rendered dynamically.</span></span> |

<span data-ttu-id="b8e9a-405">Descendentes de marcação:</span><span class="sxs-lookup"><span data-stu-id="b8e9a-405">Markup Descendants:</span></span>

| <span data-ttu-id="b8e9a-406">**Marca**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-406">**Tag**</span></span> | <span data-ttu-id="b8e9a-407">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="b8e9a-407">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="b8e9a-408">&lt;ProgressTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="b8e9a-408">&lt;ProgressTemplate&gt;</span></span> | <span data-ttu-id="b8e9a-409">Contém o modelo de controle definido para o conteúdo que será exibido com esse controle.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-409">Contains the control template set for the content that will be displayed with this control.</span></span> |

<span data-ttu-id="b8e9a-410">O controle UpdateProgress fornece uma medida de comentários para manter o interesse dos seus usuários ao fazer o trabalho necessário para o transporte para o servidor.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-410">The UpdateProgress control gives you a measure of feedback to keep your users' interest while doing the necessary work to transport to the server.</span></span> <span data-ttu-id="b8e9a-411">Isso pode ajudar os usuários a saber o que você está fazendo algo, embora talvez não seja aparente, especialmente porque a maioria dos usuários são usados para a página de atualização e ver a barra de status de realce.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-411">This can help your users know that you're doing something even though it may not be apparent, especially since most users are used to the page refreshing and seeing the status bar highlight.</span></span>

<span data-ttu-id="b8e9a-412">Como uma observação, controles UpdateProgress podem aparecer em qualquer lugar em uma hierarquia de página.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-412">As a note, UpdateProgress controls can appear anywhere on a page hierarchy.</span></span> <span data-ttu-id="b8e9a-413">No entanto, em casos em que um postback parcial é iniciado a partir de um UpdatePanel (onde um UpdatePanel é aninhado dentro de outro UpdatePanel) filho, postbacks que disparam o filho UpdatePanel fará com que os modelos de UpdateProgress a serem exibidos para o filho UpdatePanel, bem como o pai do UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-413">However, in cases in which a partial postback is initiated from a child UpdatePanel (where an UpdatePanel is nested within another UpdatePanel), postbacks that trigger the child UpdatePanel will cause UpdateProgress templates to be displayed for the child UpdatePanel as well as the parent UpdatePanel.</span></span> <span data-ttu-id="b8e9a-414">Mas, se o gatilho é um filho direto do pai UpdatePanel, apenas os modelos de UpdateProgress associados ao pai serão exibidos.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-414">But, if the trigger is a direct child of the parent UpdatePanel, then only the UpdateProgress templates associated with the parent will be displayed.</span></span>

## <a name="summary"></a><span data-ttu-id="b8e9a-415">Resumo</span><span class="sxs-lookup"><span data-stu-id="b8e9a-415">Summary</span></span>

<span data-ttu-id="b8e9a-416">As extensões do Microsoft ASP.NET AJAX são produtos sofisticados, projetados para ajudar na criação de conteúdo da web mais acessíveis e fornecer uma experiência de usuário mais rica para seus aplicativos web.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-416">The Microsoft ASP.NET AJAX extensions are sophisticated products designed to assist in making web content more accessible and to provide a richer user experience to your web applications.</span></span> <span data-ttu-id="b8e9a-417">Como parte das extensões AJAX do ASP.NET, os controles de renderização parcial da página, incluindo os controles ScriptManager, o UpdatePanel e UpdateProgress é alguns dos componentes mais visíveis do Kit de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-417">As part of the ASP.NET AJAX Extensions, the partial page rendering controls, including the ScriptManager, the UpdatePanel, and UpdateProgress controls are some of the most visible components of the toolkit.</span></span>

<span data-ttu-id="b8e9a-418">O componente ScriptManager integra-se o provisionamento do cliente JavaScript para as extensões, bem como permite que os vários componentes de servidor e cliente trabalhar junto com o investimento de desenvolvimento mínimo.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-418">The ScriptManager component integrates the provision of client JavaScript for the Extensions, as well as enables the various server- and client-side components to work together with minimal development investment.</span></span>

<span data-ttu-id="b8e9a-419">O controle UpdatePanel é a caixa de mágico aparente - marcação dentro do UpdatePanel pode ter o code-behind do lado do servidor e não disparam uma atualização de página.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-419">The UpdatePanel control is the apparent magic box - markup within the UpdatePanel can have server-side Codebehind and not trigger a page refresh.</span></span> <span data-ttu-id="b8e9a-420">Controles UpdatePanel podem ser aninhados e podem ser dependentes de controles em demais UpdatePanels.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-420">UpdatePanel controls can be nested, and can be dependent on controls in other UpdatePanels.</span></span> <span data-ttu-id="b8e9a-421">Por padrão, o UpdatePanels tratar quaisquer postagens invocadas por seus controles descendentes, embora essa funcionalidade pode ser bem ajustada, ou declarativamente por meio de programação.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-421">By default, UpdatePanels handle any postbacks invoked by their descendant controls, although this functionality can be finely tuned, either declaratively or programmatically.</span></span>

<span data-ttu-id="b8e9a-422">Ao usar o controle UpdatePanel, os desenvolvedores devem estar cientes do impacto no desempenho que potencialmente pode surgir.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-422">When using the UpdatePanel control, developers should be aware of the performance impact that could potentially arise.</span></span> <span data-ttu-id="b8e9a-423">Possíveis alternativas incluem serviços da web e os métodos de página, embora o design do aplicativo deve ser considerado.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-423">Potential alternatives include web services and page methods, though the design of the application should be considered.</span></span>

<span data-ttu-id="b8e9a-424">O UpdateProgress controle permite que o usuário saiba o que ele não está sendo ignorado, e que a solicitação nos bastidores está acontecendo enquanto a página não fazer nada para responder à entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-424">The UpdateProgress control allows the user to know that she or he is not being ignored, and that the behind-the-scenes request is going on while the page is otherwise not doing anything to respond to the user input.</span></span> <span data-ttu-id="b8e9a-425">Ele também inclui a capacidade de anular os resultados do processamento parcial.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-425">It also includes the ability to abort partial rendering results.</span></span>

<span data-ttu-id="b8e9a-426">Juntas, essas ferramentas ajudam a criar uma experiência de usuário rica e perfeita, fazendo o trabalho de servidor menos aparente ao usuário e interromper o fluxo de trabalho menor.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-426">Together, these tools assist creating a rich and seamless user experience by making server work less apparent to the user and interrupting workflow less.</span></span>

## <a name="bio"></a><span data-ttu-id="b8e9a-427">Biografia</span><span class="sxs-lookup"><span data-stu-id="b8e9a-427">Bio</span></span>

<span data-ttu-id="b8e9a-428">Scott Cate tem trabalhado com tecnologias Web Microsoft desde 1997 e é o presidente da myKB.com ([www.myKB.com](http://www.myKB.com)) onde ele é especialista na escrita de ASP.NET com base em aplicativos com foco em soluções de Software da Base de dados de Conhecimento.</span><span class="sxs-lookup"><span data-stu-id="b8e9a-428">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="b8e9a-429">Scott pode ser contatado através do email [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com) ou em seu blog em [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="b8e9a-429">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="b8e9a-430">Avançar</span><span class="sxs-lookup"><span data-stu-id="b8e9a-430">Next</span></span>](understanding-asp-net-ajax-updatepanel-triggers.md)
